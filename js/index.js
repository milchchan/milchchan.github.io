!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=1)}([function(e,t,n){var r;e.exports=((r=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),t(++n%i.children.length)}),!1);var s=(performance||Date).now(),a=s,o=0,c=e(new r.Panel("FPS","#0ff","#002")),u=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(u.update(e-s,200),e>a+1e3&&(c.update(1e3*o/(e-a),100),a=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:i,setMode:t}}).Panel=function(e,t,n){var r=1/0,i=0,s=Math.round,a=s(window.devicePixelRatio||1),o=80*a,c=48*a,u=3*a,l=2*a,h=3*a,d=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=o,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,o,c),g.fillStyle=t,g.fillText(e,u,l),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(c,y){r=Math.min(r,c),i=Math.max(i,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,o,d),g.fillStyle=t,g.fillText(s(c)+" "+e+" ("+s(r)+"-"+s(i)+")",u,l),g.drawImage(m,h+a,d,f-a,p,h,d,f-a,p),g.fillRect(h+f-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-a,d,a,s((1-c/y)*p))}}},r)},function(e,t,n){"use strict";n.r(t);var r=n(0),i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},s={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var n=d(e),r=c(h.und(n[0])?1:n[0],.1,100),i=c(h.und(n[1])?100:n[1],.1,100),s=c(h.und(n[2])?10:n[2],.1,100),a=c(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/r),l=s/(2*Math.sqrt(i*r)),f=l<1?u*Math.sqrt(1-l*l):0,p=l<1?(l*u-a)/f:-a+u;function m(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=0,r=0;;)if(1===m(n+=1/6)){if(++r>=16)break}else r=0;var i=n*(1/6)*1e3;return o.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var m,g,y=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,i,s){return((e(i,s)*r+t(i,s))*r+n(i))*r}function i(r,i,s){return 3*e(i,s)*r*r+2*t(i,s)*r+n(i)}return function(e,t,n,s){if(0<=e&&e<=1&&0<=n&&n<=1){var a=new Float32Array(11);if(e!==t||n!==s)for(var o=0;o<11;++o)a[o]=r(.1*o,e,n);return function(i){return e===t&&n===s||0===i||1===i?i:r(c(i),t,s)}}function c(t){for(var s=0,o=1;10!==o&&a[o]<=t;++o)s+=.1;--o;var c=s+.1*((t-a[o])/(a[o+1]-a[o])),u=i(c,e,n);return u>=.001?function(e,t,n,s){for(var a=0;a<4;++a){var o=i(t,n,s);if(0===o)return t;t-=(r(t,n,s)-e)/o}return t}(t,c,e,n):0===u?c:function(e,t,n,i,s){var a,o,c=0;do{(a=r(o=t+(n-t)/2,i,s)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++c<10);return o}(t,s,s+.1,e,n)}}}(),v=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),r=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},m["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},m["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),m);function w(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],r=v[n],i=d(e);switch(n){case"spring":return f(e,t);case"cubicBezier":return l(y,i);case"steps":return l(p,i);default:return l(r,i)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var a=e[s];t.call(r,a,s,e)&&i.push(a)}return i}function k(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?k(t):t)}),[])}function M(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function I(e,t){return e.some((function(e){return e===t}))}function D(e){var t={};for(var n in e)t[n]=e[n];return t}function T(e,t){var n=D(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function L(e,t){var n=D(e);for(var r in t)n[r]=h.und(e[r])?t[r]:e[r];return n}function S(e){return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),s=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,o=parseInt(i[3],10)/100,c=i[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=o;else{var l=o<.5?o*(1+a):o+a-o*a,h=2*o-l;t=u(h,l,s+1/3),n=u(h,l,s),r=u(h,l,s-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+c+")"}(e):void 0;var t,n}function P(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function q(e,t){return e.getAttribute(t)}function C(e,t,n){if(I([n,"deg","rad","turn"],P(t)))return t;var r=o.CSS[t+n];if(!h.und(r))return r;var i=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;s.removeChild(i);var c=a*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?C(e,i,n):i}}function O(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(q(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&I(a,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function W(e){if(h.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function R(e,t,n,r){var i=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),s=W(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?C(e,s,r):s}function j(e,t,n,r){switch(O(e,t)){case"transform":return R(e,t,r,n);case"css":return E(e,t,n);case"attribute":return q(e,t);default:return e[t]||0}}function B(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=P(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function $(e,t){if(h.col(e))return S(e);if(/\s/g.test(e))return e;var n=P(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function H(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Q(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var s=n.getItem(i);i>0&&(r+=H(t,s)),t=s}return r}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*q(e,"r")}(e);case"rect":return function(e){return 2*q(e,"width")+2*q(e,"height")}(e);case"line":return function(e){return H({x:q(e,"x1"),y:q(e,"y1")},{x:q(e,"x2"),y:q(e,"y2")})}(e);case"polyline":return Q(e);case"polygon":return function(e){var t=e.points;return Q(e)+H(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),s=q(r,"viewBox"),a=i.width,o=i.height,c=n.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:a,h:o,vW:c[2],vH:c[3]}}function F(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var i=U(e.el,e.svg),s=r(),a=r(-1),o=r(1),c=n?1:i.w/i.vW,u=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*u;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=$(h.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:h.str(e)||t?r.split(n):[]}}function _(e){return x(e?k(h.arr(e)?e.map(M):M(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=_(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:W(e)}}}))}function z(e,t){var n=D(t);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),h.arr(e)){var r=e.length;2===r&&!h.obj(e[0])?e={value:e}:h.fnc(t.duration)||(n.duration=t.duration/r)}var i=h.arr(e)?e:[e];return i.map((function(e,n){var r=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(r.delay)&&(r.delay=n?0:t.delay),h.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return L(e,n)}))}function Z(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=L(function(e){for(var t=x(k(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)h.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)h.key(i)&&n.push({name:i,tweens:z(t[i],e)});return n}function J(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=A(e[r],t);h.arr(i)&&1===(i=i.map((function(e){return A(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),s=i.value,a=h.arr(s)?s[1]:s,o=P(a),c=j(t.target,e.name,o,t),u=n?n.to.original:c,l=h.arr(s)?s[0]:u,d=P(l)||P(c),f=o||d;return h.und(a)&&(a=u),i.from=V(l,f),i.to=V(B(a,l),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=w(i.easing,i.duration),i.isPath=h.pth(s),i.isPathTargetInsideSVG=i.isPath&&h.svg(t.target),i.isColor=h.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach((function(e,t){s+=t+"("+e+") "})),e.style.transform=s}}};function X(e,t){G(e).forEach((function(e){for(var n in t){var r=A(t[n],e),i=e.target,s=P(r),a=j(i,n,s,e),o=B($(r,s||P(a)),a),c=O(i,n);Y[c](i,n,o,e.transforms,!0)}}))}function K(e,t){return x(k(e.map((function(e){return t.map((function(t){return function(e,t){var n=O(e.target,t.name);if(n){var r=J(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function ee(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var te=0;var ne=[],re=function(){var e;function t(n){for(var r=ne.length,i=0;i<r;){var s=ne[i];s.paused?(ne.splice(i,1),r--):(s.tick(n),i++)}e=i>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){se.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(ne.forEach((function(e){return e._onDocumentVisibility()})),re()))})),function(){e||ie()&&se.suspendWhenDocumentHidden||!(ne.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function se(e){void 0===e&&(e={});var t,n=0,r=0,a=0,o=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var h=function(e){var t=T(i,e),n=T(s,e),r=Z(n,e),a=G(e.targets),o=K(a,r),c=ee(o,n),u=te;return te++,L(t,{id:u,children:[],animatables:a,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(h);function d(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function p(){n=0,r=f(h.currentTime)*(1/se.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=h.animations,r=n.length;t<r;){var i=n[t],s=i.animatable,a=i.tweens,o=a.length-1,u=a[o];o&&(u=x(a,(function(t){return e<t.end}))[0]||u);for(var l=c(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,y=void 0,v=0;v<g;v++){var w=void 0,b=u.to.numbers[v],k=u.from.numbers[v]||0;w=u.isPath?F(u.value,d*b,u.isPathTargetInsideSVG):k+d*(b-k),p&&(u.isColor&&v>2||(w=Math.round(w*p)/p)),m.push(w)}var M=f.length;if(M){y=f[0];for(var I=0;I<M;I++){f[I];var D=f[I+1],T=m[I];isNaN(T)||(y+=D?T+D:T+" ")}}else y=m[0];Y[i.type](s.target,i.property,y,s.transforms),i.currentValue=y,t++}}function y(e){h[e]&&!h.passThrough&&h[e](h)}function v(e){var i=h.duration,s=h.delay,p=i-h.endDelay,v=f(e);h.progress=c(v/i*100,0,100),h.reversePlayback=v<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=o;n--;)m(e,t[n]);else for(var r=0;r<o;r++)m(e,t[r])}(v),!h.began&&h.currentTime>0&&(h.began=!0,y("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,y("loopBegin")),v<=s&&0!==h.currentTime&&g(0),(v>=p&&h.currentTime!==i||!i)&&g(i),v>s&&v<p?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),g(v)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=c(v,0,i),h.began&&y("update"),e>=i&&(r=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=a,y("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&d()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),!h.passThrough&&"Promise"in window&&(u(),l(h)))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=o=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,g(h.reversed?h.duration:0)},h._onDocumentVisibility=p,h.set=function(e,t){return X(e,t),h},h.tick=function(e){a=e,n||(n=a),v((a+(r-n))*se.speed)},h.seek=function(e){v(f(e))},h.pause=function(){h.paused=!0,p()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,ne.push(h),p(),re())},h.reverse=function(){d(),h.completed=!h.reversed,p()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){oe(_(e),h)},h.reset(),h.autoplay&&h.play(),h}function ae(e,t){for(var n=t.length;n--;)I(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,r=t.children;ae(e,n);for(var i=r.length;i--;){var s=r[i],a=s.animations;ae(e,a),a.length||s.children.length||r.splice(i,1)}n.length||r.length||t.pause()}se.version="3.2.1",se.speed=1,se.suspendWhenDocumentHidden=!0,se.running=ne,se.remove=function(e){for(var t=_(e),n=ne.length;n--;){oe(t,ne[n])}},se.get=j,se.set=X,se.convertPx=C,se.path=function(e,t){var n=h.str(e)?b(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:N(n)*(r/100)}}},se.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},se.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?w(t.easing):null,i=t.grid,s=t.axis,a=t.from||0,o="first"===a,c="center"===a,u="last"===a,l=h.arr(e),d=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=P(l?e[1]:e)||0,m=t.start||0+(l?d:0),g=[],y=0;return function(e,t,h){if(o&&(a=0),c&&(a=(h-1)/2),u&&(a=h-1),!g.length){for(var v=0;v<h;v++){if(i){var w=c?(i[0]-1)/2:a%i[0],b=c?(i[1]-1)/2:Math.floor(a/i[0]),x=w-v%i[0],k=b-Math.floor(v/i[0]),M=Math.sqrt(x*x+k*k);"x"===s&&(M=-x),"y"===s&&(M=-k),g.push(M)}else g.push(Math.abs(a-v));y=Math.max.apply(Math,g)}r&&(g=g.map((function(e){return r(e/y)*y}))),"reverse"===n&&(g=g.map((function(e){return s?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(l?(f-d)/y:d)*(Math.round(100*g[t])/100)+p}},se.timeline=function(e){void 0===e&&(e={});var t=se(e);return t.duration=0,t.add=function(n,r){var i=ne.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&ne.splice(i,1);for(var c=0;c<a.length;c++)o(a[c]);var u=L(n,T(s,e));u.targets=u.targets||e.targets;var l=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=h.und(r)?l:B(r,l),o(t),t.seek(u.timelineOffset);var d=se(u);o(d),a.push(d);var f=ee(a,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},se.easing=w,se.penner=v,se.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ce=se;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();const ue="debug"===decodeURIComponent(window.location.hash.substring(1));let le=firebase.database(),he=firebase.storage();const de=new r;de.domElement.style.position="fixed",de.domElement.style.top="auto",de.domElement.style.bottom="0",de.domElement.style.left="auto",de.domElement.style.right="0",ue||de.domElement.classList.add("is-hidden");let fe=0;let pe=0;let me=0;window.addEventListener("load",e=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(e=>{e.onupdatefound=function(){e.update()}}).catch(e=>{console.error(e.code,e.message)}),navigator.serviceWorker.addEventListener("message",e=>{null!==navigator.serviceWorker.controller&&"command"in e.data&&"caches"===e.data.command&&navigator.serviceWorker.controller.postMessage({command:"clear",caches:e.data.caches})}));var t=Vue.createApp({data:()=>({isDebug:ue,isDarkMode:!1,isMuted:!0,isLoading:!1,isLocating:!1,isRevealed:!1,isOverlayed:!1,isBlinded:!1,isPopup:!1,isExpanded:!1,isLearning:!1,isAnimating:!1,isHangingOn:!1,isSubmitting:!1,isStared:!1,isLocked:!1,wrapperWidth:0,wrapperHeight:0,canvasWidth:0,canvasHeight:0,cachedImages:{},cachedSprites:[],animationQueue:[],elapsed:0,map:null,layer:null,mode:null,queryQueue:[],queryCache:{},cachedTracks:{},cachedDocuments:[],documentQueue:[],sequenceQueue:[],progress:null,user:null,input:"",animatedInputLength:0,maxInputLength:100,inputHasError:!1,messages:[],maxMessages:10,word:null,recentWords:[],tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,stars:-1,animatedStars:0,screenshot:null,notifications:[],recentImages:[],backgroundImagesQueue:[],backgroundImages:[],preloadImages:[],isUploading:!1,animations:null,currentAnimations:[],blendShapeAnimations:[],insetTop:0,insetBottom:0,text:[],popupTextHeight:0,animatedPopupTextHeight:0,tickerWidth:0,animatedTickerWidth:0,message:null,states:{},character:null,wordDictionary:{},reverseWordDictionary:{},attributes:["名前","所属","時間","場所","する事","生き物","食べ物","飲み物","聞くもの","見るもの","読むもの","使う物","身につけるもの","乗り物","部位","病気"]}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};ce({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll("#app>.background>div");if(e.length>1){const t=e.length-1,n=15;let r=0,i=null;for(const s of e){const a=[];for(let t=0;t<e.length;t++)t===r?a.push({visibility:"visible"}):a.push({visibility:"hidden"});const o=s.animate(a,{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0});null===i?i=o.startTime:o.startTime=i,r++}}})},deep:!0},text:{handler:()=>{t.$nextTick(()=>{t.isPopup&&(t.popupTextHeight=t.$refs.popupText.getBoundingClientRect().height)})},deep:!0},popupTextHeight(e){const t={height:this.animatedPopupTextHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedPopupTextHeight=t.height}})},stars(e){const t={count:this.animatedStars};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};ce({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{signIn:function(e){if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,idToken:t.idToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){const e=t.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:e}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,secret:t.secret}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential"),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"caches"})}).catch(e=>{console.error(e.code,e.message)})},refresh:function(e){this.update(!0)},share3:async function(e){const t=await navigator.permissions.query({name:"geolocation"});if("granted"==t.state||"prompt"==t.state)try{const t=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{e(t)},e=>{t(e)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),n=this,r=this.encodeGeohash(t.coords.latitude,t.coords.longitude),i=Math.floor(new Date/1e3);if(null===e){const e=await le.ref(`wonderland/users/${n.user.uid}/dictionary/words`).orderByValue().limitToLast(100).once("value"),s=e.exists()?e.val():null;await new Promise((e,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,tags:s,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async t=>{t?a(t):e()})})}else await new Promise((s,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,name:e.name,attributes:e.attributes,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async e=>{e?a(e):s()})});this.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:this.map.getZoom()<16?16:this.map.getZoom()})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}},update:async function(e=!1){this.isLoading=!0;const t=this,n=this.map.getCenter(),r=await this.fetch(e,n.latitude,n.longitude);if(e&&Object.keys(this.cachedTracks).forEach((function(e){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e]})),null!==r){const e=Math.floor(new Date/1e3);let n=!1;for(const i in r)for(const s of r[i]){let r=null;for(const e in this.cachedTracks)if(s.id===this.cachedTracks[e].id){r=e;break}if(null===r){const r=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude),{title:s.name,subTitle:this.formatTime(e-s.timestamp),icon:"/images/Marker-Star.svg"});this.setImage(r,s.user),this.cachedTracks[r.id]=s,this.cachedTracks[r.id].pushpin=r,this.cachedTracks[r.id].handlers=[Microsoft.Maps.Events.addHandler(r,"click",async e=>{t.mode=this.cachedTracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(r,"dblclick",e=>{window.location.hash=t.cachedTracks[e.target.id].id})],this.map.entities.push(r),n=!0}else if(s.timestamp>this.cachedTracks[r].timestamp){const t=this.cachedTracks[r].pushpin,i=this.cachedTracks[r].handlers;t.setLocation(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude)),t.setOptions({title:s.name,subTitle:this.formatTime(e-s.timestamp)}),this.setImage(t,s.user),this.cachedTracks[r]=s,this.cachedTracks[r].pushpin=t,this.cachedTracks[r].handlers=i,n=!0}}const i=[];for(const e in r)for(const t of r[e])i.push(t.id);if(Object.keys(this.cachedTracks).forEach((function(e){if(!i.some(n=>n===t.cachedTracks[e].id)){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e],n=!0}})),n){const e=10;try{const t=await new Promise(t=>{const n=Math.pow(10,-6);let i=[],s=[],a={};(new Date).getTime();let o={},c=[],u=n;for(const e in r){let t=[],n=[];for(const i of r[e])t.push(i.name),n.includes(i.name)||(i.name in a?a[i.name]+=1:a[i.name]=1,n.push(i.name));i.push(t)}for(const e in a)a[e]=Math.log(i.length/(a[e]+n));for(const e of i){let t={};for(const n of e)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.length,n in o||(o[n]=0);s.push(t)}for(const e in o)for(const t of s)if(e in t){const n=t[e]*a[e];n>o[e]&&(o[e]=n)}for(const e in o)e.length>1&&"..."!=e&&c.push({term:e,value:o[e]});c.sort((e,t)=>t.value-e.value),c.length>e&&c.splice(e);for(const e of c)e.value>u&&(u=e.value);for(const e of c)e.value/=u;c.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),t([i,c])});this.cachedDocuments.splice(0),this.tags.splice(0);for(const e of t[0])this.cachedDocuments.push(e);for(let e=0;e<t[1].length;e++)this.tags.push({index:e,name:t[1][e].term,score:t[1][e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}}}this.isLoading=!1},fetch:async function(e,t,n){const r=this,i=this.encodeGeohash(t,n,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]);let s=[i];const a=[],o={};let c=[],u=this.decodeGeohash(i);const l=Math.floor(new Date/1e3),h={};if(c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),i.length>2){const e=this.getNeighbors(i);for(const t in e)s.push(e[t]),u=this.decodeGeohash(e[t]),c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(c),this.queryQueue.push(i);for(const t of s){if(!e&&t in this.queryCache&&l-this.queryCache[t].timestamp<60){for(const e of this.queryCache[t].data)a.push(e),t in o?o[t].push(e):o[t]=[e];continue}const n=await le.ref("wonderland/tracks").orderByChild("key").limitToLast(50).startAt(t).endAt(t.padEnd(12,"z")+"").once("value");if(h[t]={timestamp:l,data:[]},n.exists()){const e=n.val();for(const n in e)e[n].id=n,a.push(e[n]),h[t].data.push(e[n]),t in o?o[t].push(e[n]):o[t]=[e[n]]}}if(this.queryQueue.shift(),this.queryQueue.length>0)return null;for(const e in h)this.queryCache[e]=h[e];Object.keys(this.queryCache).forEach((function(e){l-r.queryCache[e].timestamp>=60&&delete r.queryCache[e]}));const d=this.take(a.sort((e,t)=>t.timestamp-e.timestamp),100);return Object.keys(o).forEach((function(e){for(let t=o[e].length-1;t>0;t--)d.includes(o[e][t])||o[e].splice(t,1);0===o[e].length&&delete o[e]})),o},locate:async function(e){if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});if("granted"==e.state||"prompt"==e.state){const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}}else{const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}},move:function(e){this.notify({text:"hogehoge",accent:this.character.accent,image:this.character.image},1e5)},send:async function(e){if(this.isDebug)if(this.input.length>0){let e=[],t=[];for(const n of this.input.split(/\s/))this.backgroundImages.some(e=>e.id===n)?e.push(n):t.push(n);if(e.length>0&&t.length>0){for(const n of e)le.ref("wonderland/images/"+n).transaction((function(e){return e.tags=t,e}));this.isLearning=!1}else this.input.length<=this.maxInputLength&&(this.learn({name:this.input}),this.input="",this.isLearning=!1)}else for(const e of this.backgroundImages){this.input=e.id;break}else this.input.length>0&&this.input.length<=this.maxInputLength&&(this.learn({name:this.input}),this.input="",this.isLearning=!1)},setImage:async function(e,t,n=!1){if("image"in t){let n;try{n=await new Promise(async(e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=e=>{n(e)},t.image.startsWith("gs://")?r.src=await he.refFromURL(t.image).getDownloadURL():(r.crossOrigin="Anonymous",r.src=t.image)})}catch(t){return e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                            <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                                <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                    <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                                </g>\n                                <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                    <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                    <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                        <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                    </g>\n                                </g>\n                            </svg>'}),void console.error(t)}const r=document.createElement("canvas"),i=r.getContext("2d");r.width=n.width,r.height=n.height,i.drawImage(n,0,0,n.width,n.height);const s='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+r.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:s})}},change:function(e){this.input.length<=this.maxInputLength?this.inputHasError=!1:this.inputHasError=!0},upload:async function(e){function t(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}const n=this,r=he.ref(),i=[],s=[];for(const t of e.target.files)i.push(t);this.isUploading=!0;for(const e of i.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)){const a=r.child("images/"+t()).put(e);try{await new Promise((function(e,t){a.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes/i.length+s.length/i.length}),(function(e){t(e)}),(function(){e()}))}))}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}s.push(a.snapshot.ref.fullPath)}le.ref("wonderland/images").push({paths:s,timestamp:Math.floor(new Date/1e3)}),this.progress=null,this.isUploading=!1},learn:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=[],r=[];if("attributes"in e)for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}));else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).once("value");if(t.exists()){const e=t.val();for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}))}else for(const e of this.attributes)r.push({name:e,value:!1})}this.word={name:e.name,attributes:r},"user"in e&&(this.word.user=e.user);for(const r of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===r.type?n.push({type:r.type,speed:r.speed,duration:r.duration,text:t(r.text,e.name)}):n.push(r);n.length>0&&this.sequenceQueue.push(n)},check:function(e){for(const t of this.word.attributes)t===e.target.dataset.attribute&&(t.value=e.target.checked)},share:async function(e){const t=this,n=this.map.getCenter(),r=this.encodeGeohash(n.latitude,n.longitude),i={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL},s=Math.floor(new Date/1e3);e.name in this.wordDictionary&&delete this.wordDictionary[e.name],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.name)&&delete this.reverseWordDictionary[t]}),this.isSubmitting=!0,le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).transaction((function(t){if(!t){t={attributes:{},timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return"user"in e&&(t.user={id:e.user.id,name:e.user.name,image:e.user.image}),t}{let n=!1;for(const r of e.attributes){if(!(r.name in t.attributes)){n=!0;break}if(t.attributes[r.name]>0){if(!r.value){n=!0;break}}else if(r.value){n=!0;break}}if(n){let n=!0;const r={attributes:{}};for(const i of e.attributes)i.value?(i.name in t.attributes&&t.attributes[i.name]>0?r.attributes[i.name]=t.attributes[i.name]:r.attributes[i.name]=s,n=!1):r.attributes[i.name]=0;return n?null:(r.timestamp=s,r)}}}),(async function(a,o,c){if(o)if(c.exists()){const a=c.val(),o=[];for(const e in a.attributes)"number"==typeof a.attributes[e]&&a.attributes[e]>0&&t.attributes.includes(e)&&o.push(a.attributes[e]);if(1===o.length&&o[0]===s){function u(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const n of t.prepare(t.character.sequences.filter(e=>"Learned"===e.name)))"Message"===n.type&&t.notify({text:u(n.text,e.name),accent:t.character.accent,image:t.character.image});t.isStared=!0,window.setTimeout(()=>{t.isStared=!1},3e3),t.isMuted||t.$refs.twinkle.play()}"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(o){const c={};o?(o.key=`${r}${s}`,o.location={latitude:n.latitude,longitude:n.longitude},o.geohash=r,o.timestamp=s):o={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,user:i,timestamp:s};for(const e in a.attributes)t.attributes.includes(e)&&(c[e]=a.attributes[e]);return o.attributes=c,o}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}else le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return e&&e>1?e-1:null})),le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(e){return null}),(function(e,n,r){n?r.exists()||t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1}));else a?(t.notify({text:a.message,accent:t.character.accent,image:t.character.image}),console.error(a),t.isSubmitting=!1):"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(t){t={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,attributes:{},user:i,timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return t}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}))},next:async function(e,t=50){let n;if(n=null===e?await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().limitToFirst(t+1).once("value"):await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t+1).once("value"),"words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&this.mode.indexes.push(this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes});this.mode.words.length===t+1?this.mode.next=this.mode.words.pop():this.mode.next=null}},previous:async function(e,t=50){let n=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t).once("value");if("words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&(this.mode.next=this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes})}},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},check2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=this,r=Math.floor(new Date/1e3),i=e.target.checked,s=e.target.dataset.attribute,a=e.target.dataset.word,o={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL};e.target.dataset.word in this.wordDictionary&&delete this.wordDictionary[e.target.dataset.word],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.target.dataset.word)&&delete this.reverseWordDictionary[t]}),le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+a).transaction((function(e){if(e){if(!i){let t=!0;for(const r in e)if(r!=s&&"number"==typeof e[r]&&e[r]>0&&n.attributes.includes(r)){t=!1;break}return t?null:(e[s]=0,e.timestamp=r,e)}}else{e={};for(const t of n.attributes)t!=s&&(e[t]=0)}return e.name=a,e[s]=e.timestamp=r,"user"in e!=!1&&e.user.id!==o.id||(e.user=o),e}),(function(e,i,s){if(i){if(s.exists()){const e=s.val();let i=[];for(const t in e)"number"==typeof e[t]&&e[t]>0&&n.attributes.includes(t)&&i.push(e[t]);if(1===i.length&&i[0]===r){le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const r of n.prepare(n.character.sequences.filter(e=>"Learned"===e.name)))"Message"===r.type&&n.notify({text:t(r.text,e.name),accent:n.character.accent,image:n.character.image});n.isMuted||n.$refs.twinkle.play()}}else le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){if(e)return e-1}));n.word=null}else e&&(n.notify({text:e.message,accent:n.character.accent,image:n.character.image}),console.error(e))}))},learn2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}let n=[];for(const e of this.attributes)n.push({name:e,value:!1});if("object"==typeof e){const r=this,i={user:e.user,timestamp:Math.floor(new Date/1e3)};for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i[t]=e.attributes[t]:i[t]=0);try{const[s,a]=await new Promise((t,n)=>{le.ref("wonderland/users/"+r.user.uid+"/dictionary/words/"+e.name).transaction((function(e){if(null===e)return i}),(function(e,r,i){e?n(e):t([r,i])}))});if(s){if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}le.ref("wonderland/users/"+e.user.id+"/stars").transaction((function(e){return(e||0)+1}));for(const e of this.prepare(this.character.sequences.filter(e=>"Learned"===e.name)))"Message"===e.type&&this.notify({text:t(e.text,word.name),accent:this.character.accent,image:this.character.image})}else if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}e=e.name}else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e).once("value");if(t.exists()){const e=t.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}let r=[];this.word={name:e,attributes:n};for(const n of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===n.type?r.push({type:n.type,speed:n.speed,duration:n.duration,text:t(n.text,e)}):r.push(n);r.length>0&&this.sequenceQueue.push(r)},activate:async function(){if(fe=pe=0,this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();await this.talk(this.user.uid,e.filter(e=>e!==this.character.name))||this.talk(this.user.uid)}else this.talk(this.user.uid)},talk:async function(e,t=[]){let n=this.character.sequences.filter(e=>"Activate"===e.name),r=[];if(this.isLoading=!0,t.length>0){const i=Math.floor(new Date/1e3),s=3600,a=Object.assign({},this.states),o=new TinySegmenter,c=[],u=[];for(const n of t){if(n in this.wordDictionary==!1||i-this.wordDictionary[n].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+n).once("value");if(this.wordDictionary[n]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(let t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[n].attributes.push(t)}}for(const e of this.wordDictionary[n].attributes)c.includes(e)||c.push(e)}for(const l of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(n)){const n=this.prepare([l]);let h=!1;for(const a of n){if("Message"==a.type)for(const l of Array.isArray(a.text)?a.text:o.segment(a.text)){if(Array.isArray(l)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}if(l.length>1&&!u.includes(l)){if(l in this.wordDictionary==!1||i-this.wordDictionary[l].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+l).once("value");if(this.wordDictionary[l]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(const t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[l].attributes.push(t)}}for(const i of this.wordDictionary[l].attributes)if(c.includes(i)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}u.push(l)}}if(h){r.splice(0);break}}this.states=a}return this.isLoading=!1,!1}for(const t of this.prepare(n))if("Message"===t.type){const n=await this.generate(e,t.text);if(null===n)return this.isLoading=!1,!1;{let e,i;[e,i]=n,r.push({type:t.type,speed:t.speed,duration:t.duration,text:e})}}else r.push(t);return r.length>0?(this.sequenceQueue.push(r),this.isLoading=!1,!0):(this.isLoading=!1,!1)},generate:async function(e,t,n=[]){function r(e){let t=[],n=Number.MIN_VALUE,r=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);for(let t=0;t<e.length;t++)r+=Math.exp(e[t]-n);for(let i=0;i<e.length;i++)t.push(Math.exp(e[i]-n)/r);return t}const i=Math.floor(new Date/1e3);let s=new TinySegmenter,a=Array.isArray(t)?t:s.segment(t),o={},c=[],u=new RegExp("[.#$\\[\\]]"),l={},h="",d=0;const f=Math.pow(10,-6);let p=[{sequence:[],score:1}];for(const t of n){if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const e of this.wordDictionary[t].attributes)e in o?o[e].push(t):o[e]=[t]}for(const t of a){if(!c.includes(t)){if(Array.isArray(t)){let n=[],s=[];for(const r of t)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(const t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(a.includes(e)&&!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}else if(!u.test(t)){let n=[],s=[];if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const r of this.wordDictionary[t].attributes)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}c.push(t)}d++}const m=p[function(e){const t=Math.random();let n=0,r=0;for(let i of e){if(n<=t&&t<n+i)break;n+=i,r++}return r}(r(p.map(e=>e.score)))];for(let e=0;e<a.length;e++)if(a[e]in l)void 0===l[a[e]]?h+=a[e]:h+=l[a[e]];else{let t=!0;for(let n=0;n<m.sequence.length;n++)if(m.sequence[n].index==e){a[e]==m.sequence[n].term?l[a[e]]=void 0:(l[a[e]]=m.sequence[n].term,h+=m.sequence[n].term,t=!1);break}if(t){if(Array.isArray(a[e]))return null;h+=a[e]}}return[h,l]},notify:function(e,t=3e3){const n=this;e.id=window.setTimeout(e=>{for(let t=0;t<n.notifications.length;t++)if(n.notifications[t].id===e.id){n.notifications.splice(t,1);break}},t,e),this.notifications.unshift(e)},blinded:async function(){if(0==this.backgroundImagesQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.recentImages))this.backgroundImagesQueue.push(e)}const e=this.backgroundImagesQueue.shift();this.preloadImages.splice(0),this.backgroundImages.splice(0);for(const t of e.paths)try{this.preloadImages.push({id:e.id,url:await he.ref().child(t).getDownloadURL(),timestamp:e.timestamp})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}"tags"in e&&this.talk(this.user.uid,e.tags.filter(e=>e!==this.character.name))},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},scrollToTop(){this.$nextTick(()=>{window.scroll(0,0)})},scrollToEnd:function(){"number"==typeof this.scrollTimeoutID&&clearTimeout(this.scrollTimeoutID),this.scrollTimeoutID=setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),500)},formatDate:function(e){return moment.locale(window.navigator.language),moment(e).format("LT")},animationStart:function(e){this.isAnimating=!0},animationEnd:function(e){this.isPopup||(this.message=null),this.isAnimating=!1},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},arrange:function(e,t){let n=[],r=[];for(const i of e)r.length<t?r.push(i):(n.push(r),r=[i]);return n.push(r),n},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),r=Math.floor(t/3600),i=Math.floor(t/60);return n>0?n+"d":i>0?r>0?r+"h":i+"m":t%60+"s"},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},getDistance:function(e,t,n,r){var i=this.deg2rad(n-e),s=this.deg2rad(r-t),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const r=[16,8,4,2,1];var i=1,s=[],a=[],o=0,c=0;let u="";for(s[0]=-90,s[1]=90,a[0]=-180,a[1]=180;u.length<n;){if(i){const e=(a[0]+a[1])/2;t>e?(c|=r[o],a[0]=e):a[1]=e}else{const t=(s[0]+s[1])/2;e>t?(c|=r[o],s[0]=t):s[1]=t}i=!i,o<4?o++:(u+="0123456789bcdefghjkmnpqrstuvwxyz"[c],o=0,c=0)}return u},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,r=[],i=[];r[0]=-90,r[1]=90,i[0]=-180,i[1]=180;for(var s=0;s<e.length;s++)for(var a=e[s],o="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(a),c=0;c<5;c++){const e=t[c];n?(2,o&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2):(2,o&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2),n=!n}return r[2]=(r[0]+r[1])/2,i[2]=(i[0]+i[1])/2,{latitude:r[2],longitude:i[2],topleft:{latitude:r[0],longitude:i[0]},topright:{latitude:r[1],longitude:i[0]},bottomright:{latitude:r[1],longitude:i[1]},bottomleft:{latitude:r[0],longitude:i[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},r={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,r.bottom.odd=r.left.even,r.top.odd=r.right.even,r.left.odd=r.bottom.even,r.right.odd=r.top.even;var i=(e=e.toLowerCase()).charAt(e.length-1),s=e.length%2?"odd":"even",a=e.substring(0,e.length-1);return-1!=r[t][s].indexOf(i)&&(a=this.calculateAdjacent(a,t)),a+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][s].indexOf(i)]},prepare:function(e,t=null,n=null){function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let i=[],s=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n){if(!new RegExp(n.state).test(e))continue}i.push(n)}if(i.length>0){let e=[];for(const n of i[r(0,i.length)].sequence)null!==t&&(this.states[n.name]=t),e.push(n);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let i=[],s=[];for(const e of null===n?this.character.sequences:n){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let r=[];for(const i of n[n.length-1].sequence)if("Sequence"==i.type){if("sequence"in i){let t=!0;for(const n of e)if(n===i){t=!1;break}t&&r.push(i)}if(i===t)break}for(;r.length>0;)e.push(r.pop())}if("sequence"in t){let n=!0;for(const r of e)if(r===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)i.push(e.pop())}else i.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of i)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;s.push(e)}}else for(const e of i)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}s.push(e)}if(s.length>0){let t=0;for(const n of s[r(0,s.length)].sequence)e.splice(t,0,n),t++}}}else s.push(t)}}return s},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const r of e.sequence)if("Sequence"==r.type){let e=this.getSequenceStack(r,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n},animate:async function(e){if(requestAnimationFrame(this.animate),null!==this.character){const r=(e-this.elapsed)/1e3;let i=!1,s=!1;if(this.sequenceQueue.length>0)fe=0;else if(fe+=r,this.isLoading||(pe+=r),0==this.sequenceQueue.length)if(pe>=10){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();this.talk(this.user.uid,e.filter(e=>e!==this.character.name))}fe=pe=0}else fe>=5&&(this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Idle"===e.name))),fe=0);if(!this.isLocked&&this.sequenceQueue.length>0){const t=this.sequenceQueue[0];if(t.length>0)if("Animation"==t[0].type){if("images"in t[0])for(const e of t[0].images)this.animationQueue.push(e);t.shift()}else"Message"!=t[0].type||null!==this.message||i||s||(this.message={time:0,duration:t[0].duration,type:{elapsed:-1,speed:t[0].speed,reverse:!1,buffer:"",count:0},text:t[0].text},t.shift());else if(null===this.message&&!i&&!s&&0===this.animationQueue.length){const t=this;return Object.keys(this.cachedImages).forEach((function(e){t.cachedSprites.some(t=>t.source===e)||delete t.cachedImages[e]})),this.sequenceQueue.shift(),void(this.elapsed=e)}}if(null!==this.message){if(this.message.type.reverse)if(this.message.type.count>0){if(this.message.type.elapsed+=2*r,this.message.type.elapsed>=1/this.message.type.speed){if(this.message.type.count-1<this.message.text.length){let e=Math.floor(this.message.text.length/2);this.message.type.buffer.length<=e&&this.message.type.count>0&&(this.message.type.count-=1),this.message.type.buffer.length>0&&(this.message.type.buffer=this.message.type.buffer.substring(0,this.message.type.buffer.length-1))}this.message.type.elapsed=0}}else this.isPopup=!1;else if(this.message.type.buffer.length<this.message.text.length){if(this.message.type.elapsed>=0?this.message.type.elapsed+=r:this.isAnimating||(this.isPopup?this.message.type.elapsed=r:this.isPopup=!0),this.message.type.elapsed>=1/this.message.type.speed){let e=this.message.type.buffer.length,t=Math.floor(this.message.text.length/2),n=this.message.text.length;this.message.type.count>=t&&(this.message.type.buffer+=this.message.text.charAt(e)),this.message.type.count<n&&(this.message.type.count+=1),this.message.type.elapsed=0}}else this.message.time+=r,this.message.time>=this.message.duration&&(this.message.type.reverse=!0);if(this.message.text.length===this.message.type.buffer.length){const e=this.message.text.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else{let e=new Array,r="";for(let t=0;t<this.message.text.length;t++)-1==e.indexOf(this.message.text.charAt(t))&&"\n"!=this.message.text.charAt(t)&&null==this.message.text.charAt(t).match(/\s/)&&e.push(this.message.text.charAt(t));if(e.length>0)for(let i=0;i<this.message.type.count;i++)"\n"==this.message.text.charAt(i)?r+="\n":r+=e[(t=0,n=e.length,t=Math.ceil(t),n=Math.floor(n),~~(Math.floor(Math.random()*(n-t))+t))];if(r.length>this.message.type.buffer.length){const e=(this.message.type.buffer+r.substring(this.message.type.buffer.length,r.length)).split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else if(this.text.length!==this.message.type.buffer.length){const e=this.message.type.buffer.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}}}if(this.animationQueue.length>0){const e=this.animationQueue[0];if(!this.isLocked){const t=[];for(const e of this.animationQueue)t.push(e);this.isLocked=!0;for(const e of t)for(const t of e)if(t.source in this.cachedImages==!1)try{const e=await new Promise(async(e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=e=>{n(e)},r.crossOrigin="Anonymous",r.src=t.source});this.cachedImages[t.source]=e}catch(e){console.error(e)}this.isLocked=!1,this.render(e),this.animationQueue.shift()}}}var t,n;this.elapsed=e},render:function(e){const t=this.$refs.canvas.getContext("2d");t.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cachedSprites.splice(0);for(const n of e)n.source in this.cachedImages&&(t.globalAlpha="opacity"in n?n.opacity:1,t.drawImage(this.cachedImages[n.source],n.x*window.devicePixelRatio,n.y*window.devicePixelRatio,n.width*window.devicePixelRatio,n.height*window.devicePixelRatio)),this.cachedSprites.push(n)}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height;for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let t=0;for(const n of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))t+=n.getBoundingClientRect().width;t>0&&(this.tickerWidth=Math.min(t/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=t+"px")}},mounted:async function(){const e=this,t=localStorage.getItem("bot"),n=localStorage.getItem("credential");let r=null,i=[{path:"/assets/milch.json",probability:1}];if(t)try{const e=JSON.parse(t);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}if(n)try{r=JSON.parse(n)}catch(e){localStorage.removeItem("credential")}this.$refs.container.after(de.domElement),this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height,this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==e.user&&e.update()});try{this.progress=1;const e=await fetch(function(e,t){const n=Math.random();let r=0,i=0;for(let s of e){const e=t(s);if(r<=n&&n<r+e)break;r+=e,i++}return e[i]}(i,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)throw new Error(e.statusText);{const t=await e.json(),n=this.prepare(t.sequences.filter(e=>"Start"===e.name),null,t.sequences);this.progress=null,this.wrapperWidth=t.width,this.wrapperHeight=t.height,this.canvasWidth=t.width*window.devicePixelRatio,this.canvasHeight=t.height*window.devicePixelRatio;for(const e of n)if("Animation"==e.type&&"images"in e&&e.images.length>0){for(const t of e.images[0])if(t.source in this.cachedImages==!1)try{const e=await new Promise(async(e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=e=>{n(e)},r.crossOrigin="Anonymous",r.src=t.source});this.cachedImages[t.source]=e}catch(e){console.error(e)}this.render(e.images[0]);break}this.character=t,this.sequenceQueue.push(n)}}catch(e){this.progress=null,this.notify({text:e.message}),console.error(e)}this.animate(),null===r?(this.mode="sign-in",this.isRevealed=!0):r.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(r.idToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(r.accessToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(r.accessToken,r.secret)).catch(e=>{console.error(e.code,e.message)}):(this.mode="sign-in",this.isRevealed=!0),firebase.auth().onAuthStateChanged((function(t){t?(e.user=t,e.update(),le.ref("wonderland/users/"+t.uid+"/dictionary/count").on("value",t=>{const n=t.val();e.stars=null===n?0:n}),le.ref("wonderland/users/"+t.uid).orderByChild("dictionary/words/timestamp").limitToLast(10).on("value",t=>{if(t.exists()){const n=t.val();let r=[],i=0;for(const e in n)r.push({name:e,timestamp:n[e].timestamp});for(const t of e.prepare(e.character.sequences.filter(e=>"Alert"===e.name),10))"Message"===t.type&&(e.recentWords.splice(i,0,{name:t.text,image:e.character.image}),i++);for(const t of r.sort((e,t)=>t.timestamp-e.timestamp)){let n=-1;for(let r=0;r<e.recentWords.length;r++)if(e.recentWords[r].name==t.name){n=r;break}n>=0?(e.recentWords[n].timestamp<t.timestamp&&(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(n,1)):(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(i,0,t),i++}for(let t=e.recentWords.length-1;t>=i;t--)e.recentWords.splice(t,1)}})):null!==e.user&&(le.ref("wonderland/users/"+e.user.uid+"/dictionary/count").off("value"),le.ref("wonderland/users/"+e.user.uid).off("value"),e.user=null)}))},unmounted:function(){"number"==typeof this.tickIntervalID&&clearInterval(this.tickIntervalID),null!==vrmModel&&(scene.remove(vrmModel.scene),vrmModel=null)}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height,t.insetBottom=t.$refs.blank.getBoundingClientRect().height,t.wrapperWidth=t.character.width,t.wrapperHeight=t.character.height,t.canvasWidth=t.character.width*window.devicePixelRatio,t.canvasHeight=t.character.height*window.devicePixelRatio,t.animationQueue.unshift([].concat(t.cachedSprites))}),window.addEventListener("click",e=>{}),window.addEventListener("dblclick",e=>{t.talk(t.user.uid),pe=0}),window.addEventListener("mousedown",e=>{}),window.addEventListener("mousemove",e=>{}),window.addEventListener("mouseup",e=>{}),window.addEventListener("touchstart",e=>{e.stopPropagation(),0==me?(me++,setTimeout(()=>{me=0},500)):(t.talk(t.user.uid),pe=0,me=0)}),window.addEventListener("touchmove",e=>{e.stopPropagation()}),window.addEventListener("touchend",e=>{e.stopPropagation()}),window.addEventListener("touchcancel",e=>{e.stopPropagation()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmIiwiZSIsImEiLCJhcHBlbmRDaGlsZCIsImRvbSIsInUiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsIlBhbmVsIiwiaCIsInNlbGYiLCJtZW1vcnkiLCJSRVZJU0lPTiIsImFkZFBhbmVsIiwic2hvd1BhbmVsIiwiYmVnaW4iLCJlbmQiLCJ1cGRhdGUiLCJ1c2VkSlNIZWFwU2l6ZSIsImpzSGVhcFNpemVMaW1pdCIsInRoaXMiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJsb29wQmVnaW4iLCJjaGFuZ2VCZWdpbiIsImNoYW5nZSIsImNoYW5nZUNvbXBsZXRlIiwibG9vcENvbXBsZXRlIiwiY29tcGxldGUiLCJsb29wIiwiZGlyZWN0aW9uIiwiYXV0b3BsYXkiLCJ0aW1lbGluZU9mZnNldCIsImRlZmF1bHRUd2VlblNldHRpbmdzIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiZWFzaW5nIiwidmFsaWRUcmFuc2Zvcm1zIiwiY2FjaGUiLCJDU1MiLCJzcHJpbmdzIiwibWluTWF4IiwidmFsIiwic3RyaW5nQ29udGFpbnMiLCJzdHIiLCJ0ZXh0IiwiaW5kZXhPZiIsImFwcGx5QXJndW1lbnRzIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsImlzIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJzb2x2ZXIiLCJwcm9ncmVzcyIsImV4cCIsImNvcyIsInNpbiIsImNhY2hlZCIsImVsYXBzZWQiLCJyZXN0Iiwic3RlcHMiLCJjZWlsIiwiZWFzZXMiLCJmdW5jdGlvbkVhc2luZ3MiLCJiZXppZXIiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsIngiLCJnZXRURm9yWCIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJhYnMiLCJiaW5hcnlTdWJkaXZpZGUiLCJwZW5uZXIiLCJsaW5lYXIiLCJTaW5lIiwiUEkiLCJDaXJjIiwiQmFjayIsIkJvdW5jZSIsInBvdzIiLCJwb3ciLCJFbGFzdGljIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiYXNpbiIsImZvckVhY2giLCJrZXlzIiwiZWFzZUluIiwicGFyc2VFYXNpbmdzIiwiZWFzZSIsInNlbGVjdFN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWx0ZXJBcnJheSIsImNhbGxiYWNrIiwibGVuIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsInJlc3VsdCIsInB1c2giLCJmbGF0dGVuQXJyYXkiLCJyZWR1Y2UiLCJjb25jYXQiLCJ0b0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsInNsaWNlIiwiYXJyYXlDb250YWlucyIsInNvbWUiLCJjbG9uZU9iamVjdCIsImNsb25lIiwicmVwbGFjZU9iamVjdFByb3BzIiwibzEiLCJvMiIsIm1lcmdlT2JqZWN0cyIsImNvbG9yVG9SZ2IiLCJyZ2JWYWx1ZSIsImhleFZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwiaGV4VG9SZ2JhIiwiaHNsVmFsdWUiLCJodWUycmdiIiwiaHNsVG9SZ2JhIiwiZ2V0VW5pdCIsImdldEZ1bmN0aW9uVmFsdWUiLCJhbmltYXRhYmxlIiwidGFyZ2V0IiwiaWQiLCJ0b3RhbCIsImdldEF0dHJpYnV0ZSIsImVsIiwicHJvcCIsImNvbnZlcnRQeFRvVW5pdCIsInVuaXQiLCJ0ZW1wRWwiLCJ0YWdOYW1lIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiYm9keSIsInBvc2l0aW9uIiwiZmFjdG9yIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImNvbnZlcnRlZFVuaXQiLCJnZXRDU1NWYWx1ZSIsInVwcGVyY2FzZVByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldEFuaW1hdGlvblR5cGUiLCJnZXRFbGVtZW50VHJhbnNmb3JtcyIsInRyYW5zZm9ybSIsInJlZyIsInRyYW5zZm9ybXMiLCJNYXAiLCJzZXQiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInByb3BOYW1lIiwiZGVmYXVsdFZhbCIsImdldFRyYW5zZm9ybVVuaXQiLCJsaXN0IiwiZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSIsImdldFJlbGF0aXZlVmFsdWUiLCJ0byIsImZyb20iLCJvcGVyYXRvciIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwidmlld0JveCIsInZXIiwidkgiLCJnZXRQYXRoUHJvZ3Jlc3MiLCJwYXRoIiwiaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHIiwicG9pbnQiLCJvZmZzZXQiLCJnZXRQb2ludEF0TGVuZ3RoIiwicDAiLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImRlY29tcG9zZVZhbHVlIiwicmd4Iiwib3JpZ2luYWwiLCJudW1iZXJzIiwiTnVtYmVyIiwic3RyaW5ncyIsInBhcnNlVGFyZ2V0cyIsInRhcmdldHMiLCJpdGVtIiwicG9zIiwiZ2V0QW5pbWF0YWJsZXMiLCJwYXJzZWQiLCJub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyIsInR3ZWVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsInByb3BBcnJheSIsImdldFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwia2V5ZnJhbWVzIiwicHJvcGVydHlOYW1lcyIsIm5ld0tleSIsImZsYXR0ZW5LZXlmcmFtZXMiLCJ0d2VlbnMiLCJub3JtYWxpemVUd2VlbnMiLCJwcmV2aW91c1R3ZWVuIiwidHdlZW4iLCJub3JtYWxpemVUd2VlblZhbHVlcyIsInR3ZWVuVmFsdWUiLCJ0b1VuaXQiLCJvcmlnaW5hbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZyb21Vbml0Iiwic3RhcnQiLCJpc1BhdGgiLCJpc0NvbG9yIiwic2V0UHJvZ3Jlc3NWYWx1ZSIsImNzcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1hbnVhbCIsImxhc3QiLCJzZXRUYXJnZXRzVmFsdWUiLCJ2YWx1ZVVuaXQiLCJhbmltVHlwZSIsImdldEFuaW1hdGlvbnMiLCJhbmltYXRhYmxlcyIsImxhc3RUd2VlbiIsInR5cGUiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRJbnN0YW5jZVRpbWluZ3MiLCJhbmltYXRpb25zIiwiYW5pbUxlbmd0aCIsImdldFRsT2Zmc2V0IiwiYW5pbSIsInRpbWluZ3MiLCJpbnN0YW5jZUlEIiwiYWN0aXZlSW5zdGFuY2VzIiwiZW5naW5lIiwicmFmIiwic3RlcCIsImFjdGl2ZUluc3RhbmNlc0xlbmd0aCIsImFjdGl2ZUluc3RhbmNlIiwicGF1c2VkIiwic3BsaWNlIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVuZGVmaW5lZCIsImFuaW1lIiwic3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiIsImlzRG9jdW1lbnRIaWRkZW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImluc3RhbmNlIiwiX29uRG9jdW1lbnRWaXNpYmlsaXR5IiwiaGlkZGVuIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJjaGlsZHJlbkxlbmd0aCIsInJlc29sdmUiLCJtYWtlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJmaW5pc2hlZCIsImluc3RhbmNlU2V0dGluZ3MiLCJjcmVhdGVOZXdJbnN0YW5jZSIsInRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uIiwicmV2ZXJzZWQiLCJjaGlsZCIsImFkanVzdFRpbWUiLCJ0aW1lIiwicmVzZXRUaW1lIiwiY3VycmVudFRpbWUiLCJzcGVlZCIsInNlZWtDaGlsZCIsInNlZWsiLCJzZXRBbmltYXRpb25zUHJvZ3Jlc3MiLCJpbnNUaW1lIiwiYW5pbWF0aW9uc0xlbmd0aCIsInR3ZWVuTGVuZ3RoIiwiZWFzZWQiLCJpc05hTiIsInRvTnVtYmVyc0xlbmd0aCIsInRvTnVtYmVyIiwiZnJvbU51bWJlciIsInN0cmluZ3NMZW5ndGgiLCJuJDEiLCJjdXJyZW50VmFsdWUiLCJzZXRDYWxsYmFjayIsImNiIiwicGFzc1Rocm91Z2giLCJzZXRJbnN0YW5jZVByb2dyZXNzIiwiZW5naW5lVGltZSIsImluc0R1cmF0aW9uIiwiaW5zRGVsYXkiLCJpbnNFbmREZWxheSIsInJldmVyc2VQbGF5YmFjayIsImkkMSIsInN5bmNJbnN0YW5jZUNoaWxkcmVuIiwiYmVnYW4iLCJsb29wQmVnYW4iLCJjaGFuZ2VCZWdhbiIsImNoYW5nZUNvbXBsZXRlZCIsInJlbWFpbmluZyIsImNvbXBsZXRlZCIsInJlc2V0IiwicGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInJlc3RhcnQiLCJyZW1vdmUiLCJyZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlIiwicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zIiwidGFyZ2V0c0FycmF5IiwiY2hpbGRBbmltYXRpb25zIiwidmVyc2lvbiIsInJ1bm5pbmciLCJjb252ZXJ0UHgiLCJwZXJjZW50Iiwic2V0RGFzaG9mZnNldCIsInBhdGhMZW5ndGgiLCJzdGFnZ2VyIiwiZ3JpZCIsImF4aXMiLCJmcm9tSW5kZXgiLCJmcm9tRmlyc3QiLCJmcm9tQ2VudGVyIiwiZnJvbUxhc3QiLCJpc1JhbmdlIiwidmFsMSIsInZhbDIiLCJ2YWx1ZXMiLCJtYXhWYWx1ZSIsImluZGV4IiwiZnJvbVgiLCJmcm9tWSIsImZsb29yIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwidGltZWxpbmUiLCJ0bCIsImFkZCIsImluc3RhbmNlUGFyYW1zIiwidGxJbmRleCIsImlucyIsImluc1BhcmFtcyIsInRsRHVyYXRpb24iLCJyYW5kb20iLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhbmFseXRpY3MiLCJkZWJ1ZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImRhdGFiYXNlIiwic3RvcmFnZSIsInN0YXRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiY2xhc3NMaXN0IiwiaWRsZVRpbWUiLCJhY3RpdmF0ZVRpbWUiLCJ0YXBDb3VudCIsImV2ZW50IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIm9udXBkYXRlZm91bmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY29udHJvbGxlciIsImRhdGEiLCJjb21tYW5kIiwicG9zdE1lc3NhZ2UiLCJjYWNoZXMiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJpc0RlYnVnIiwiaXNEYXJrTW9kZSIsImlzTXV0ZWQiLCJpc0xvYWRpbmciLCJpc0xvY2F0aW5nIiwiaXNSZXZlYWxlZCIsImlzT3ZlcmxheWVkIiwiaXNCbGluZGVkIiwiaXNQb3B1cCIsImlzRXhwYW5kZWQiLCJpc0xlYXJuaW5nIiwiaXNBbmltYXRpbmciLCJpc0hhbmdpbmdPbiIsImlzU3VibWl0dGluZyIsImlzU3RhcmVkIiwiaXNMb2NrZWQiLCJ3cmFwcGVyV2lkdGgiLCJ3cmFwcGVySGVpZ2h0IiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjYWNoZWRJbWFnZXMiLCJjYWNoZWRTcHJpdGVzIiwiYW5pbWF0aW9uUXVldWUiLCJsYXllciIsInF1ZXJ5UXVldWUiLCJxdWVyeUNhY2hlIiwiY2FjaGVkVHJhY2tzIiwiY2FjaGVkRG9jdW1lbnRzIiwiZG9jdW1lbnRRdWV1ZSIsInNlcXVlbmNlUXVldWUiLCJ1c2VyIiwiaW5wdXQiLCJhbmltYXRlZElucHV0TGVuZ3RoIiwibWF4SW5wdXRMZW5ndGgiLCJpbnB1dEhhc0Vycm9yIiwibWVzc2FnZXMiLCJtYXhNZXNzYWdlcyIsIndvcmQiLCJyZWNlbnRXb3JkcyIsInRhZ3MiLCJtYXhUYWdzIiwic2Nyb2xsVGltZW91dElEIiwidGlja0ludGVydmFsSUQiLCJzdGFycyIsImFuaW1hdGVkU3RhcnMiLCJzY3JlZW5zaG90Iiwibm90aWZpY2F0aW9ucyIsInJlY2VudEltYWdlcyIsImJhY2tncm91bmRJbWFnZXNRdWV1ZSIsImJhY2tncm91bmRJbWFnZXMiLCJwcmVsb2FkSW1hZ2VzIiwiaXNVcGxvYWRpbmciLCJjdXJyZW50QW5pbWF0aW9ucyIsImJsZW5kU2hhcGVBbmltYXRpb25zIiwiaW5zZXRUb3AiLCJpbnNldEJvdHRvbSIsInBvcHVwVGV4dEhlaWdodCIsImFuaW1hdGVkUG9wdXBUZXh0SGVpZ2h0IiwidGlja2VyV2lkdGgiLCJhbmltYXRlZFRpY2tlcldpZHRoIiwic3RhdGVzIiwiY2hhcmFjdGVyIiwid29yZERpY3Rpb25hcnkiLCJyZXZlcnNlV29yZERpY3Rpb25hcnkiLCJhdHRyaWJ1dGVzIiwid2F0Y2giLCJuZXdWYWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibXV0ZSIsInJlbW92ZUl0ZW0iLCJ3b3JkcyIsImhhbmRsZXIiLCIkbmV4dFRpY2siLCJjbGlwIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZWVwIiwiZWxlbWVudHMiLCJmcmFtZVJhdGUiLCJ2aXNpYmlsaXR5IiwiYW5pbWF0aW9uIiwiYW5pbWF0ZSIsImZpbGwiLCJpdGVyYXRpb25zIiwiJHJlZnMiLCJwb3B1cFRleHQiLCJjb3VudCIsIm1ldGhvZHMiLCJzaWduSW4iLCJhdXRoIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiUFJPVklERVJfSUQiLCJzaWduSW5XaXRoUG9wdXAiLCJjcmVkZW50aWFsIiwicHJvdmlkZXJEYXRhIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVQcm9maWxlIiwiZGlzcGxheU5hbWUiLCJwaG90b1VSTCIsInByb3ZpZGVySWQiLCJhY2Nlc3NUb2tlbiIsImlkVG9rZW4iLCJGYWNlYm9va0F1dGhQcm92aWRlciIsInByb3ZpZGVyIiwiYWRkU2NvcGUiLCJUd2l0dGVyQXV0aFByb3ZpZGVyIiwicGhvdG9VcmwiLCJzZWNyZXQiLCJzaWduT3V0IiwicmVmcmVzaCIsInNoYXJlMyIsImFzeW5jIiwicGVybWlzc2lvblN0YXR1cyIsInBlcm1pc3Npb25zIiwicXVlcnkiLCJzdGF0ZSIsInJlamVjdCIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsIm1heGltdW1BZ2UiLCJnZW9oYXNoIiwiZW5jb2RlR2VvaGFzaCIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwidGltZXN0YW1wIiwic25hcHNob3QiLCJyZWYiLCJ1aWQiLCJvcmRlckJ5VmFsdWUiLCJsaW1pdFRvTGFzdCIsIm9uY2UiLCJleGlzdHMiLCJpbWFnZSIsInNldFZpZXciLCJjZW50ZXIiLCJNaWNyb3NvZnQiLCJNYXBzIiwiTG9jYXRpb24iLCJ6b29tIiwiZ2V0Wm9vbSIsIm5vdGlmeSIsImFjY2VudCIsImlnbm9yZSIsImNlbnRlckxvY2F0aW9uIiwiZ2V0Q2VudGVyIiwidHJhY2tzIiwiZmV0Y2giLCJoYW5kbGVySWQiLCJoYW5kbGVycyIsIkV2ZW50cyIsInJlbW92ZUhhbmRsZXIiLCJlbnRpdGllcyIsInB1c2hwaW4iLCJpc1VwZGF0ZWQiLCJ0cmFjayIsInB1c2hwaW5JZCIsIlB1c2hwaW4iLCJ0aXRsZSIsInN1YlRpdGxlIiwiZm9ybWF0VGltZSIsImljb24iLCJzZXRJbWFnZSIsImFkZEhhbmRsZXIiLCJzZXRMb2NhdGlvbiIsInNldE9wdGlvbnMiLCJpZHMiLCJyZXN1bHRzIiwiZXBzaWxvbiIsImRvY3VtZW50cyIsInRlcm1GcmVxdWVuY2llcyIsImludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSIsImdldFRpbWUiLCJzY29yZURpY3Rpb25hcnkiLCJzY29yZXMiLCJtYXhTY29yZSIsInRva2VucyIsInRlcm1TZXQiLCJpbmNsdWRlcyIsImxvZyIsInRmIiwidG9rZW4iLCJ0ZXJtRnJlcXVlbmN5IiwidGZpZGYiLCJ0ZXJtIiwic29ydCIsInNjb3JlIiwiY2VudGVyR2VvaGFzaCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiLCIxNSIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMjAiLCJnZW9oYXNoZXMiLCJ0ZW1wUmVjZW50IiwicHJpbWl0aXZlcyIsImRlY29kZUdlb2hhc2giLCJ0ZW1wQ2FjaGUiLCJQb2x5Z29uIiwidG9wbGVmdCIsInRvcHJpZ2h0IiwiYm90dG9tcmlnaHQiLCJib3R0b21sZWZ0IiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VUaGlja25lc3MiLCJuZWlnaGJvcnMiLCJnZXROZWlnaGJvcnMiLCJzZXRQcmltaXRpdmVzIiwiZGF0YWJhc2VSb290Iiwib3JkZXJCeUNoaWxkIiwic3RhcnRBdCIsImVuZEF0IiwicGFkRW5kIiwiZGljdGlvbmFyeSIsInNoaWZ0IiwicmVjZW50IiwidGFrZSIsImxvY2F0ZSIsIm1vdmUiLCJzZW5kIiwidHJhbnNhY3Rpb24iLCJsZWFybiIsInNlbGVjdGVkIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3RhcnRzV2l0aCIsInNyYyIsInJlZkZyb21VUkwiLCJnZXREb3dubG9hZFVSTCIsImNyb3NzT3JpZ2luIiwiY3R4IiwiaW5saW5lU3ZnIiwidG9EYXRhVVJMIiwidXBsb2FkIiwiZ2VuZXJhdGVVdWlkIiwiY2hhcnMiLCJqb2luIiwic3RvcmFnZVJlZiIsImZpbGVzIiwicGF0aHMiLCJmaWxlIiwidXBsb2FkVGFzayIsInB1dCIsIm9uIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJmdWxsUGF0aCIsImZvcm1hdCIsInNlcXVlbmNlIiwicHJlcGFyZSIsInNlcXVlbmNlcyIsImZpbHRlciIsImNoZWNrIiwiZGF0YXNldCIsImNoZWNrZWQiLCJzaGFyZSIsImN1cnJlbnQiLCJ1cGRhdGVSZXF1aXJlZCIsImRlbGV0ZVJlcXVpcmVkIiwiY29tbWl0dGVkIiwidGltZXN0YW1wcyIsInNldFRpbWVvdXQiLCJ0d2lua2xlIiwiZGlnZXN0TWVzc2FnZSIsIm5leHQiLCJsaW1pdCIsIm9yZGVyQnlLZXkiLCJsaW1pdFRvRmlyc3QiLCJpbmRleGVzIiwicG9wIiwicHJldmlvdXMiLCJtc2dVaW50OCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiaGFzaEJ1ZmZlciIsImNyeXB0byIsInN1YnRsZSIsImRpZ2VzdCIsIlVpbnQ4QXJyYXkiLCJwYWRTdGFydCIsImNoZWNrMiIsImlzQ2hlY2tlZCIsImxlYXJuMiIsImFjdGl2YXRlIiwiYXJyYXkiLCJ0ZW1wIiwic2h1ZmZsZSIsInRhbGsiLCJ1c2VySWQiLCJ0ZW1wU3RhdGVzIiwiYXNzaWduIiwic2VnbWVudGVyIiwiVGlueVNlZ21lbnRlciIsInRva2VuU2V0IiwicHJlcGFyZWRTZXF1ZW5jZSIsImlzQWJvcnRlZCIsInNlZ21lbnQiLCJnZW5lcmF0ZSIsImhpbnRzIiwic29mdG1heCIsIk1JTl9WQUxVRSIsInN1bSIsImhpbnREaWN0aW9uYXJ5IiwicmVnZXgiLCJSZWdFeHAiLCJjYWNoRGljdGlvbmFyeSIsInRlcm1zIiwiaXNOZXciLCJ0YWciLCJwcm9iYWJpbGl0aWVzIiwiY2FuZGlkYXRlcyIsImoiLCJjYW5kaWRhdGUiLCJwcm9iYWJpbGl0eSIsImNob2ljZSIsInVuc2hpZnQiLCJibGluZGVkIiwidXJsIiwibG9hZCIsImlzQ29tcGxldGVkIiwiaXNMb2FkZWQiLCJzY3JvbGwiLCJzY3JvbGxUb0VuZCIsImNsZWFyVGltZW91dCIsInNjcm9sbFRvIiwic2Nyb2xsSGVpZ2h0IiwiZm9ybWF0RGF0ZSIsIm1vbWVudCIsImxvY2FsZSIsImxhbmd1YWdlIiwiYW5pbWF0aW9uU3RhcnQiLCJhbmltYXRpb25FbmQiLCJ0aWNrZXJVcGRhdGVkIiwiYXJyYW5nZSIsImNvbGxlY3Rpb24iLCJyb3dzIiwiY29sdW1ucyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJsYXQxIiwibG9uMSIsImxhdDIiLCJsb24yIiwiZExhdCIsImRlZzJyYWQiLCJkTG9uIiwiZGVnIiwicHJlY2lzaW9uIiwiQklUUyIsImlzX2V2ZW4iLCJsYXQiLCJsb24iLCJiaXQiLCJjaCIsIm1pZCIsImNkIiwibWFzayIsInJpZ2h0R2VvaGFzaCIsImNhbGN1bGF0ZUFkamFjZW50IiwibGVmdEdlb2hhc2giLCJzcmNIYXNoIiwiZGlyIiwiTkVJR0hCT1JTIiwiZXZlbiIsIkJPUkRFUlMiLCJvZGQiLCJsYXN0Q2hyIiwiY2hhckF0IiwiYmFzZSIsInNlbGVjdGVkU2VxdWVuY2VzIiwiX3JhbmRvbSIsImNob29zZWRTZXF1ZW5jZXMiLCJmbGF0dGVuZWRTZXF1ZW5jZSIsInRlbXBTdGF0ZSIsInF1ZXVlIiwidHJhY2VkU2VxdWVuY2VzIiwiY2FsbGFibGVTZXF1ZW5jZXMiLCJzZXF1ZW5jZVN0YWNrIiwiZ2V0U2VxdWVuY2VTdGFjayIsInN0YWNrIiwicG9wcGVkU2VxdWVuY2UiLCJ0ZW1wU3RhY2siLCJ0ZW1wU2VxdWVuY2UiLCJzb3VyY2VTZXF1ZW5jZSIsInRhcmdldFNlcXVlbmNlIiwiZGVsdGFUaW1lIiwiaXNEZWZvcm1pbmciLCJpbWFnZXMiLCJidWZmZXIiLCJzb3VyY2UiLCJjaGFyYWN0ZXJzIiwiY2hhckFycmF5IiwicmFuZG9tQnVmZmVyIiwic3ByaXRlIiwicmVuZGVyIiwiY2FudmFzIiwiY2xlYXJSZWN0Iiwib3BhY2l0eSIsInVwZGF0ZWQiLCJpbmRpY2F0b3IiLCJibGFuayIsIm1vdW50ZWQiLCJib3RTdG9yYWdlSXRlbSIsImNyZWRlbnRpYWxTdG9yYWdlSXRlbSIsImJvdCIsInBhcnNlIiwiY29udGFpbmVyIiwiYWZ0ZXIiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJjYW52YXNMaWdodCIsImVuYWJsZUhpZ2hEcGkiLCJzaG93TG9jYXRlTWVCdXR0b24iLCJzaG93TWFwVHlwZVNlbGVjdG9yIiwic2hvd1pvb21CdXR0b25zIiwic2hvd1NjYWxlYmFyIiwic3VwcG9ydGVkTWFwVHlwZXMiLCJncmF5c2NhbGUiLCJjYW52YXNEYXJrIiwiTGF5ZXIiLCJzZXRWaXNpYmxlIiwibGF5ZXJzIiwiaW5zZXJ0IiwicmVzcG9uc2UiLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwic2lnbkluV2l0aENyZWRlbnRpYWwiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJ0ZW1wV29yZHMiLCJyZW1vdmVJbmRleCIsIm9mZiIsInVubW91bnRlZCIsImNsZWFySW50ZXJ2YWwiLCJ2cm1Nb2RlbCIsInNjZW5lIiwibW91bnQiLCJzdG9wUHJvcGFnYXRpb24iLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdB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QU84NkIsV0FBVyxnQ0FBZ0N2OEIsaUJBQWlCLFNBQVVaLElBQ3JFQSxFQUFFbzlCLFFBQ0ZwZCxFQUFJSSxZQUFhLEVBRWpCSixFQUFJSSxZQUFhIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanNcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLy8gc3RhdHMuanMgLSBodHRwOi8vZ2l0aHViLmNvbS9tcmRvb2Ivc3RhdHMuanNcbihmdW5jdGlvbihmLGUpe1wib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOmYuU3RhdHM9ZSgpfSkodGhpcyxmdW5jdGlvbigpe3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShhKXtjLmFwcGVuZENoaWxkKGEuZG9tKTtyZXR1cm4gYX1mdW5jdGlvbiB1KGEpe2Zvcih2YXIgZD0wO2Q8Yy5jaGlsZHJlbi5sZW5ndGg7ZCsrKWMuY2hpbGRyZW5bZF0uc3R5bGUuZGlzcGxheT1kPT09YT9cImJsb2NrXCI6XCJub25lXCI7bD1hfXZhciBsPTAsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Muc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OjAuOTt6LWluZGV4OjEwMDAwXCI7Yy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7XG51KCsrbCVjLmNoaWxkcmVuLmxlbmd0aCl9LCExKTt2YXIgaz0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpLGc9ayxhPTAscj1lKG5ldyBmLlBhbmVsKFwiRlBTXCIsXCIjMGZmXCIsXCIjMDAyXCIpKSxoPWUobmV3IGYuUGFuZWwoXCJNU1wiLFwiIzBmMFwiLFwiIzAyMFwiKSk7aWYoc2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5tZW1vcnkpdmFyIHQ9ZShuZXcgZi5QYW5lbChcIk1CXCIsXCIjZjA4XCIsXCIjMjAxXCIpKTt1KDApO3JldHVybntSRVZJU0lPTjoxNixkb206YyxhZGRQYW5lbDplLHNob3dQYW5lbDp1LGJlZ2luOmZ1bmN0aW9uKCl7az0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpfSxlbmQ6ZnVuY3Rpb24oKXthKys7dmFyIGM9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKTtoLnVwZGF0ZShjLWssMjAwKTtpZihjPmcrMUUzJiYoci51cGRhdGUoMUUzKmEvKGMtZyksMTAwKSxnPWMsYT0wLHQpKXt2YXIgZD1wZXJmb3JtYW5jZS5tZW1vcnk7dC51cGRhdGUoZC51c2VkSlNIZWFwU2l6ZS9cbjEwNDg1NzYsZC5qc0hlYXBTaXplTGltaXQvMTA0ODU3Nil9cmV0dXJuIGN9LHVwZGF0ZTpmdW5jdGlvbigpe2s9dGhpcy5lbmQoKX0sZG9tRWxlbWVudDpjLHNldE1vZGU6dX19O2YuUGFuZWw9ZnVuY3Rpb24oZSxmLGwpe3ZhciBjPUluZmluaXR5LGs9MCxnPU1hdGgucm91bmQsYT1nKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSxyPTgwKmEsaD00OCphLHQ9MyphLHY9MiphLGQ9MyphLG09MTUqYSxuPTc0KmEscD0zMCphLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtxLndpZHRoPXI7cS5oZWlnaHQ9aDtxLnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDo4MHB4O2hlaWdodDo0OHB4XCI7dmFyIGI9cS5nZXRDb250ZXh0KFwiMmRcIik7Yi5mb250PVwiYm9sZCBcIis5KmErXCJweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZlwiO2IudGV4dEJhc2VsaW5lPVwidG9wXCI7Yi5maWxsU3R5bGU9bDtiLmZpbGxSZWN0KDAsMCxyLGgpO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChlLHQsdik7XG5iLmZpbGxSZWN0KGQsbSxuLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQsbSxuLHApO3JldHVybntkb206cSx1cGRhdGU6ZnVuY3Rpb24oaCx3KXtjPU1hdGgubWluKGMsaCk7az1NYXRoLm1heChrLGgpO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0xO2IuZmlsbFJlY3QoMCwwLHIsbSk7Yi5maWxsU3R5bGU9ZjtiLmZpbGxUZXh0KGcoaCkrXCIgXCIrZStcIiAoXCIrZyhjKStcIi1cIitnKGspK1wiKVwiLHQsdik7Yi5kcmF3SW1hZ2UocSxkK2EsbSxuLWEscCxkLG0sbi1hLHApO2IuZmlsbFJlY3QoZCtuLWEsbSxhLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxnKCgxLWgvdykqcCkpfX19O3JldHVybiBmfSk7XG4iLCIvKlxuICogYW5pbWUuanMgdjMuMi4xXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIG5pbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLnVuZChhKSB8fCBhID09PSBudWxsOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfSxcbn07XG5cbi8vIEVhc2luZ3NcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSAvXFwoKFteKV0rKVxcKS8uZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGFyc2VGbG9hdChwKTsgfSkgOiBbXTtcbn1cblxuLy8gU3ByaW5nIHNvbHZlciBpbnNwaXJlZCBieSBXZWJraXQgQ29weXJpZ2h0IMKpIDIwMTYgQXBwbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuXG5mdW5jdGlvbiBzcHJpbmcoc3RyaW5nLCBkdXJhdGlvbikge1xuXG4gIHZhciBwYXJhbXMgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKTtcbiAgdmFyIG1hc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1swXSkgPyAxIDogcGFyYW1zWzBdLCAuMSwgMTAwKTtcbiAgdmFyIHN0aWZmbmVzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzFdKSA/IDEwMCA6IHBhcmFtc1sxXSwgLjEsIDEwMCk7XG4gIHZhciBkYW1waW5nID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMl0pID8gMTAgOiBwYXJhbXNbMl0sIC4xLCAxMDApO1xuICB2YXIgdmVsb2NpdHkgPSAgbWluTWF4KGlzLnVuZChwYXJhbXNbM10pID8gMCA6IHBhcmFtc1szXSwgLjEsIDEwMCk7XG4gIHZhciB3MCA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKTtcbiAgdmFyIHpldGEgPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICB2YXIgd2QgPSB6ZXRhIDwgMSA/IHcwICogTWF0aC5zcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXZlbG9jaXR5KSAvIHdkIDogLXZlbG9jaXR5ICsgdzA7XG5cbiAgZnVuY3Rpb24gc29sdmVyKHQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IChkdXJhdGlvbiAqIHQpIC8gMTAwMCA6IHQ7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICBwcm9ncmVzcyA9IE1hdGguZXhwKC1wcm9ncmVzcyAqIHpldGEgKiB3MCkgKiAoYSAqIE1hdGguY29zKHdkICogcHJvZ3Jlc3MpICsgYiAqIE1hdGguc2luKHdkICogcHJvZ3Jlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3MgPSAoYSArIGIgKiBwcm9ncmVzcykgKiBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB3MCk7XG4gICAgfVxuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICByZXR1cm4gMSAtIHByb2dyZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgdmFyIGNhY2hlZCA9IGNhY2hlLnNwcmluZ3Nbc3RyaW5nXTtcbiAgICBpZiAoY2FjaGVkKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgICB2YXIgZnJhbWUgPSAxLzY7XG4gICAgdmFyIGVsYXBzZWQgPSAwO1xuICAgIHZhciByZXN0ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBlbGFwc2VkICs9IGZyYW1lO1xuICAgICAgaWYgKHNvbHZlcihlbGFwc2VkKSA9PT0gMSkge1xuICAgICAgICByZXN0Kys7XG4gICAgICAgIGlmIChyZXN0ID49IDE2KSB7IGJyZWFrOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uID0gZWxhcHNlZCAqIGZyYW1lICogMTAwMDtcbiAgICBjYWNoZS5zcHJpbmdzW3N0cmluZ10gPSBkdXJhdGlvbjtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb24gPyBzb2x2ZXIgOiBnZXREdXJhdGlvbjtcblxufVxuXG4vLyBCYXNpYyBzdGVwcyBlYXNpbmcgaW1wbGVtZW50YXRpb24gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvQ1NTL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG5cbmZ1bmN0aW9uIHN0ZXBzKHN0ZXBzKSB7XG4gIGlmICggc3RlcHMgPT09IHZvaWQgMCApIHN0ZXBzID0gMTA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLmNlaWwoKG1pbk1heCh0LCAwLjAwMDAwMSwgMSkpICogc3RlcHMpICogKDEgLyBzdGVwcyk7IH07XG59XG5cbi8vIEJlemllckVhc2luZyBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmdcblxudmFyIGJlemllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICBmdW5jdGlvbiBBKGFBMSwgYUEyKSB7IHJldHVybiAxLjAgLSAzLjAgKiBhQTIgKyAzLjAgKiBhQTEgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTEgfVxuICBmdW5jdGlvbiBDKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTEgfVxuXG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVCB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikgeyByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKSB9XG5cbiAgZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBpZiAoY3VycmVudFggPiAwLjApIHsgYUIgPSBjdXJyZW50VDsgfSBlbHNlIHsgYUEgPSBjdXJyZW50VDsgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IDAuMDAwMDAwMSAmJiArK2kgPCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHsgcmV0dXJuIGFHdWVzc1Q7IH1cbiAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcblxuICAgIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkgeyByZXR1cm47IH1cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKTtcblxuICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclgoYVgpIHtcblxuICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG5cbiAgICAgIC0tY3VycmVudFNhbXBsZTtcblxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgdmFyIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuXG4gICAgICBpZiAoaW5pdGlhbFNsb3BlID49IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgeyByZXR1cm4geDsgfVxuICAgICAgaWYgKHggPT09IDAgfHwgeCA9PT0gMSkgeyByZXR1cm4geDsgfVxuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoeCksIG1ZMSwgbVkyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBiZXppZXI7XG5cbn0pKCk7XG5cbnZhciBwZW5uZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8vIEJhc2VkIG9uIGpRdWVyeSBVSSdzIGltcGxlbWVuYXRpb24gb2YgZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbiAgdmFyIGVhc2VzID0geyBsaW5lYXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9OyB9IH07XG5cbiAgdmFyIGZ1bmN0aW9uRWFzaW5ncyA9IHtcbiAgICBTaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7IH07IH0sXG4gICAgQ2lyYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsgfTsgfSxcbiAgICBCYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCAqIHQgKiAoMyAqIHQgLSAyKTsgfTsgfSxcbiAgICBCb3VuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgcG93MiwgYiA9IDQ7XG4gICAgICB3aGlsZSAodCA8ICgoIHBvdzIgPSBNYXRoLnBvdygyLCAtLWIpKSAtIDEpIC8gMTEpIHt9XG4gICAgICByZXR1cm4gMSAvIE1hdGgucG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIE1hdGgucG93KCggcG93MiAqIDMgLSAyICkgLyAyMiAtIHQsIDIpXG4gICAgfTsgfSxcbiAgICBFbGFzdGljOiBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICAgICAgaWYgKCBwZXJpb2QgPT09IHZvaWQgMCApIHBlcmlvZCA9IC41O1xuXG4gICAgICB2YXIgYSA9IG1pbk1heChhbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICAgIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCB8fCB0ID09PSAxKSA/IHQgOiBcbiAgICAgICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYmFzZUVhc2luZ3MgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnRXhwbyddO1xuXG4gIGJhc2VFYXNpbmdzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICBmdW5jdGlvbkVhc2luZ3NbbmFtZV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5wb3codCwgaSArIDIpOyB9OyB9O1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhmdW5jdGlvbkVhc2luZ3MpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZWFzZUluID0gZnVuY3Rpb25FYXNpbmdzW25hbWVdO1xuICAgIGVhc2VzWydlYXNlSW4nICsgbmFtZV0gPSBlYXNlSW47XG4gICAgZWFzZXNbJ2Vhc2VPdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBlYXNlSW4oYSwgYikoMSAtIHQpOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlSW5PdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyBlYXNlSW4oYSwgYikodCAqIDIpIC8gMiA6IFxuICAgICAgMSAtIGVhc2VJbihhLCBiKSh0ICogLTIgKyAyKSAvIDI7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VPdXRJbicgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/ICgxIC0gZWFzZUluKGEsIGIpKDEgLSB0ICogMikpIC8gMiA6IFxuICAgICAgKGVhc2VJbihhLCBiKSh0ICogMiAtIDEpICsgMSkgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmICghaXMubmlsKGdldEF0dHJpYnV0ZShlbCwgcHJvcCkpIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgICB2Vzogdmlld0JveFsyXSxcbiAgICB2SDogdmlld0JveFszXVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGgocGF0aCwgcGVyY2VudCkge1xuICB2YXIgcGF0aEVsID0gaXMuc3RyKHBhdGgpID8gc2VsZWN0U3RyaW5nKHBhdGgpWzBdIDogcGF0aDtcbiAgdmFyIHAgPSBwZXJjZW50IHx8IDEwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgIGVsOiBwYXRoRWwsXG4gICAgICBzdmc6IGdldFBhcmVudFN2ZyhwYXRoRWwpLFxuICAgICAgdG90YWxMZW5ndGg6IGdldFRvdGFsTGVuZ3RoKHBhdGhFbCkgKiAocCAvIDEwMClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aFByb2dyZXNzKHBhdGgsIHByb2dyZXNzLCBpc1BhdGhUYXJnZXRJbnNpZGVTVkcpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgdmFyIHNjYWxlWCA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcudyAvIHN2Zy52VztcbiAgdmFyIHNjYWxlWSA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcuaCAvIHN2Zy52SDtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc2NhbGVYO1xuICAgIGNhc2UgJ3knOiByZXR1cm4gKHAueSAtIHN2Zy55KSAqIHNjYWxlWTtcbiAgICBjYXNlICdhbmdsZSc6IHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG59XG5cbi8vIERlY29tcG9zZSB2YWx1ZVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgLy8gY29uc3Qgcmd4ID0gLy0/XFxkKlxcLj9cXGQrL2c7IC8vIGhhbmRsZXMgYmFzaWMgbnVtYmVyc1xuICAvLyBjb25zdCByZ3ggPSAvWystXT9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciByZ3ggPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcgPSB0d2Vlbi5pc1BhdGggJiYgaXMuc3ZnKGFuaW1hdGFibGUudGFyZ2V0KTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG5cbnZhciBlbmdpbmUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFmO1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCFyYWYgJiYgKCFpc0RvY3VtZW50SGlkZGVuKCkgfHwgIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pICYmIGFjdGl2ZUluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIC8vIG1lbW8gb24gYWxnb3JpdGhtIGlzc3VlOlxuICAgIC8vIGRhbmdlcm91cyBpdGVyYXRpb24gb3ZlciBtdXRhYmxlIGBhY3RpdmVJbnN0YW5jZXNgXG4gICAgLy8gKHRoYXQgY29sbGVjdGlvbiBtYXkgYmUgdXBkYXRlZCBmcm9tIHdpdGhpbiBjYWxsYmFja3Mgb2YgYHRpY2tgLWVkIGFuaW1hdGlvbiBpbnN0YW5jZXMpXG4gICAgdmFyIGFjdGl2ZUluc3RhbmNlc0xlbmd0aCA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICBpZiAoIWFjdGl2ZUluc3RhbmNlLnBhdXNlZCkge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmFmID0gaSA+IDAgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICghYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgeyByZXR1cm47IH1cblxuICAgIGlmIChpc0RvY3VtZW50SGlkZGVuKCkpIHtcbiAgICAgIC8vIHN1c3BlbmQgdGlja3NcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfSBlbHNlIHsgLy8gaXMgYmFjayB0byBhY3RpdmUgdGFiXG4gICAgICAvLyBmaXJzdCBhZGp1c3QgYW5pbWF0aW9ucyB0byBjb25zaWRlciB0aGUgdGltZSB0aGF0IHRpY2tzIHdlcmUgc3VzcGVuZGVkXG4gICAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24gKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSAuX29uRG9jdW1lbnRWaXNpYmlsaXR5KCk7IH1cbiAgICAgICk7XG4gICAgICBlbmdpbmUoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH1cblxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRIaWRkZW4oKSB7XG4gIHJldHVybiAhIWRvY3VtZW50ICYmIGRvY3VtZW50LmhpZGRlbjtcbn1cblxuLy8gUHVibGljIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGFuaW1lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cblxuICB2YXIgc3RhcnRUaW1lID0gMCwgbGFzdFRpbWUgPSAwLCBub3cgPSAwO1xuICB2YXIgY2hpbGRyZW4sIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgdmFyIHJlc29sdmUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1ha2VQcm9taXNlKGluc3RhbmNlKSB7XG4gICAgdmFyIHByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSAmJiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHsgcmV0dXJuIHJlc29sdmUgPSBfcmVzb2x2ZTsgfSk7XG4gICAgaW5zdGFuY2UuZmluaXNoZWQgPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKTtcbiAgdmFyIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uICE9PSAnYWx0ZXJuYXRlJykge1xuICAgICAgaW5zdGFuY2UuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9ICFpbnN0YW5jZS5yZXZlcnNlZDtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQucmV2ZXJzZWQgPSBpbnN0YW5jZS5yZXZlcnNlZDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lKCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgbGFzdFRpbWUgPSBhZGp1c3RUaW1lKGluc3RhbmNlLmN1cnJlbnRUaW1lKSAqICgxIC8gYW5pbWUuc3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vla0NoaWxkKHRpbWUsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkKSB7IGNoaWxkLnNlZWsodGltZSAtIGNoaWxkLnRpbWVsaW5lT2Zmc2V0KTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY0luc3RhbmNlQ2hpbGRyZW4odGltZSkge1xuICAgIGlmICghaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpJDFdKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgYW5pbWF0aW9uc0xlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgYW5pbWF0aW9uc0xlbmd0aCkge1xuICAgICAgdmFyIGFuaW0gPSBhbmltYXRpb25zW2ldO1xuICAgICAgdmFyIGFuaW1hdGFibGUgPSBhbmltLmFuaW1hdGFibGU7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbS50d2VlbnM7XG4gICAgICB2YXIgdHdlZW5MZW5ndGggPSB0d2VlbnMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1t0d2Vlbkxlbmd0aF07XG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBrZXlmcmFtZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0d2VlblxuICAgICAgaWYgKHR3ZWVuTGVuZ3RoKSB7IHR3ZWVuID0gZmlsdGVyQXJyYXkodHdlZW5zLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gKGluc1RpbWUgPCB0LmVuZCk7IH0pWzBdIHx8IHR3ZWVuOyB9XG4gICAgICB2YXIgZWxhcHNlZCA9IG1pbk1heChpbnNUaW1lIC0gdHdlZW4uc3RhcnQgLSB0d2Vlbi5kZWxheSwgMCwgdHdlZW4uZHVyYXRpb24pIC8gdHdlZW4uZHVyYXRpb247XG4gICAgICB2YXIgZWFzZWQgPSBpc05hTihlbGFwc2VkKSA/IDEgOiB0d2Vlbi5lYXNpbmcoZWxhcHNlZCk7XG4gICAgICB2YXIgc3RyaW5ncyA9IHR3ZWVuLnRvLnN0cmluZ3M7XG4gICAgICB2YXIgcm91bmQgPSB0d2Vlbi5yb3VuZDtcbiAgICAgIHZhciBudW1iZXJzID0gW107XG4gICAgICB2YXIgdG9OdW1iZXJzTGVuZ3RoID0gdHdlZW4udG8ubnVtYmVycy5sZW5ndGg7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAodm9pZCAwKTtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdG9OdW1iZXJzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKHZvaWQgMCk7XG4gICAgICAgIHZhciB0b051bWJlciA9IHR3ZWVuLnRvLm51bWJlcnNbbl07XG4gICAgICAgIHZhciBmcm9tTnVtYmVyID0gdHdlZW4uZnJvbS5udW1iZXJzW25dIHx8IDA7XG4gICAgICAgIGlmICghdHdlZW4uaXNQYXRoKSB7XG4gICAgICAgICAgdmFsdWUgPSBmcm9tTnVtYmVyICsgKGVhc2VkICogKHRvTnVtYmVyIC0gZnJvbU51bWJlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZ2V0UGF0aFByb2dyZXNzKHR3ZWVuLnZhbHVlLCBlYXNlZCAqIHRvTnVtYmVyLCB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmxvb3BCZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lIDw9IGluc0RlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoMCk7XG4gICAgfVxuICAgIGlmICgoaW5zVGltZSA+PSBpbnNFbmREZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gaW5zRHVyYXRpb24pIHx8ICFpbnNEdXJhdGlvbikge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc0R1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPiBpbnNEZWxheSAmJiBpbnNUaW1lIDwgaW5zRW5kRGVsYXkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUJlZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRDYWxsYmFjaygnY2hhbmdlJyk7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQ29tcGxldGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSBtaW5NYXgoaW5zVGltZSwgMCwgaW5zRHVyYXRpb24pO1xuICAgIGlmIChpbnN0YW5jZS5iZWdhbikgeyBzZXRDYWxsYmFjaygndXBkYXRlJyk7IH1cbiAgICBpZiAoZW5naW5lVGltZSA+PSBpbnNEdXJhdGlvbikge1xuICAgICAgbGFzdFRpbWUgPSAwO1xuICAgICAgY291bnRJdGVyYXRpb24oKTtcbiAgICAgIGlmICghaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJykge1xuICAgICAgICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnN0YW5jZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaW5zdGFuY2UucGFzc1Rocm91Z2ggPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IDA7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSAwO1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgaW5zdGFuY2UuYmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VkID0gZGlyZWN0aW9uID09PSAncmV2ZXJzZSc7XG4gICAgaW5zdGFuY2UucmVtYWluaW5nID0gaW5zdGFuY2UubG9vcDtcbiAgICBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbkxlbmd0aDsgaS0tOykgeyBpbnN0YW5jZS5jaGlsZHJlbltpXS5yZXNldCgpOyB9XG4gICAgaWYgKGluc3RhbmNlLnJldmVyc2VkICYmIGluc3RhbmNlLmxvb3AgIT09IHRydWUgfHwgKGRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScgJiYgaW5zdGFuY2UubG9vcCA9PT0gMSkpIHsgaW5zdGFuY2UucmVtYWluaW5nKys7IH1cbiAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiA6IDApO1xuICB9O1xuXG4gIC8vIGludGVybmFsIG1ldGhvZCAoZm9yIGVuZ2luZSkgdG8gYWRqdXN0IGFuaW1hdGlvbiB0aW1pbmdzIGJlZm9yZSByZXN0b3JpbmcgZW5naW5lIHRpY2tzIChyQUYpXG4gIGluc3RhbmNlLl9vbkRvY3VtZW50VmlzaWJpbGl0eSA9IHJlc2V0VGltZTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBlbmdpbmUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVtb3ZlID0gZnVuY3Rpb24odGFyZ2V0cykge1xuICAgIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKSB7XG4gIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpO1xuICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgdmFyIGNoaWxkQW5pbWF0aW9ucyA9IGNoaWxkLmFuaW1hdGlvbnM7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgfVxuICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH1cbn1cblxuLy8gU3RhZ2dlciBoZWxwZXJzXG5cbmZ1bmN0aW9uIHN0YWdnZXIodmFsLCBwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBwYXJhbXMuZGlyZWN0aW9uIHx8ICdub3JtYWwnO1xuICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyA/IHBhcnNlRWFzaW5ncyhwYXJhbXMuZWFzaW5nKSA6IG51bGw7XG4gIHZhciBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIHZhciBheGlzID0gcGFyYW1zLmF4aXM7XG4gIHZhciBmcm9tSW5kZXggPSBwYXJhbXMuZnJvbSB8fCAwO1xuICB2YXIgZnJvbUZpcnN0ID0gZnJvbUluZGV4ID09PSAnZmlyc3QnO1xuICB2YXIgZnJvbUNlbnRlciA9IGZyb21JbmRleCA9PT0gJ2NlbnRlcic7XG4gIHZhciBmcm9tTGFzdCA9IGZyb21JbmRleCA9PT0gJ2xhc3QnO1xuICB2YXIgaXNSYW5nZSA9IGlzLmFycih2YWwpO1xuICB2YXIgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFswXSkgOiBwYXJzZUZsb2F0KHZhbCk7XG4gIHZhciB2YWwyID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzFdKSA6IDA7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChpc1JhbmdlID8gdmFsWzFdIDogdmFsKSB8fCAwO1xuICB2YXIgc3RhcnQgPSBwYXJhbXMuc3RhcnQgfHwgMCArIChpc1JhbmdlID8gdmFsMSA6IDApO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwsIGksIHQpIHtcbiAgICBpZiAoZnJvbUZpcnN0KSB7IGZyb21JbmRleCA9IDA7IH1cbiAgICBpZiAoZnJvbUNlbnRlcikgeyBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjsgfVxuICAgIGlmIChmcm9tTGFzdCkgeyBmcm9tSW5kZXggPSB0IC0gMTsgfVxuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goTWF0aC5hYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCVncmlkWzBdIDogKGdyaWRbMF0tMSkvMjtcbiAgICAgICAgICB2YXIgZnJvbVkgPSAhZnJvbUNlbnRlciA/IE1hdGguZmxvb3IoZnJvbUluZGV4L2dyaWRbMF0pIDogKGdyaWRbMV0tMSkvMjtcbiAgICAgICAgICB2YXIgdG9YID0gaW5kZXglZ3JpZFswXTtcbiAgICAgICAgICB2YXIgdG9ZID0gTWF0aC5mbG9vcihpbmRleC9ncmlkWzBdKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VYID0gZnJvbVggLSB0b1g7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGguc3FydChkaXN0YW5jZVggKiBkaXN0YW5jZVggKyBkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xuICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHsgdmFsdWUgPSAtZGlzdGFuY2VYOyB9XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVk7IH1cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGVhc2luZykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGVhc2luZyh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZTsgfSk7IH1cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyZXZlcnNlJykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBNYXRoLmFicyhtYXhWYWx1ZSAtIHZhbCk7IH0pOyB9XG4gICAgfVxuICAgIHZhciBzcGFjaW5nID0gaXNSYW5nZSA/ICh2YWwyIC0gdmFsMSkgLyBtYXhWYWx1ZSA6IHZhbDE7XG4gICAgcmV0dXJuIHN0YXJ0ICsgKHNwYWNpbmcgKiAoTWF0aC5yb3VuZCh2YWx1ZXNbaV0gKiAxMDApIC8gMTAwKSkgKyB1bml0O1xuICB9XG59XG5cbi8vIFRpbWVsaW5lXG5cbmZ1bmN0aW9uIHRpbWVsaW5lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIHRsID0gYW5pbWUocGFyYW1zKTtcbiAgdGwuZHVyYXRpb24gPSAwO1xuICB0bC5hZGQgPSBmdW5jdGlvbihpbnN0YW5jZVBhcmFtcywgdGltZWxpbmVPZmZzZXQpIHtcbiAgICB2YXIgdGxJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHRsKTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0bC5jaGlsZHJlbjtcbiAgICBpZiAodGxJbmRleCA+IC0xKSB7IGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UodGxJbmRleCwgMSk7IH1cbiAgICBmdW5jdGlvbiBwYXNzVGhyb3VnaChpbnMpIHsgaW5zLnBhc3NUaHJvdWdoID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgcGFzc1Rocm91Z2goY2hpbGRyZW5baV0pOyB9XG4gICAgdmFyIGluc1BhcmFtcyA9IG1lcmdlT2JqZWN0cyhpbnN0YW5jZVBhcmFtcywgcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpKTtcbiAgICBpbnNQYXJhbXMudGFyZ2V0cyA9IGluc1BhcmFtcy50YXJnZXRzIHx8IHBhcmFtcy50YXJnZXRzO1xuICAgIHZhciB0bER1cmF0aW9uID0gdGwuZHVyYXRpb247XG4gICAgaW5zUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgaW5zUGFyYW1zLmRpcmVjdGlvbiA9IHRsLmRpcmVjdGlvbjtcbiAgICBpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQgPSBpcy51bmQodGltZWxpbmVPZmZzZXQpID8gdGxEdXJhdGlvbiA6IGdldFJlbGF0aXZlVmFsdWUodGltZWxpbmVPZmZzZXQsIHRsRHVyYXRpb24pO1xuICAgIHBhc3NUaHJvdWdoKHRsKTtcbiAgICB0bC5zZWVrKGluc1BhcmFtcy50aW1lbGluZU9mZnNldCk7XG4gICAgdmFyIGlucyA9IGFuaW1lKGluc1BhcmFtcyk7XG4gICAgcGFzc1Rocm91Z2goaW5zKTtcbiAgICBjaGlsZHJlbi5wdXNoKGlucyk7XG4gICAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoY2hpbGRyZW4sIHBhcmFtcyk7XG4gICAgdGwuZGVsYXkgPSB0aW1pbmdzLmRlbGF5O1xuICAgIHRsLmVuZERlbGF5ID0gdGltaW5ncy5lbmREZWxheTtcbiAgICB0bC5kdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgdGwuc2VlaygwKTtcbiAgICB0bC5yZXNldCgpO1xuICAgIGlmICh0bC5hdXRvcGxheSkgeyB0bC5wbGF5KCk7IH1cbiAgICByZXR1cm4gdGw7XG4gIH07XG4gIHJldHVybiB0bDtcbn1cblxuYW5pbWUudmVyc2lvbiA9ICczLjIuMSc7XG5hbmltZS5zcGVlZCA9IDE7XG4vLyBUT0RPOiNyZXZpZXc6IG5hbWluZywgZG9jdW1lbnRhdGlvblxuYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG5hbmltZS5ydW5uaW5nID0gYWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUucmVtb3ZlID0gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iLCJpbXBvcnQgKiBhcyBTdGF0cyBmcm9tICdzdGF0cy5qcydcclxuaW1wb3J0IGFuaW1lIGZyb20gJ2FuaW1lanMvbGliL2FuaW1lLmVzLmpzJztcclxuXHJcbi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxudmFyIGZpcmViYXNlQ29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeURUVnhESmo3cnFHOUwtQ2x2YmEyVGFvOUIwaGtjeGpjRVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJtaWxjaGNoYW4uZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL21pbGNoY2hhbi5maXJlYmFzZWlvLmNvbVwiLFxyXG4gICAgcHJvamVjdElkOiBcIm1pbGNoY2hhblwiLFxyXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJtaWxjaGNoYW4uYXBwc3BvdC5jb21cIixcclxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjM1NTY5ODk3MTg4OVwiLFxyXG4gICAgYXBwSWQ6IFwiMTozNTU2OTg5NzE4ODk6d2ViOmUzNjUzYzVjMzFiZDcyODljZDQ1NTBcIixcclxuICAgIG1lYXN1cmVtZW50SWQ6IFwiRy0zOTk4RkpZTldYXCJcclxufTtcclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuZmlyZWJhc2UuYW5hbHl0aWNzKCk7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpID09PSBcImRlYnVnXCI7XHJcbi8vY29uc3QgY2hhbm5lbCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpO1xyXG5jb25zdCBkYXRhYmFzZVJvb3QgPSBcIndvbmRlcmxhbmRcIjtcclxuLy9jb25zdCBkYXRhYmFzZUNoYW5uZWwgPSBjaGFubmVsLmxlbmd0aCA+IDAgPyBkYXRhYmFzZVJvb3QgKyAnL2NoYW5uZWxzLycgKyBjaGFubmVsIDogZGF0YWJhc2VSb290O1xyXG5jb25zdCBkYXRhYmFzZU1lc3NhZ2VzID0gZGF0YWJhc2VSb290ICsgXCIvZmVlZFwiO1xyXG5sZXQgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpO1xyXG5sZXQgc3RvcmFnZSA9IGZpcmViYXNlLnN0b3JhZ2UoKTtcclxuY29uc3QgbWlsY2ggPSB7IG5hbWU6IFwi44Of44Or44OS44Gh44KD44KTXCIsIGFjY2VudDogXCIjZmZhNmJiXCIsIGltYWdlOiBcIi9pbWFnZXMvTWlsY2gucG5nXCIgfTtcclxuY29uc3QgbWVya3UgPSB7IG5hbWU6IFwi44Oh44Or44Kv44Gh44KD44KTXCIsIGFjY2VudDogXCIjNWJjYmUxXCIsIGltYWdlOiBcIi9pbWFnZXMvTWVya3UucG5nXCIgfTtcclxuY29uc3Qgc3RhdHMgPSBuZXcgU3RhdHMoKTtcclxuXHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gXCJhdXRvXCI7XHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUuYm90dG9tID0gXCIwXCI7XHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnJpZ2h0ID0gXCIwXCI7XHJcblxyXG5pZiAoIWRlYnVnKSB7XHJcbiAgICBzdGF0cy5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1oaWRkZW5cIik7XHJcbn1cclxuXHJcbmxldCBpZGxlVGltZSA9IDAuMDtcclxuY29uc3QgYmxpbmtUaHJlc2hvbGQgPSA1LjA7XHJcbmxldCBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbmNvbnN0IGFjdGl2YXRlVGhyZXNob2xkID0gMTAuMDtcclxubGV0IHRhcENvdW50ID0gMDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoZXZlbnQpID0+IHtcclxuICAgIGlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihcInN3LmpzXCIpLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcclxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uLm9udXBkYXRlZm91bmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24udXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlciAhPT0gbnVsbCAmJiBcImNvbW1hbmRcIiBpbiBldmVudC5kYXRhICYmIGV2ZW50LmRhdGEuY29tbWFuZCA9PT0gXCJjYWNoZXNcIikge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6IFwiY2xlYXJcIiwgY2FjaGVzOiBldmVudC5kYXRhLmNhY2hlcyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhcHAgPSBWdWUuY3JlYXRlQXBwKHtcclxuICAgICAgICBkYXRhKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaXNEZWJ1ZzogZGVidWcsXHJcbiAgICAgICAgICAgICAgICBpc0RhcmtNb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTXV0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2NhdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1JldmVhbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzT3ZlcmxheWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQmxpbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1BvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMZWFybmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0FuaW1hdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0hhbmdpbmdPbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdGFyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2NrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgd3JhcHBlcldpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgd3JhcHBlckhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgY2FjaGVkSW1hZ2VzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZFNwcml0ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uUXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgZWxhcHNlZDogMCxcclxuICAgICAgICAgICAgICAgIG1hcDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxheWVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbW9kZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5UXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgcXVlcnlDYWNoZToge30sXHJcbiAgICAgICAgICAgICAgICBjYWNoZWRUcmFja3M6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGVkRG9jdW1lbnRzOiBbXSxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50UXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogbnVsbCxcclxuICAgICAgICAgICAgICAgIHVzZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbnB1dDogXCJcIixcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkSW5wdXRMZW5ndGg6IDAsXHJcbiAgICAgICAgICAgICAgICBtYXhJbnB1dExlbmd0aDogMTAwLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRIYXNFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBtYXhNZXNzYWdlczogMTAsXHJcbiAgICAgICAgICAgICAgICB3b3JkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVjZW50V29yZHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgICAgICAgICBtYXhUYWdzOiAxMCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXRJRDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdGlja0ludGVydmFsSUQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHN0YXJzOiAtMSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkU3RhcnM6IDAsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5zaG90OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICByZWNlbnRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlc1F1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJlbG9hZEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBpc1VwbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmxlbmRTaGFwZUFuaW1hdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgaW5zZXRUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICBpbnNldEJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgcG9wdXBUZXh0SGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0aWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkVGlja2VyV2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhdGVzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIHdvcmREaWN0aW9uYXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIHJldmVyc2VXb3JkRGljdGlvbmFyeToge30sXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCLlkI3liY1cIiwgXCLmiYDlsZ5cIiwgXCLmmYLplpNcIiwgXCLloLTmiYBcIiwgXCLjgZnjgovkuotcIiwgXCLnlJ/jgY3nialcIiwgXCLpo5/jgbnnialcIiwgXCLpo7Ljgb/nialcIiwgXCLogZ7jgY/jgoLjga5cIiwgXCLopovjgovjgoLjga5cIiwgXCLoqq3jgoDjgoLjga5cIiwgXCLkvb/jgYbnialcIiwgXCLouqvjgavjgaTjgZHjgovjgoLjga5cIiwgXCLkuZfjgornialcIiwgXCLpg6jkvY1cIiwgXCLnl4XmsJdcIl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2F0Y2g6IHtcclxuICAgICAgICAgICAgaXNNdXRlZChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImJvdFwiLCBKU09OLnN0cmluZ2lmeSh7IG11dGU6IG5ld1ZhbHVlIH0pKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImJvdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd29yZHM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGlja2VyV2lkdGgobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyB3aWR0aDogdGhpcy5hbmltYXRlZFRpY2tlcldpZHRoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYW5pbWF0ZWRUaWNrZXJXaWR0aCA9IG9iai53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNhcHA+LmJhY2tncm91bmQ+ZGl2XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVJhdGUgPSAxNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKHsgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGVsZW1lbnQuYW5pbWF0ZShrZXlmcmFtZXMsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnc3RlcHMoJyArIG9mZnNldCArICcpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAgLyBmcmFtZVJhdGUgKiBlbGVtZW50cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnM6IEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gYW5pbWF0aW9uLnN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGV4dDoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwLmlzUG9wdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5wb3B1cFRleHRIZWlnaHQgPSBhcHAuJHJlZnMucG9wdXBUZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9wdXBUZXh0SGVpZ2h0KG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IGhlaWdodDogdGhpcy5hbmltYXRlZFBvcHVwVGV4dEhlaWdodCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFBvcHVwVGV4dEhlaWdodCA9IG9iai5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnMobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IHRoaXMuYW5pbWF0ZWRTdGFycyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkU3RhcnMgPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5wdXQ6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBjb3VudDogYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBhcHAuaW5wdXQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNpZ25JbjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIGlkVG9rZW46IGNyZWRlbnRpYWwuaWRUb2tlbiB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoXCJwdWJsaWNfcHJvZmlsZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4gfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAobmV3IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlcigpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtmaXJlYmFzZS5hdXRoLk9BdXRoQ3JlZGVudGlhbH0gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSByZXN1bHQuY3JlZGVudGlhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiByZXN1bHQudXNlci5wcm92aWRlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob3RvVXJsID0gZGF0YS5waG90b1VSTC5yZXBsYWNlKC9fbm9ybWFsXFwuanBnJC8sICcuanBnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBwaG90b1VybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsXCIsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgc2VjcmV0OiBjcmVkZW50aWFsLnNlY3JldCB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaWduT3V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6IFwiY2FjaGVzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNoYXJlMzogYXN5bmMgZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiBcImdlb2xvY2F0aW9uXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJncmFudGVkXCIgfHwgcGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcInByb21wdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoYCR7ZGF0YWJhc2VSb290fS91c2Vycy8ke3NlbGYudXNlci51aWR9L2RpY3Rpb25hcnkvd29yZHNgKS5vcmRlckJ5VmFsdWUoKS5saW1pdFRvTGFzdCgxMDApLm9uY2UoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBzbmFwc2hvdC5leGlzdHMoKSA/IHNuYXBzaG90LnZhbCgpIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdHJhY2tzYCkucHVzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuc2V0KHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgdGFnczogdGFncywgdGltZXN0YW1wOiB0aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHNlbGYudXNlci51aWQsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCB9IH0sIGFzeW5jIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3RyYWNrc2ApLnB1c2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLnNldCh7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiB3b3JkLmF0dHJpYnV0ZXMsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCwgdXNlcjogeyBpZDogc2VsZi51c2VyLnVpZCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMIH0gfSwgYXN5bmMgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHRoaXMubWFwLmdldFpvb20oKSA8IDE2ID8gMTYgOiB0aGlzLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTogYXN5bmMgZnVuY3Rpb24gKGlnbm9yZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gYXdhaXQgdGhpcy5mZXRjaChpZ25vcmUsIGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpZ25vcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlcklkIG9mIHNlbGYuY2FjaGVkVHJhY2tzW2tleV0uaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnJlbW92ZShzZWxmLmNhY2hlZFRyYWNrc1trZXldLnB1c2hwaW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHB1c2hwaW5JZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHdvcmRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmNhY2hlZFRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay5pZCA9PT0gdGhpcy5jYWNoZWRUcmFja3NbaWRdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW5JZCA9IGlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXNocGluSWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHRyYWNrLmxvY2F0aW9uLmxhdGl0dWRlLCB0cmFjay5sb2NhdGlvbi5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiL2ltYWdlcy9NYXJrZXItU3Rhci5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbi5pZF0gPSB0cmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2RlID0gdGhpcy5jYWNoZWRUcmFja3NbYXJncy50YXJnZXQuaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuY2FjaGVkVHJhY2tzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmFjay50aW1lc3RhbXAgPiB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdLnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wicHVzaHBpblwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJoYW5kbGVyc1wiXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRMb2NhdGlvbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24odHJhY2subG9jYXRpb24ubGF0aXR1ZGUsIHRyYWNrLmxvY2F0aW9uLmxvbmdpdHVkZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXSA9IHRyYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wiaGFuZGxlcnNcIl0gPSBoYW5kbGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2godHJhY2suaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaWRzLnNvbWUoeCA9PiB4ID09PSBzZWxmLmNhY2hlZFRyYWNrc1trZXldLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVySWQgb2Ygc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5oYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuZW50aXRpZXMucmVtb3ZlKHNlbGYuY2FjaGVkVHJhY2tzW2tleV0ucHVzaHBpbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4ID0gMTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWREb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybUZyZXF1ZW5jaWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBlcHNpbG9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybVNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godHJhY2submFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtU2V0LmluY2x1ZGVzKHRyYWNrLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLm5hbWUgaW4gaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0cmFjay5uYW1lXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3RyYWNrLm5hbWVdID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybVNldC5wdXNoKHRyYWNrLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaCh0b2tlbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50cy5wdXNoKHsgdG9rZW5zOiB0b2tlbnMsIHRpbWVzdGFtcDogdXNlci50aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSwgaW1hZ2U6IFwiaW1hZ2VcIiBpbiB1c2VyID8gdXNlci5pbWFnZSA6IG51bGwgfSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB1c2VyICYmIHVzZXIud29yZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gPSBNYXRoLmxvZyhkb2N1bWVudHMubGVuZ3RoIC8gKGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldICsgZXBzaWxvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQudGltZXN0YW1wICogMTAwMCA+IGJhc2VUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gbWluOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGYgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW2tleV0gLz0gZG9jdW1lbnQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBzY29yZURpY3Rpb25hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaWN0aW9uYXJ5W2tleV0gPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1GcmVxdWVuY2llcy5wdXNoKHRmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm1GcmVxdWVuY3kgb2YgdGVybUZyZXF1ZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZmlkZiA9IHRlcm1GcmVxdWVuY3lba2V5XSAqIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGZpZGYgPiBzY29yZURpY3Rpb25hcnlba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMSAmJiBrZXkgIT0gXCIuLi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goeyB0ZXJtOiBrZXksIHZhbHVlOiBzY29yZURpY3Rpb25hcnlba2V5XSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHkudmFsdWUgLSB4LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3Jlcy5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNwbGljZShtYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlLnZhbHVlID4gbWF4U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2Ygc2NvcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlLnZhbHVlIC89IG1heFNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgudGVybSA+IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeC50ZXJtIDwgeS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtkb2N1bWVudHMsIHNjb3Jlc10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWREb2N1bWVudHMuc3BsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3Muc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2YgcmVzdWx0c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0c1sxXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5wdXNoKHsgaW5kZXg6IGksIG5hbWU6IHJlc3VsdHNbMV1baV0udGVybSwgc2NvcmU6IHJlc3VsdHNbMV1baV0udmFsdWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5pc0JsaW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy9hY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24gKGlnbm9yZSwgbGF0aXR1ZGUsIGxvbmdpdHVkZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVjaXNpb25zID0geyAxOiAyLCAyOiAyLCAzOiAyLCA0OiAyLCA1OiAyLCA2OiAyLCA3OiAyLCA4OiAyLCA5OiAyLCAxMDogMywgMTE6IDMsIDEyOiA0LCAxMzogNCwgMTQ6IDQsIDE1OiA1LCAxNjogNSwgMTc6IDUsIDE4OiA2LCAxOTogNiwgMjA6IDYgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gobGF0aXR1ZGUsIGxvbmdpdHVkZSwgcHJlY2lzaW9uc1t0aGlzLm1hcC5nZXRab29tKCldKTtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoZXMgPSBbY2VudGVyR2VvaGFzaF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wUmVjZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJpbWl0aXZlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmRlY29kZUdlb2hhc2goY2VudGVyR2VvaGFzaCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSA2MDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMucHVzaChuZXcgTWljcm9zb2Z0Lk1hcHMuUG9seWdvbihbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21yaWdodC5sYXRpdHVkZSwgcmVjdC5ib3R0b21yaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNlbnRlckdlb2hhc2gubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGNlbnRlckdlb2hhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZWlnaGJvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaGVzLnB1c2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuZGVjb2RlR2VvaGFzaChuZWlnaGJvcnNba2V5XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltaXRpdmVzLnB1c2gobmV3IE1pY3Jvc29mdC5NYXBzLlBvbHlnb24oW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3ByaWdodC5sYXRpdHVkZSwgcmVjdC50b3ByaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tcmlnaHQubGF0aXR1ZGUsIHJlY3QuYm90dG9tcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSldLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyLnNldFByaW1pdGl2ZXMocHJpbWl0aXZlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnB1c2goY2VudGVyR2VvaGFzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIG9mIGdlb2hhc2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlICYmIGdlb2hhc2ggaW4gdGhpcy5xdWVyeUNhY2hlICYmIHRpbWVzdGFtcCAtIHRoaXMucXVlcnlDYWNoZVtnZW9oYXNoXS50aW1lc3RhbXAgPCB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdXNlciBvZiB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0uZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFJlY2VudC5wdXNoKHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdLnB1c2godXNlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0gPSBbdXNlcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzXCIpLm9yZGVyQnlDaGlsZChcImtleVwiKS5saW1pdFRvTGFzdCg1MCkuc3RhcnRBdChnZW9oYXNoKS5lbmRBdChnZW9oYXNoLnBhZEVuZCgxMiwgXCJ6XCIpICsgXCJcXHVmOGZmXCIpLm9uY2UoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBDYWNoZVtnZW9oYXNoXSA9IHsgdGltZXN0YW1wOiB0aW1lc3RhbXAsIGRhdGE6IFtdIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWN0aW9uYXJ5ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5W2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBSZWNlbnQucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcENhY2hlW2dlb2hhc2hdLmRhdGEucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXSA9IFtkaWN0aW9uYXJ5W2tleV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5UXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBpbiB0ZW1wQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0gPSB0ZW1wQ2FjaGVbZ2VvaGFzaF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeUNhY2hlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZXN0YW1wIC0gc2VsZi5xdWVyeUNhY2hlW2tleV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYucXVlcnlDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IHRoaXMudGFrZSh0ZW1wUmVjZW50LnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApLCAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkYXRhW2tleV0ubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlY2VudC5pbmNsdWRlcyhkYXRhW2tleV1baV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2tleV0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtrZXldLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2NhdGU6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwicGVybWlzc2lvbnNcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogXCJnZW9sb2NhdGlvblwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcImdyYW50ZWRcIiB8fCBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwicHJvbXB0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9jYXRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2F0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0xvY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHNlbGYubWFwLmdldFpvb20oKSA8IDE2ID8gMTYgOiBzZWxmLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogXCJnZW9sb2NhdGlvblwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwiZ3JhbnRlZFwiIHx8IHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJwcm9tcHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLyp0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAvKmNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBrZXk6IGdlb2hhc2ggKyB0aW1lc3RhbXAsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJrZXlcIl0gPSBnZW9oYXNoICsgdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wibmFtZVwiXSA9IHNlbGYudXNlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImltYWdlXCJdID0gc2VsZi51c2VyLnBob3RvVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wibG9jYXRpb25cIl0gPSB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21taXR0ZWQgJiYgZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21taXR0ZWQgJiYgZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8qfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3ZlOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogXCJob2dlaG9nZVwiLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0sIDEwMDAwMCk7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSB7IGxhdGl0dWRlOiBjZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2goY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsIGNlbnRlckxvY2F0aW9uLmxvbmdpdHVkZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMLCBsb2NhdGlvbjogbG9jYXRpb24sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wia2V5XCJdID0gZ2VvaGFzaCArIHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wibmFtZVwiXSA9IHNlbGYudXNlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wiaW1hZ2VcIl0gPSBzZWxmLnVzZXIucGhvdG9VUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImxvY2F0aW9uXCJdID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbmQ6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNEZWJ1Zykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdGhpcy5pbnB1dC5zcGxpdCgvXFxzLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXMuc29tZSgoeCkgPT4geC5pZCA9PT0gdG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiB0YWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvaW1hZ2VzL1wiICsga2V5KS50cmFuc2FjdGlvbihmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJ0YWdzXCJdID0gdGFncztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhcm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA8PSB0aGlzLm1heElucHV0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXJuKHsgbmFtZTogdGhpcy5pbnB1dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMuYmFja2dyb3VuZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGltYWdlLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5pbnB1dC5sZW5ndGggPD0gdGhpcy5tYXhJbnB1dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhcm4oeyBuYW1lOiB0aGlzLmlucHV0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMZWFybmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRJbWFnZTogYXN5bmMgZnVuY3Rpb24gKHB1c2hwaW4sIHVzZXIsIHNlbGVjdGVkID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zdCBob3VycyA9IG5ldyBEYXRlKHRyYWNrLnBvc2l0aW9uLnRpbWVzdGFtcCAqIDEwMDApLmdldEhvdXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwiaW1hZ2VcIiBpbiB1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLDAsMCwxLC0xNy43MDc3LC0xOC43NTM4KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjYuNzA4LDE5Ljc1NEMzMS4xMjMsMTkuNzU0IDM0LjcwOCwyMy4zMzkgMzQuNzA4LDI3Ljc1NEMzNC43MDgsMzIuMTY5IDMxLjEyMywzNS43NTQgMjYuNzA4LDM1Ljc1NEMyMi4yOTIsMzUuNzU0IDE4LjcwOCwzMi4xNjkgMTguNzA4LDI3Ljc1NEMxOC43MDgsMjMuMzM5IDIyLjI5MiwxOS43NTQgMjYuNzA4LDE5Ljc1NFpNMjYuNzA4LDIzLjc1NEMyOC45MTUsMjMuNzU0IDMwLjcwOCwyNS41NDYgMzAuNzA4LDI3Ljc1NEMzMC43MDgsMjkuOTYyIDI4LjkxNSwzMS43NTQgMjYuNzA4LDMxLjc1NEMyNC41LDMxLjc1NCAyMi43MDgsMjkuOTYyIDIyLjcwOCwyNy43NTRDMjIuNzA4LDI1LjU0NiAyNC41LDIzLjc1NCAyNi43MDgsMjMuNzU0WlwiIHN0eWxlPVwiZmlsbDpyZ2IoMjU1LDIzOCwwKTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmBcclxuICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5pbWFnZS5zdGFydHNXaXRoKFwiZ3M6Ly9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IGF3YWl0IHN0b3JhZ2UucmVmRnJvbVVSTCh1c2VyLmltYWdlKS5nZXREb3dubG9hZFVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IHVzZXIuaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTRcIiB2aWV3Qm94PVwiMCAwIDUwIDU0XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC45OTk5OTksMCwwLDAuOTk5OTk5LDE3LjAwMTEsLTEzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTAsNTBMMTYsNTBMOCw2NkwwLDUwWlwiIHN0eWxlPVwiZmlsbDpyZ2IoMjU1LDIzOCwwKTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLjk2NDkxLDAsMCwxLjk2NDkxLC0zMC4wMDk5LC0yNC41OTMxKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuNDEwNTc0LDAsMCwwLjQxMDU3NCwzNC4wNDk4LDI2Ljc2OTQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTAsLTcuMjlDLTAuMzExLC04LjI0NyAtMS4xMzgsLTguOTQ0IC0yLjEzMywtOS4wODlMLTkuMjEsLTEwLjExN0wtMTIuMzc1LC0xNi41MjlDLTEyLjgxOSwtMTcuNDMyIC0xMy43MzgsLTE4LjAwMyAtMTQuNzQ0LC0xOC4wMDNDLTE1Ljc1LC0xOC4wMDMgLTE2LjY3LC0xNy40MzIgLTE3LjExNCwtMTYuNTNMLTIwLjI3OSwtMTAuMTE3TC0yNy4zNTUsLTkuMDg5Qy0yOC4zNTIsLTguOTQ0IC0yOS4xNzksLTguMjQ3IC0yOS40OSwtNy4yOUMtMjkuODAxLC02LjMzMyAtMjkuNTQxLC01LjI4MyAtMjguODIsLTQuNTgxTC0yMy43LDAuNDFMLTI0LjkwOCw3LjQ1OUMtMjUuMDc4LDguNDUgLTI0LjY3Miw5LjQ1MiAtMjMuODU3LDEwLjA0M0MtMjMuMDQzLDEwLjYzNSAtMjEuOTY1LDEwLjcxMyAtMjEuMDc0LDEwLjI0NEwtMTQuNzQ0LDYuOTE3TC04LjQxNSwxMC4yNDRDLTguMDI4LDEwLjQ0NyAtNy42MDYsMTAuNTQ4IC03LjE4NiwxMC41NDhDLTYuNjM4LDEwLjU0OCAtNi4wOTIsMTAuMzc3IC01LjYzMiwxMC4wNDNDLTQuODE4LDkuNDUyIC00LjQxLDguNDUgLTQuNTgsNy40NThMLTUuNzg5LDAuNDFMLTAuNjY4LC00LjU4MUMwLjA1MiwtNS4yODMgMC4zMTIsLTYuMzMzIDAsLTcuMjlcIiBzdHlsZT1cImZpbGw6d2hpdGU7ZmlsbC1ydWxlOm5vbnplcm87XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGMud2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjLmhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3Qgb3BhY2l0eSA9IGhvdXJzID49IDYgJiYgaG91cnMgPCAxOCA/IFwiMC4wNVwiIDogXCIxXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBhY2NlbnRDb2xvciA9IHNlbGYudXNlci51aWQgPT09IHdvcmQuaWQgPyBzZWxmLmNoYXJhY3Rlci5hY2NlbnQgOiAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBzZWxlY3RlZENvbG9yID0gc2VsZWN0ZWQgPyBzZWxmLmNoYXJhY3Rlci5hY2NlbnQgOiAncmdiKDI1NCwyMjEsODApJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmxpbmVTdmcgPSBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1NFwiIHZpZXdCb3g9XCIwIDAgNTAgNTRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuOTk5OTk5LDAsMCwwLjk5OTk5OSwxNy4wMDExLC0xMylcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTAsNTBMMTYsNTBMOCw2NkwwLDUwWlwiIHN0eWxlPVwiZmlsbDpyZ2IoMjU1LDIzOCwwKTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMS45NjQ5MSwwLDAsMS45NjQ5MSwtMzAuMDA5OSwtMjQuNTkzMSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2xpcFBhdGggaWQ9XCJfY2xpcDFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NsaXBQYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGNsaXAtcGF0aD1cInVybCgjX2NsaXAxKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC43OTE2NjcsMCwwLDAuNzkxNjY3LDUuODMyNDksNS4yNTgyKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiIHN0eWxlPVwiZmlsbDp3aGl0ZTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2xpcFBhdGggaWQ9XCJfY2xpcDJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jbGlwUGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGNsaXAtcGF0aD1cInVybCgjX2NsaXAyKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiQmFja2dyb3VuZFwiIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjAyMzg1NiwwLDAsMC4wMjM4NTYsLTIuNTM5NjQsLTUuMjk2NTgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiNfSW1hZ2UzXCIgeD1cIjc2N1wiIHk9XCI3NjdcIiB3aWR0aD1cIjEwMjZweFwiIGhlaWdodD1cIjEwMjZweFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1hZ2UgaWQ9XCJfSW1hZ2UzXCIgd2lkdGg9XCIxMDI2cHhcIiBoZWlnaHQ9XCIxMDI2cHhcIiB4bGluazpocmVmPVwiYCArIGMudG9EYXRhVVJMKCkgKyBgXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbmxpbmVTdmdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA8PSB0aGlzLm1heElucHV0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEhhc0Vycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRIYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwbG9hZDogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVV1aWQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS9jaHJvbWUtcGxhdGZvcm0tYW5hbHl0aWNzL2Jsb2IvbWFzdGVyL3NyYy9pbnRlcm5hbC9pZGVudGlmaWVyLmpzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgRk9STUFUOiBzdHJpbmcgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGFycyA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGFycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoYXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzW2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnNbaV0gPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkgKyA4KS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVJlZiA9IHN0b3JhZ2UucmVmKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZXZlbnQudGFyZ2V0LmZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaChmaWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMuc29ydCgoeCwgeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4Lm5hbWUgPiB5Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4Lm5hbWUgPCB5Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwbG9hZFRhc2sgPSBzdG9yYWdlUmVmLmNoaWxkKGBpbWFnZXMvJHtnZW5lcmF0ZVV1aWQoKX1gKS5wdXQoZmlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZFRhc2sub24oXCJzdGF0ZV9jaGFuZ2VkXCIsIGZ1bmN0aW9uIChzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcyAvIGZpbGVzLmxlbmd0aCArIHBhdGhzLmxlbmd0aCAvIGZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYXRocy5wdXNoKHVwbG9hZFRhc2suc25hcHNob3QucmVmLmZ1bGxQYXRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvaW1hZ2VzXCIpLnB1c2goeyBwYXRoczogcGF0aHMsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCkgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXJuOiBhc3luYyBmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQpXFx9L2csIGZ1bmN0aW9uIChtLCBjKSB7IHJldHVybiBhcmdzW3BhcnNlSW50KGMpICsgMV0gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJhdHRyaWJ1dGVzXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgd29yZC5uYW1lKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JkID0geyBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcInVzZXJcIl0gPSB3b3JkLnVzZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hhcmU6IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxvY2F0aW9uLmxhdGl0dWRlLCBsb2NhdGlvbi5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHsgaWQ6IHRoaXMudXNlci51aWQsIG5hbWU6IHRoaXMudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHRoaXMudXNlci5waG90b1VSTCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB3b3JkLm5hbWUpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZVJlcXVpcmVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSBpbiBjdXJyZW50LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsZXRlUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IHsgYXR0cmlidXRlczoge30gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSBpbiBjdXJyZW50LmF0dHJpYnV0ZXMgJiYgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGF0dHJpYnV0ZXM6IHt9LCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widXNlclwiXSA9IHsgaWQ6IHdvcmQudXNlci5pZCwgbmFtZTogd29yZC51c2VyLm5hbWUsIGltYWdlOiB3b3JkLnVzZXIuaW1hZ2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9LCBhc3luYyBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPT09IFwibnVtYmVyXCIgJiYgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPiAwICYmIHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChkaWN0aW9uYXJ5LmF0dHJpYnV0ZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSB0aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY291bnQgfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZWxmLnByZXBhcmUoc2VsZi5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkxlYXJuZWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3RhcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3RhcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5pc011dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMudHdpbmtsZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiB3b3JkID09PSBmYWxzZSB8fCB3b3JkLnVzZXIuaWQgPT09IHNlbGYudXNlci51aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzL1wiICsgYXdhaXQgc2VsZi5kaWdlc3RNZXNzYWdlKGAke3NlbGYudXNlci51aWR9JiR7d29yZC5uYW1lfWApKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImtleVwiXSA9IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJsb2NhdGlvblwiXSA9IHsgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInRpbWVzdGFtcFwiXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGtleTogYCR7Z2VvaGFzaH0ke3RpbWVzdGFtcH1gLCBuYW1lOiB3b3JkLm5hbWUsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgdXNlcjogdXNlciwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdGlvbmFyeS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hdHRyaWJ1dGVzLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2tleV0gPSBkaWN0aW9uYXJ5LmF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImF0dHJpYnV0ZXNcIl0gPSBhdHRyaWJ1dGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUsIGMsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3RyYWNrc2ApLnB1c2goKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLnNldCh7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiB3b3JkLmF0dHJpYnV0ZXMsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCwgdXNlcjogeyBpZDogc2VsZi51c2VyLnVpZCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMIH0gfSwgYXN5bmMgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHNlbGYudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L2NvdW50XCIpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCAmJiBjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzL1wiICsgYXdhaXQgc2VsZi5kaWdlc3RNZXNzYWdlKGAke3NlbGYudXNlci51aWR9JiR7d29yZC5uYW1lfWApKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUsIGMsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXMuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJ1c2VyXCIgaW4gd29yZCA9PT0gZmFsc2UgfHwgd29yZC51c2VyLmlkID09PSBzZWxmLnVzZXIudWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBrZXk6IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YCwgbmFtZTogd29yZC5uYW1lLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIGF0dHJpYnV0ZXM6IHt9LCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlLCBjLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbmV4dDogYXN5bmMgZnVuY3Rpb24gKHN0YXJ0QXQsIGxpbWl0ID0gNTApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRBdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLmxpbWl0VG9GaXJzdChsaW1pdCArIDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkuc3RhcnRBdChzdGFydEF0KS5saW1pdFRvRmlyc3QobGltaXQgKyAxKS5vbmNlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB0aGlzLm1vZGUgJiYgc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzICE9PSBudWxsICYmIHRoaXMubW9kZS53b3Jkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5pbmRleGVzLnB1c2godGhpcy5tb2RlLndvcmRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLndvcmRzLnB1c2goXCJ1c2VyXCIgaW4gd29yZHNbbmFtZV0gPyB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMsIHVzZXI6IHdvcmRzW25hbWVdLnVzZXIgfSA6IHsgbmFtZTogbmFtZSwgYXR0cmlidXRlczogd29yZHNbbmFtZV0uYXR0cmlidXRlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUud29yZHMubGVuZ3RoID09PSBsaW1pdCArIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSB0aGlzLm1vZGUud29yZHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJldmlvdXM6IGFzeW5jIGZ1bmN0aW9uIChzdGFydEF0LCBsaW1pdCA9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkuc3RhcnRBdChzdGFydEF0KS5saW1pdFRvRmlyc3QobGltaXQpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ3b3Jkc1wiIGluIHRoaXMubW9kZSAmJiBzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUud29yZHMgIT09IG51bGwgJiYgdGhpcy5tb2RlLndvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSB0aGlzLm1vZGUud29yZHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3Jkcy5wdXNoKFwidXNlclwiIGluIHdvcmRzW25hbWVdID8geyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzLCB1c2VyOiB3b3Jkc1tuYW1lXS51c2VyIH0gOiB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaWdlc3RNZXNzYWdlOiBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVWludDggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrMjogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBldmVudC50YXJnZXQuZGF0YXNldC5hdHRyaWJ1dGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB7IGlkOiB0aGlzLnVzZXIudWlkLCBuYW1lOiB0aGlzLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiB0aGlzLnVzZXIucGhvdG9VUkwgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZCBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldLndvcmRzLnNvbWUoKHgpID0+IHggPT09IGV2ZW50LnRhcmdldC5kYXRhc2V0LndvcmQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgbmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGV0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGEgaW4gY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhICE9IGF0dHJpYnV0ZSAmJiB0eXBlb2YgY3VycmVudFthXSA9PT0gXCJudW1iZXJcIiAmJiBjdXJyZW50W2FdID4gMCAmJiBzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFthdHRyaWJ1dGVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBzZWxmLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhICE9IGF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbYV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wibmFtZVwiXSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFthdHRyaWJ1dGVdID0gY3VycmVudFtcInRpbWVzdGFtcFwiXSA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIGN1cnJlbnQgPT09IGZhbHNlIHx8IGN1cnJlbnRbXCJ1c2VyXCJdLmlkID09PSB1c2VyLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ1c2VyXCJdID0gdXNlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1pdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lc3RhbXBzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeVtrZXldID09PSBcIm51bWJlclwiICYmIGRpY3Rpb25hcnlba2V5XSA+IDAgJiYgc2VsZi5hdHRyaWJ1dGVzLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wcy5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSB0aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlbGYucHJlcGFyZShzZWxmLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIGRpY3Rpb25hcnlbXCJuYW1lXCJdKSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy50d2lua2xlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi53b3JkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXJuMjogYXN5bmMgZnVuY3Rpb24gKHRlcm0pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAodGVybSkgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geyB1c2VyOiB0ZXJtLnVzZXIsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCkgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGVybS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVybS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVthdHRyaWJ1dGVdID0gdGVybS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbYXR0cmlidXRlXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjb21taXR0ZWQsIHNuYXBzaG90XSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHNlbGYudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdGVybS5uYW1lKS50cmFuc2FjdGlvbihmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbY29tbWl0dGVkLCBzbmFwc2hvdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0ZXJtLnVzZXIuaWQgKyBcIi9zdGFyc1wiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvdW50IHx8IDApICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkW1wibmFtZVwiXSksIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZFthdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVybSA9IHRlcm0ubmFtZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRlcm0pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JkID0geyBuYW1lOiB0ZXJtLCBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB0ZXJtKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhY3RpdmF0ZTogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWRsZVRpbWUgPSBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGVkRG9jdW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBhcnJheS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFba10gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHNodWZmbGUodGhpcy5jYWNoZWREb2N1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50UXVldWUucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXdhaXQgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGRvY3VtZW50LmZpbHRlcigoeCkgPT4geCAhPT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnVzZXIudWlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnVzZXIudWlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFsazogYXN5bmMgZnVuY3Rpb24gKHVzZXJJZCwgdG9rZW5zID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZXMgPSB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiQWN0aXZhdGVcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFN0YXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ZXIgPSBuZXcgVGlueVNlZ21lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlblNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNodWZmbGUoc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVwYXJlZFNlcXVlbmNlID0gdGhpcy5wcmVwYXJlKFtzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0Fib3J0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBwcmVwYXJlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBBcnJheS5pc0FycmF5KG8udGV4dCkgPyBvLnRleHQgOiBzZWdtZW50ZXIuc2VnbWVudChvLnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgdGhpcy5nZW5lcmF0ZSh1c2VySWQsIG9iai50ZXh0LCB0b2tlbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5sZW5ndGggPiAxICYmICF0b2tlblNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pID09PSBcIm51bWJlclwiICYmIHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCAmJiB0aGlzLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHByZXBhcmVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcyA9IHRlbXBTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHNlcXVlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IHR5cGU6IG9iai50eXBlLCBzcGVlZDogb2JqLnNwZWVkLCBkdXJhdGlvbjogb2JqLmR1cmF0aW9uLCB0ZXh0OiB0ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2VuZXJhdGU6IGFzeW5jIGZ1bmN0aW9uICh1c2VySWQsIG1lc3NhZ2UsIGhpbnRzID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNob2ljZShwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwcm9iYWJpbGl0eSBvZiBwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdW0gPD0gciAmJiByIDwgc3VtICsgcHJvYmFiaWxpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gcHJvYmFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc29mdG1heCh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhbaV0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gTWF0aC5leHAoeFtpXSAtIG1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeS5wdXNoKE1hdGguZXhwKHhbaV0gLSBtYXgpIC8gc3VtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudGVyID0gbmV3IFRpbnlTZWdtZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlbnMgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2UpID8gbWVzc2FnZSA6IHNlZ21lbnRlci5zZWdtZW50KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpbnREaWN0aW9uYXJ5ID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5TZXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAoXCJbLiMkXFxcXFtcXFxcXV1cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FjaERpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC02KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJlYW1XaWR0aCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IFt7IHNlcXVlbmNlOiBbXSwgc2NvcmU6IDEuMCB9XVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgaGludHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdID0gW3Rva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW5TZXQuaW5jbHVkZXModG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIGhpbnREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1zLmluY2x1ZGVzKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybXMucHVzaChzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGhpcy50YWdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUNoaWxkKGBhdHRyaWJ1dGVzLyR7YXR0cmlidXRlfWApLmxpbWl0VG9MYXN0KDEwMCkuc3RhcnRBdCgxKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXSA9IHsgd29yZHM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBpbiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzLnB1c2god29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vucy5pbmNsdWRlcyh3b3JkKSAmJiAhdGVybXMuaW5jbHVkZXMod29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHdvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQgPT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtcy5sZW5ndGggPiAwICYmIHNjb3Jlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdGllcyA9IHNvZnRtYXgoc2NvcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb2JhYmlsaXRpZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdLmNvbmNhdChzZXF1ZW5jZXNbaV0uc2VxdWVuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyBpbmRleDogaW5kZXgsIHRlcm06IHRlcm1zW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHsgc2VxdWVuY2U6IHNlcXVlbmNlLCBzY29yZTogc2VxdWVuY2VzW2ldLnNjb3JlICogcHJvYmFiaWxpdGllc1tqXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgdGhpcy50YWtlKGNhbmRpZGF0ZXMuc29ydCgoeCwgeSkgPT4geS5zY29yZSAtIHguc2NvcmUpLCBiZWFtV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyZWdleC50ZXN0KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRoaXMud29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgaGludERpY3Rpb25hcnlbYXR0cmlidXRlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybXMucHVzaChrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlDaGlsZChgYXR0cmlidXRlcy8ke2F0dHJpYnV0ZX1gKS5saW1pdFRvTGFzdCgxMDApLnN0YXJ0QXQoMSkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0gPSB7IHdvcmRzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gc2VxdWVuY2VzW2Nob2ljZShzb2Z0bWF4KHNlcXVlbmNlcy5tYXAoeCA9PiB4LnNjb3JlKSkpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gaW4gY2FjaERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoRGljdGlvbmFyeVt0b2tlbnNbaV1dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcy5zZXF1ZW5jZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VxdWVuY2Vbal0uaW5kZXggPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gPT0gcy5zZXF1ZW5jZVtqXS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hEaWN0aW9uYXJ5W3Rva2Vuc1tpXV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXSA9IHMuc2VxdWVuY2Vbal0udGVybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzLnNlcXVlbmNlW2pdLnRlcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0ZXh0LCBjYWNoRGljdGlvbmFyeV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtcImlkXCJdID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09PSBkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24sIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiBzaHVmZmxlKHRoaXMucmVjZW50SW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5wdXNoKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBpbWFnZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHsgaWQ6IGltYWdlLmlkLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQocGF0aCkuZ2V0RG93bmxvYWRVUkwoKSwgdGltZXN0YW1wOiBpbWFnZS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGltYWdlLnRhZ3MuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbWFnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGltYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltYWdlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogaW1hZ2UudGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxUaW1lb3V0SUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0SUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGV2ZW50KS5mb3JtYXQoXCJMVFwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJVcGRhdGVkOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmFuZ2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goY29sdW1ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRha2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IFtdLmNvbmNhdChjb2xsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoY291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoY29sbGVjdGlvbikucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IodGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0IC8gODY0MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHQgLyAzNjAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdCAlIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXlzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgXCJkXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG91cnMgKyBcImhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgXCJtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZHMgKyBcInNcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlnZXN0TWVzc2FnZTogYXN5bmMgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1VpbnQ4ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuY29kZSBhcyAodXRmLTgpIFVpbnQ4QXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7IC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoSGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXREaXN0YW5jZTogZnVuY3Rpb24gKGxhdDEsIGxvbjEsIGxhdDIsIGxvbjIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG4gICAgICAgICAgICAgICAgdmFyIGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRMb24gPSB0aGlzLmRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPVxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW5jb2RlR2VvaGFzaDogZnVuY3Rpb24gKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbiA9IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCSVRTID0gWzE2LCA4LCA0LCAyLCAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ldmVuID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsb24gPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDsgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDsgbG9uWzFdID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGdlb2hhc2gubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0aXR1ZGUgPiBtaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoIHw9IEJJVFNbYml0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2ggKz0gQkFTRTMyW2NoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvaGFzaDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVjb2RlR2VvaGFzaDogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdF9lcnIgPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbl9lcnIgPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDtcclxuICAgICAgICAgICAgICAgIGxhdFsxXSA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMF0gPSAtMTgwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2hhc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdlb2hhc2hbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gQkFTRTMyLmluZGV4T2YoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCSVRTW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbl9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMV0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRfZXJyIC89IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkICYgbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzFdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxhdFsyXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgIGxvblsyXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsYXRbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogeyBsYXRpdHVkZTogbGF0WzBdLCBsb25naXR1ZGU6IGxvblswXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB7IGxhdGl0dWRlOiBsYXRbMV0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMV0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzFdIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldE5laWdoYm9yczogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2xlZnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogcmlnaHRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcGxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3ByaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGxlZnRHZW9oYXNoLCAnYm90dG9tJylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGN1bGF0ZUFkamFjZW50OiBmdW5jdGlvbiAoc3JjSGFzaCwgZGlyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBORUlHSEJPUlMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsgZXZlbjogXCJiYzAxZmc0NTIzODk2N2RldXZoanl6bnBrbXN0cXJ3eFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeyBldmVuOiBcIjIzODk2N2RlYmMwMWZnNDVrbXN0cXJ3eHV2aGp5em5wXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHsgZXZlbjogXCJwMHIyMTQzNng4emI5ZGNmNWg3a2pubXFlc2d1dHd2eVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMTQzNjVoN2s5ZGNmZXNndWpubXFwMHIydHd2eXg4emJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQk9SREVSUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjZmd1dnl6XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMDE0NWhqbnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInByeHpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogeyBldmVuOiBcIjAyOGJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5ib3R0b20ub2RkID0gTkVJR0hCT1JTLmxlZnQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy50b3Aub2RkID0gTkVJR0hCT1JTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMubGVmdC5vZGQgPSBORUlHSEJPUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMucmlnaHQub2RkID0gTkVJR0hCT1JTLnRvcC5ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIEJPUkRFUlMuYm90dG9tLm9kZCA9IEJPUkRFUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy50b3Aub2RkID0gQk9SREVSUy5yaWdodC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5sZWZ0Lm9kZCA9IEJPUkRFUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnJpZ2h0Lm9kZCA9IEJPUkRFUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgc3JjSGFzaCA9IHNyY0hhc2gudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdENociA9IHNyY0hhc2guY2hhckF0KHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IChzcmNIYXNoLmxlbmd0aCAlIDIpID8gJ29kZCcgOiAnZXZlbic7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IHNyY0hhc2guc3Vic3RyaW5nKDAsIHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEJPUkRFUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoYmFzZSwgZGlyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIEJBU0UzMltORUlHSEJPUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKHNlcXVlbmNlcywgc3RhdGUgPSBudWxsLCBzZWxlY3RlZFNlcXVlbmNlcyA9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNob29zZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBmbGF0dGVuZWRTZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBzZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3RhdGUgPSBzdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBudWxsICYmIHMubmFtZSBpbiB0aGlzLnN0YXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhdGUgPSB0aGlzLnN0YXRlc1tzLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTdGF0ZSAhPT0gbnVsbCAmJiBcInN0YXRlXCIgaW4gcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRlbXBTdGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjaG9vc2VkU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgY2hvb3NlZFNlcXVlbmNlc1tfcmFuZG9tKDAsIGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoKV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlc1tzLm5hbWVdID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBxdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic2VxdWVuY2VcIiBpbiBvYmogPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlZFNlcXVlbmNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWxsYWJsZVNlcXVlbmNlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2VsZWN0ZWRTZXF1ZW5jZXMgPT09IG51bGwgPyB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMgOiBzZWxlY3RlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhzLCBvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3BwZWRTZXF1ZW5jZSA9IHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcFNlcXVlbmNlIG9mIHN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFNlcXVlbmNlID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YWNrLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0ZW1wU3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvcHBlZFNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RhdGVcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbb2JqLm5hbWVdID0gb2JqLnN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRyYWNlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSA9PSBvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChvYmouc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSBpbiB0aGlzLnN0YXRlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRoaXMuc3RhdGVzW3MubmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBjYWxsYWJsZVNlcXVlbmNlc1tfcmFuZG9tKDAsIGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zcGxpY2UoaW5kZXgsIDAsIG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5lZFNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdHRlbmVkU2VxdWVuY2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFNlcXVlbmNlU3RhY2s6IGZ1bmN0aW9uIChzb3VyY2VTZXF1ZW5jZSwgdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZVN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHNvdXJjZVNlcXVlbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFja1tzZXF1ZW5jZVN0YWNrLmxlbmd0aCAtIDFdICE9PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gc291cmNlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNvdXJjZVNlcXVlbmNlLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhvLCB0YXJnZXRTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0ZTogYXN5bmMgZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9ICh0aW1lc3RhbXAgLSB0aGlzLmVsYXBzZWQpIC8gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNEZWZvcm1pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlVGltZSArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlUXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmF0ZVRpbWUgPj0gYWN0aXZhdGVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLnJlY2VudEltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5pc0JsaW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlZERvY3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50UXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2Ygc2h1ZmZsZSh0aGlzLmNhY2hlZERvY3VtZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50UXVldWUucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy51c2VyLnVpZCwgZG9jdW1lbnQuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWRsZVRpbWUgPj0gYmxpbmtUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaCh0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIklkbGVcIikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9ja2VkICYmIHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZVF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiQW5pbWF0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZXNcIiBpbiBzZXF1ZW5jZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGEgb2Ygc2VxdWVuY2VbMF0uaW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlLnB1c2goYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlcXVlbmNlWzBdLnR5cGUgPT0gXCJNZXNzYWdlXCIgJiYgdGhpcy5tZXNzYWdlID09PSBudWxsICYmICFpc0FuaW1hdGluZyAmJiAhaXNEZWZvcm1pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB7IHRpbWU6IDAsIGR1cmF0aW9uOiBzZXF1ZW5jZVswXS5kdXJhdGlvbiwgdHlwZTogeyBlbGFwc2VkOiAtMSwgc3BlZWQ6IHNlcXVlbmNlWzBdLnNwZWVkLCByZXZlcnNlOiBmYWxzZSwgYnVmZmVyOiBcIlwiLCBjb3VudDogMCB9LCB0ZXh0OiBzZXF1ZW5jZVswXS50ZXh0IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2Uuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoIXRoaXMuaXNNdXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5tZXNzYWdlLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYWkubWlsY2hjaGFuLmNvbS9hcGkvc3ludGhlc2l6ZT90ZXh0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChhd2FpdCByZXNwb25zZS5ibG9iKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZSAhPT0gbnVsbCAmJiB0ZXh0ID09PSB0aGlzLm1lc3NhZ2UudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UgPT09IG51bGwgJiYgIWlzQW5pbWF0aW5nICYmICFpc0RlZm9ybWluZyAmJiB0aGlzLmFuaW1hdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jYWNoZWRJbWFnZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5jYWNoZWRTcHJpdGVzLnNvbWUoeCA9PiB4LnNvdXJjZSA9PT0ga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5jYWNoZWRJbWFnZXNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkICs9IGRlbHRhVGltZSAqIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDEuMCAvIHRoaXMubWVzc2FnZS50eXBlLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubWVzc2FnZS50eXBlLmNvdW50IC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcih0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGggLyAyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCA8PSB3aWR0aCAmJiB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlciA9IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5zdWJzdHJpbmcoMCwgdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQb3B1cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggPCB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkICs9IGRlbHRhVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNBbmltYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmVsYXBzZWQgPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1BvcHVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmVsYXBzZWQgPj0gMS4wIC8gdGhpcy5tZXNzYWdlLnR5cGUuc3BlZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmNvdW50ID49IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlciArPSB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmNvdW50IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50aW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRpbWUgPj0gdGhpcy5tZXNzYWdlLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUucmV2ZXJzZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGggPT09IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSB0aGlzLm1lc3NhZ2UudGV4dC5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYW5kb21CdWZmZXIgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhckFycmF5LmluZGV4T2YodGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpKSA9PSAtMSAmJiB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkgIT0gXCJcXG5cIiAmJiB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkubWF0Y2goL1xccy8pID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhckFycmF5LnB1c2godGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJBcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkgPT0gXCJcXG5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQnVmZmVyICs9IFwiXFxuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb21CdWZmZXIgKz0gY2hhckFycmF5W35+X3JhbmRvbSgwLCBjaGFyQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbUJ1ZmZlci5sZW5ndGggPiB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9ICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgKyByYW5kb21CdWZmZXIuc3Vic3RyaW5nKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgsIHJhbmRvbUJ1ZmZlci5sZW5ndGgpKS5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGV4dC5sZW5ndGggIT09IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLnNwbGl0KFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnB1c2goeyBrZXk6IGksIHZhbHVlOiBjaGFyYWN0ZXJzW2ldIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvblF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIHRoaXMuYW5pbWF0aW9uUXVldWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIGFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcml0ZSBvZiBhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUuc291cmNlIGluIHRoaXMuY2FjaGVkSW1hZ2VzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gc3ByaXRlLnNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRJbWFnZXNbc3ByaXRlLnNvdXJjZV0gPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIChhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuJHJlZnMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUuc291cmNlIGluIHRoaXMuY2FjaGVkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIm9wYWNpdHlcIiBpbiBzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHNwcml0ZS5vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmNhY2hlZEltYWdlc1tzcHJpdGUuc291cmNlXSwgc3ByaXRlLnggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgc3ByaXRlLnkgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgc3ByaXRlLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHNwcml0ZS5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vbGV0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuY29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnNldFRvcCA9IHRoaXMuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5pbnNldEJvdHRvbSA9IHRoaXMuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNoZWFkaW5nPi5jb2x1bW5zPi5jb2x1bW4+LmNvbHVtbnM6Zmlyc3QtY2hpbGQ+LmNvbHVtbj4uY29sdW1uczpsYXN0LWNoaWxkIC5sZXZlbDpmaXJzdC1jaGlsZCAubGV2ZWwtaXRlbSAuZmllbGQgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAvKnRoaXMuJHJlZnMudGlja2VyLnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0IC5jb2x1bW5zPi5jb2x1bW4gLmNvbnRyb2w6bnRoLWxhc3Qtb2YtdHlwZSgxKSAubGV2ZWw6bnRoLWxhc3Qtb2YtdHlwZSgxKSBmb3JtXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hvaWNlKGNvbGxlY3Rpb24sIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdHkgPSBmdW5jKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtIDw9IHIgJiYgciA8IHN1bSArIHByb2JhYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VtICs9IHByb2JhYmlsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25baW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uc3QgYm90U3RvcmFnZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJvdFwiKTtcclxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbFN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICBsZXQgY3JlZGVudGlhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXJzID0gW3sgcGF0aDogXCIvYXNzZXRzL21pbGNoLmpzb25cIiwgcHJvYmFiaWxpdHk6IDEuMCB9XTtcclxuXHJcbiAgICAgICAgICAgIGlmIChib3RTdG9yYWdlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3QgPSBKU09OLnBhcnNlKGJvdFN0b3JhZ2VJdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTXV0ZWQgPSBib3QubXV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJib3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsU3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbFN0b3JhZ2VJdGVtKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHJlZnMuY29udGFpbmVyLmFmdGVyKHN0YXRzLmRvbUVsZW1lbnQpOyAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnNldFRvcCA9IHRoaXMuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5pbnNldEJvdHRvbSA9IHRoaXMuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTWFwKHRoaXMuJHJlZnMubWFwLCB7XHJcbiAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNMaWdodFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVIaWdoRHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TG9jYXRlTWVCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd01hcFR5cGVTZWxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93Wm9vbUJ1dHRvbnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd1NjYWxlYmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZE1hcFR5cGVzOiBbTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmdyYXlzY2FsZSwgTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0xpZ2h0LCBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzRGFya11cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVyID0gbmV3IE1pY3Jvc29mdC5NYXBzLkxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLmxheWVycy5pbnNlcnQodGhpcy5sYXllcik7XHJcblxyXG4gICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcih0aGlzLm1hcCwgJ3ZpZXdjaGFuZ2VlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi51c2VyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjaG9pY2UoY2hhcmFjdGVycywgKHgpID0+IHgucHJvYmFiaWxpdHkpLnBhdGgsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gdGhpcy5wcmVwYXJlKGNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiU3RhcnRcIiksIG51bGwsIGNoYXJhY3Rlci5zZXF1ZW5jZXMpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlcldpZHRoID0gY2hhcmFjdGVyLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlckhlaWdodCA9IGNoYXJhY3Rlci5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IGNoYXJhY3Rlci53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gY2hhcmFjdGVyLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT0gXCJBbmltYXRpb25cIiAmJiBcImltYWdlc1wiIGluIG9iaiAmJiBvYmouaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIG9iai5pbWFnZXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNvdXJjZSBpbiB0aGlzLmNhY2hlZEltYWdlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zcmMgPSBzcHJpdGUuc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRJbWFnZXNbc3ByaXRlLnNvdXJjZV0gPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihvYmouaW1hZ2VzWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBcInNpZ24taW5cIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXZlYWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbC5wcm92aWRlcklkID09PSBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKGNyZWRlbnRpYWwuaWRUb2tlbikpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsKGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4pKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3JlZGVudGlhbC5wcm92aWRlcklkID09PSBmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgY3JlZGVudGlhbC5zZWNyZXQpKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlID0gXCJzaWduLWluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLypmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluLlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlciA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L2NvdW50XCIpLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXIudWlkKS5vcmRlckJ5Q2hpbGQoXCJkaWN0aW9uYXJ5L3dvcmRzL3RpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMCkub24oXCJ2YWx1ZVwiLCBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFdvcmRzLnB1c2goeyBuYW1lOiB3b3JkLCB0aW1lc3RhbXA6IHdvcmRzW3dvcmRdLnRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZWxmLnByZXBhcmUoc2VsZi5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkFsZXJ0XCIpLCAxMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB7IG5hbWU6IG9iai50ZXh0LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0ZW1wV29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW2ldLm5hbWUgPT0gd29yZC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW3JlbW92ZUluZGV4XS50aW1lc3RhbXAgPCB3b3JkLnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiBzZWxmLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRXb3Jkcy5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLm5hbWUgaW4gc2VsZi53b3JkRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dC5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS5vZmYoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2RhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoXCJ0aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTAwKS5vbihcInZhbHVlXCIsIHNuYXBzaG90ID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAvKmxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucmVjZW50SW1hZ2VzLnNvbWUoeCA9PiB4LmlkID09PSBrZXkgJiYgeC50aW1lc3RhbXAgPT09IGltYWdlc1trZXldLnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzW2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRJbWFnZXMucHVzaChpbWFnZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZShzZWxmLnJlY2VudEltYWdlcywgc2VsZi5tYXhUYWdzKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmlzQmxpbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgIC8vfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy50aWNrSW50ZXJ2YWxJRCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tJbnRlcnZhbElEKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHZybU1vZGVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzY2VuZS5yZW1vdmUodnJtTW9kZWwuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdnJtTW9kZWwgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkubW91bnQoXCIjYXBwXCIpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBhcHAuaW5zZXRUb3AgPSBhcHAuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICBhcHAuaW5zZXRCb3R0b20gPSBhcHAuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC53cmFwcGVyV2lkdGggPSBhcHAuY2hhcmFjdGVyLndpZHRoO1xyXG4gICAgICAgIGFwcC53cmFwcGVySGVpZ2h0ID0gYXBwLmNoYXJhY3Rlci5oZWlnaHQ7XHJcbiAgICAgICAgYXBwLmNhbnZhc1dpZHRoID0gYXBwLmNoYXJhY3Rlci53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5jYW52YXNIZWlnaHQgPSBhcHAuY2hhcmFjdGVyLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5hbmltYXRpb25RdWV1ZS51bnNoaWZ0KFtdLmNvbmNhdChhcHAuY2FjaGVkU3ByaXRlcykpO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIE9iamVjdC5rZXlzKGFwcC5jYWNoZWRJbWFnZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBkZWxldGUgYXBwLmNhY2hlZEltYWdlc1trZXldO1xyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgIC8vYXBwLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcblxyXG4gICAgICAgIC8qY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cub3V0ZXJIZWlnaHQ7XHJcbiAgICAgXHJcbiAgICAgICAgYmxvb21QYXNzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgZnhhYVNoYWRlci51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnNldCgxIC8gKHdpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pLCAxIC8gKGhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSk7XHJcbiAgICAgXHJcbiAgICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICBcclxuICAgICAgICBjYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICBcclxuICAgICAgICBjb21wb3Nlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxuICAgICAgICBjb21wb3Nlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpOyovXHJcblxyXG4gICAgICAgIC8qYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsqL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgICAgYXBwLnRhbGsoYXBwLnVzZXIudWlkKTtcclxuICAgICAgICBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAvKmlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKGJlc3RJbnRlcnNlY3QgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpbmdCb25lSW5kZXggPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lID0geyBwb2ludDogeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0sIGRpcmVjdGlvbjogeyB4OiAwLCB5OiAwLCB9LCBkaXN0YW5jZTogMCwgaW5kZXg6IC0xIH07XHJcbiAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0JvbmVHcm91cCBvZiB2cm1Nb2RlbC5zcHJpbmdCb25lTWFuYWdlci5zcHJpbmdCb25lR3JvdXBMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lIG9mIHNwcmluZ0JvbmVHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHNwcmluZ0JvbmUuYm9uZS5nZXRXb3JsZFBvc2l0aW9uKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmRpc3RhbmNlVG8oYmVzdEludGVyc2VjdC5wb2ludCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZUJvbmUuaW5kZXggPSBzcHJpbmdCb25lSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaW5nQm9uZUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zZXF1ZW5jZVF1ZXVlLnB1c2goYXBwLnByZXBhcmUoYXBwLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiVG91Y2hTdGFydFwiKSwgYmVzdEludGVyc2VjdC5vYmplY3QubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGV2ZW50ID0+IHtcclxuXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLyppZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoRW5kXCIpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9Ki9cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKHRhcENvdW50ID09IDApIHtcclxuICAgICAgICAgICAgdGFwQ291bnQrKztcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFwQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICAgICAgLypsZXQgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgICAgICAgICAgbGV0IGJlc3RJbnRlcnNlY3QgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgICAgIG1vdXNlLnggPSAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIuMCAtIDEuMDtcclxuICAgICAgICAgICAgbW91c2UueSA9IC0oZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAvIHdpbmRvdy5vdXRlckhlaWdodCkgKiAyLjAgKyAxLjA7XHJcbiAgICBcclxuICAgICAgICAgICAgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobW91c2UsIGNhbWVyYSk7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaW50ZXJzZWN0IG9mIHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHNjZW5lLmNoaWxkcmVuLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdC5kaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdEludGVyc2VjdCA9IGludGVyc2VjdDtcclxuICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGludGVyc2VjdC5kaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChiZXN0SW50ZXJzZWN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaW5nQm9uZUluZGV4ID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZSA9IHsgcG9pbnQ6IHsgeDogZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCwgeTogZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSB9LCBkaXJlY3Rpb246IHsgeDogMCwgeTogMCwgfSwgZGlzdGFuY2U6IDAsIGluZGV4OiAtMSB9O1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lR3JvdXAgb2YgdnJtTW9kZWwuc3ByaW5nQm9uZU1hbmFnZXIuc3ByaW5nQm9uZUdyb3VwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZSBvZiBzcHJpbmdCb25lR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzcHJpbmdCb25lLmJvbmUuZ2V0V29ybGRQb3NpdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5kaXN0YW5jZVRvKGJlc3RJbnRlcnNlY3QucG9pbnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lLmluZGV4ID0gc3ByaW5nQm9uZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoU3RhcnRcIiksIGJlc3RJbnRlcnNlY3Qub2JqZWN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGxvb2tBbmltYXRpb24gPSB7IHRpbWU6IDAuMCwgZHVyYXRpb246IDAuNSwgc291cmNlOiB7IHg6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi54LCB5OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueSB9LCB0YXJnZXQ6IHsgeDogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSAwLjUgKiB3aW5kb3cuaW5uZXJXaWR0aCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAxMC4wLCB5OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIDAuNSAqIHdpbmRvdy5vdXRlckhlaWdodCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAtMTAuMCB9IH07XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShtb3VzZSwgY2FtZXJhKTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgKHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHNjZW5lLmNoaWxkcmVuLCB0cnVlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGFwcC50YWxrKGFwcC51c2VyLnVpZCk7XHJcbiAgICAgICAgICAgIGFjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgICAgICB0YXBDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8vbG9va0FuaW1hdGlvbiA9IHsgdGltZTogMC4wLCBkdXJhdGlvbjogMC41LCBzb3VyY2U6IHsgeDogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLngsIHk6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi55IH0sIHRhcmdldDogeyB4OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIDAuNSAqIHdpbmRvdy5pbm5lcldpZHRoKSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIDEwLjAsIHk6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gMC41ICogd2luZG93Lm91dGVySGVpZ2h0KSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIC0xMC4wIH0gfTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8qbG9va0FuaW1hdGlvbiA9IHsgdGltZTogMC4wLCBkdXJhdGlvbjogMC41LCBzb3VyY2U6IHsgeDogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLngsIHk6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi55IH0sIHRhcmdldDogeyB4OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIDAuNSAqIHdpbmRvdy5pbm5lcldpZHRoKSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIDEwLjAsIHk6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gMC41ICogd2luZG93Lm91dGVySGVpZ2h0KSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIC0xMC4wIH0gfTtcclxuICAgIFxyXG4gICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGFwcC5zZXF1ZW5jZVF1ZXVlLnB1c2goYXBwLnByZXBhcmUoYXBwLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiVG91Y2hFbmRcIikpKTtcclxuICAgICAgICB9Ki9cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGUgPT4ge1xyXG4gICAgICAgIGlmIChlLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5pc0RhcmtNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=