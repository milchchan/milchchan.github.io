!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=1)}([function(e,t,n){var r;e.exports=((r=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),t(++n%i.children.length)}),!1);var s=(performance||Date).now(),a=s,o=0,c=e(new r.Panel("FPS","#0ff","#002")),u=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(u.update(e-s,200),e>a+1e3&&(c.update(1e3*o/(e-a),100),a=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:i,setMode:t}}).Panel=function(e,t,n){var r=1/0,i=0,s=Math.round,a=s(window.devicePixelRatio||1),o=80*a,c=48*a,u=3*a,l=2*a,h=3*a,d=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=o,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,o,c),g.fillStyle=t,g.fillText(e,u,l),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(c,y){r=Math.min(r,c),i=Math.max(i,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,o,d),g.fillStyle=t,g.fillText(s(c)+" "+e+" ("+s(r)+"-"+s(i)+")",u,l),g.drawImage(m,h+a,d,f-a,p,h,d,f-a,p),g.fillRect(h+f-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-a,d,a,s((1-c/y)*p))}}},r)},function(e,t,n){"use strict";n.r(t);var r=n(0),i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},s={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var n=d(e),r=c(h.und(n[0])?1:n[0],.1,100),i=c(h.und(n[1])?100:n[1],.1,100),s=c(h.und(n[2])?10:n[2],.1,100),a=c(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/r),l=s/(2*Math.sqrt(i*r)),f=l<1?u*Math.sqrt(1-l*l):0,p=l<1?(l*u-a)/f:-a+u;function m(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=0,r=0;;)if(1===m(n+=1/6)){if(++r>=16)break}else r=0;var i=n*(1/6)*1e3;return o.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var m,g,y=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,i,s){return((e(i,s)*r+t(i,s))*r+n(i))*r}function i(r,i,s){return 3*e(i,s)*r*r+2*t(i,s)*r+n(i)}return function(e,t,n,s){if(0<=e&&e<=1&&0<=n&&n<=1){var a=new Float32Array(11);if(e!==t||n!==s)for(var o=0;o<11;++o)a[o]=r(.1*o,e,n);return function(i){return e===t&&n===s||0===i||1===i?i:r(c(i),t,s)}}function c(t){for(var s=0,o=1;10!==o&&a[o]<=t;++o)s+=.1;--o;var c=s+.1*((t-a[o])/(a[o+1]-a[o])),u=i(c,e,n);return u>=.001?function(e,t,n,s){for(var a=0;a<4;++a){var o=i(t,n,s);if(0===o)return t;t-=(r(t,n,s)-e)/o}return t}(t,c,e,n):0===u?c:function(e,t,n,i,s){var a,o,c=0;do{(a=r(o=t+(n-t)/2,i,s)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++c<10);return o}(t,s,s+.1,e,n)}}}(),v=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),r=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},m["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},m["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),m);function w(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],r=v[n],i=d(e);switch(n){case"spring":return f(e,t);case"cubicBezier":return l(y,i);case"steps":return l(p,i);default:return l(r,i)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var a=e[s];t.call(r,a,s,e)&&i.push(a)}return i}function k(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?k(t):t)}),[])}function M(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function D(e,t){return e.some((function(e){return e===t}))}function T(e){var t={};for(var n in e)t[n]=e[n];return t}function I(e,t){var n=T(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function L(e,t){var n=T(e);for(var r in t)n[r]=h.und(e[r])?t[r]:e[r];return n}function S(e){return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),s=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,o=parseInt(i[3],10)/100,c=i[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=o;else{var l=o<.5?o*(1+a):o+a-o*a,h=2*o-l;t=u(h,l,s+1/3),n=u(h,l,s),r=u(h,l,s-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+c+")"}(e):void 0;var t,n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function P(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function q(e,t){return e.getAttribute(t)}function C(e,t,n){if(D([n,"deg","rad","turn"],A(t)))return t;var r=o.CSS[t+n];if(!h.und(r))return r;var i=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;s.removeChild(i);var c=a*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?C(e,i,n):i}}function O(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(q(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&D(a,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function W(e){if(h.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function j(e,t,n,r){var i=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),s=W(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?C(e,s,r):s}function B(e,t,n,r){switch(O(e,t)){case"transform":return j(e,t,r,n);case"css":return E(e,t,n);case"attribute":return q(e,t);default:return e[t]||0}}function R(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=A(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function N(e,t){if(h.col(e))return S(e);if(/\s/g.test(e))return e;var n=A(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function H(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var s=n.getItem(i);i>0&&(r+=$(t,s)),t=s}return r}function Q(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*q(e,"r")}(e);case"rect":return function(e){return 2*q(e,"width")+2*q(e,"height")}(e);case"line":return function(e){return $({x:q(e,"x1"),y:q(e,"y1")},{x:q(e,"x2"),y:q(e,"y2")})}(e);case"polyline":return H(e);case"polygon":return function(e){var t=e.points;return H(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),s=q(r,"viewBox"),a=i.width,o=i.height,c=n.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:a,h:o,vW:c[2],vH:c[3]}}function F(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var i=U(e.el,e.svg),s=r(),a=r(-1),o=r(1),c=n?1:i.w/i.vW,u=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*u;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=N(h.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:h.str(e)||t?r.split(n):[]}}function _(e){return x(e?k(h.arr(e)?e.map(M):M(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=_(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:W(e)}}}))}function z(e,t){var n=T(t);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),h.arr(e)){var r=e.length;2===r&&!h.obj(e[0])?e={value:e}:h.fnc(t.duration)||(n.duration=t.duration/r)}var i=h.arr(e)?e:[e];return i.map((function(e,n){var r=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(r.delay)&&(r.delay=n?0:t.delay),h.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return L(e,n)}))}function Z(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=L(function(e){for(var t=x(k(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)h.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)h.key(i)&&n.push({name:i,tweens:z(t[i],e)});return n}function J(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=P(e[r],t);h.arr(i)&&1===(i=i.map((function(e){return P(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),s=i.value,a=h.arr(s)?s[1]:s,o=A(a),c=B(t.target,e.name,o,t),u=n?n.to.original:c,l=h.arr(s)?s[0]:u,d=A(l)||A(c),f=o||d;return h.und(a)&&(a=u),i.from=V(l,f),i.to=V(R(a,l),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=w(i.easing,i.duration),i.isPath=h.pth(s),i.isPathTargetInsideSVG=i.isPath&&h.svg(t.target),i.isColor=h.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach((function(e,t){s+=t+"("+e+") "})),e.style.transform=s}}};function X(e,t){G(e).forEach((function(e){for(var n in t){var r=P(t[n],e),i=e.target,s=A(r),a=B(i,n,s,e),o=R(N(r,s||A(a)),a),c=O(i,n);Y[c](i,n,o,e.transforms,!0)}}))}function K(e,t){return x(k(e.map((function(e){return t.map((function(t){return function(e,t){var n=O(e.target,t.name);if(n){var r=J(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function ee(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var te=0;var ne=[],re=function(){var e;function t(n){for(var r=ne.length,i=0;i<r;){var s=ne[i];s.paused?(ne.splice(i,1),r--):(s.tick(n),i++)}e=i>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){se.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(ne.forEach((function(e){return e._onDocumentVisibility()})),re()))})),function(){e||ie()&&se.suspendWhenDocumentHidden||!(ne.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function se(e){void 0===e&&(e={});var t,n=0,r=0,a=0,o=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var h=function(e){var t=I(i,e),n=I(s,e),r=Z(n,e),a=G(e.targets),o=K(a,r),c=ee(o,n),u=te;return te++,L(t,{id:u,children:[],animatables:a,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(h);function d(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function p(){n=0,r=f(h.currentTime)*(1/se.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=h.animations,r=n.length;t<r;){var i=n[t],s=i.animatable,a=i.tweens,o=a.length-1,u=a[o];o&&(u=x(a,(function(t){return e<t.end}))[0]||u);for(var l=c(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,y=void 0,v=0;v<g;v++){var w=void 0,b=u.to.numbers[v],k=u.from.numbers[v]||0;w=u.isPath?F(u.value,d*b,u.isPathTargetInsideSVG):k+d*(b-k),p&&(u.isColor&&v>2||(w=Math.round(w*p)/p)),m.push(w)}var M=f.length;if(M){y=f[0];for(var D=0;D<M;D++){f[D];var T=f[D+1],I=m[D];isNaN(I)||(y+=T?I+T:I+" ")}}else y=m[0];Y[i.type](s.target,i.property,y,s.transforms),i.currentValue=y,t++}}function y(e){h[e]&&!h.passThrough&&h[e](h)}function v(e){var i=h.duration,s=h.delay,p=i-h.endDelay,v=f(e);h.progress=c(v/i*100,0,100),h.reversePlayback=v<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=o;n--;)m(e,t[n]);else for(var r=0;r<o;r++)m(e,t[r])}(v),!h.began&&h.currentTime>0&&(h.began=!0,y("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,y("loopBegin")),v<=s&&0!==h.currentTime&&g(0),(v>=p&&h.currentTime!==i||!i)&&g(i),v>s&&v<p?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),g(v)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=c(v,0,i),h.began&&y("update"),e>=i&&(r=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=a,y("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&d()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),!h.passThrough&&"Promise"in window&&(u(),l(h)))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=o=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,g(h.reversed?h.duration:0)},h._onDocumentVisibility=p,h.set=function(e,t){return X(e,t),h},h.tick=function(e){a=e,n||(n=a),v((a+(r-n))*se.speed)},h.seek=function(e){v(f(e))},h.pause=function(){h.paused=!0,p()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,ne.push(h),p(),re())},h.reverse=function(){d(),h.completed=!h.reversed,p()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){oe(_(e),h)},h.reset(),h.autoplay&&h.play(),h}function ae(e,t){for(var n=t.length;n--;)D(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,r=t.children;ae(e,n);for(var i=r.length;i--;){var s=r[i],a=s.animations;ae(e,a),a.length||s.children.length||r.splice(i,1)}n.length||r.length||t.pause()}se.version="3.2.1",se.speed=1,se.suspendWhenDocumentHidden=!0,se.running=ne,se.remove=function(e){for(var t=_(e),n=ne.length;n--;){oe(t,ne[n])}},se.get=B,se.set=X,se.convertPx=C,se.path=function(e,t){var n=h.str(e)?b(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:Q(n)*(r/100)}}},se.setDashoffset=function(e){var t=Q(e);return e.setAttribute("stroke-dasharray",t),t},se.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?w(t.easing):null,i=t.grid,s=t.axis,a=t.from||0,o="first"===a,c="center"===a,u="last"===a,l=h.arr(e),d=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=A(l?e[1]:e)||0,m=t.start||0+(l?d:0),g=[],y=0;return function(e,t,h){if(o&&(a=0),c&&(a=(h-1)/2),u&&(a=h-1),!g.length){for(var v=0;v<h;v++){if(i){var w=c?(i[0]-1)/2:a%i[0],b=c?(i[1]-1)/2:Math.floor(a/i[0]),x=w-v%i[0],k=b-Math.floor(v/i[0]),M=Math.sqrt(x*x+k*k);"x"===s&&(M=-x),"y"===s&&(M=-k),g.push(M)}else g.push(Math.abs(a-v));y=Math.max.apply(Math,g)}r&&(g=g.map((function(e){return r(e/y)*y}))),"reverse"===n&&(g=g.map((function(e){return s?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(l?(f-d)/y:d)*(Math.round(100*g[t])/100)+p}},se.timeline=function(e){void 0===e&&(e={});var t=se(e);return t.duration=0,t.add=function(n,r){var i=ne.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&ne.splice(i,1);for(var c=0;c<a.length;c++)o(a[c]);var u=L(n,I(s,e));u.targets=u.targets||e.targets;var l=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=h.und(r)?l:R(r,l),o(t),t.seek(u.timelineOffset);var d=se(u);o(d),a.push(d);var f=ee(a,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},se.easing=w,se.penner=v,se.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ce=se;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();const ue="debug"===decodeURIComponent(window.location.hash.substring(1));let le=firebase.database(),he=firebase.storage();const de=new r;de.domElement.style.position="fixed",de.domElement.style.top="auto",de.domElement.style.bottom="0",de.domElement.style.left="auto",de.domElement.style.right="0",ue||de.domElement.classList.add("is-hidden");let fe=0;let pe=0;let me=0;window.addEventListener("load",e=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(e=>{e.onupdatefound=function(){e.update()}}).catch(e=>{console.error(e.code,e.message)}),navigator.serviceWorker.addEventListener("message",e=>{null!==navigator.serviceWorker.controller&&"command"in e.data&&"caches"===e.data.command&&navigator.serviceWorker.controller.postMessage({command:"clear",caches:e.data.caches})}));var t=Vue.createApp({data:()=>({isDebug:ue,isDarkMode:!1,isMuted:!0,isLoading:!1,isLocating:!1,isRevealed:!1,isOverlayed:!1,isBlinded:!1,isPopup:!1,isExpanded:!1,isLearning:!1,isAnimating:!1,isHangingOn:!1,isSubmitting:!1,elapsed:0,map:null,layer:null,mode:null,queryQueue:[],queryCache:{},cachedTracks:{},cachedDocuments:[],documentQueue:[],sequenceQueue:[],progress:0,user:null,input:"",animatedInputLength:0,maxInputLength:100,inputHasError:!1,messages:[],maxMessages:10,word:null,recentWords:[],tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,stars:-1,animatedStars:0,screenshot:null,notifications:[],recentImages:[],backgroundImagesQueue:[],backgroundImages:[],preloadImages:[],isUploading:!1,animations:null,currentAnimations:[],blendShapeAnimations:[],insetTop:0,insetBottom:0,text:[],popupTextHeight:0,animatedPopupTextHeight:0,tickerWidth:0,animatedTickerWidth:0,message:null,states:{},character:null,wordDictionary:{},reverseWordDictionary:{},attributes:["名前","所属","時間","場所","する事","生き物","食べ物","飲み物","聞くもの","見るもの","読むもの","使う物","身につけるもの","乗り物","部位","病気"]}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};ce({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll("#app>.background>div");if(e.length>1){const t=e.length-1,n=15;let r=0,i=null;for(const s of e){const a=[];for(let t=0;t<e.length;t++)t===r?a.push({visibility:"visible"}):a.push({visibility:"hidden"});const o=s.animate(a,{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0});null===i?i=o.startTime:o.startTime=i,r++}}})},deep:!0},text:{handler:()=>{t.$nextTick(()=>{t.popupTextHeight=t.$refs.popupText.getBoundingClientRect().height})},deep:!0},popupTextHeight(e){const t={height:this.animatedPopupTextHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedPopupTextHeight=t.height}})},stars(e){const t={count:this.animatedStars};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};ce({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{signIn:function(e){if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,idToken:t.idToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){const e=t.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:e}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,secret:t.secret}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential"),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"caches"})}).catch(e=>{console.error(e.code,e.message)})},refresh:function(e){this.update(!0)},share3:async function(e){const t=await navigator.permissions.query({name:"geolocation"});if("granted"==t.state||"prompt"==t.state)try{const t=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{e(t)},e=>{t(e)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),n=this,r=this.encodeGeohash(t.coords.latitude,t.coords.longitude),i=Math.floor(new Date/1e3);if(null===e){const e=await le.ref(`wonderland/users/${n.user.uid}/dictionary/words`).orderByValue().limitToLast(100).once("value"),s=e.exists()?e.val():null;await new Promise((e,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,tags:s,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async t=>{t?a(t):e()})})}else await new Promise((s,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,name:e.name,attributes:e.attributes,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async e=>{e?a(e):s()})});this.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:this.map.getZoom()<16?16:this.map.getZoom()})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}},update:async function(e=!1){this.isLoading=!0;const t=this,n=this.map.getCenter(),r=await this.fetch(e,n.latitude,n.longitude);if(e&&Object.keys(this.cachedTracks).forEach((function(e){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e]})),null!==r){const e=Math.floor(new Date/1e3);let n=!1;for(const i in r)for(const s of r[i]){let r=null;for(const e in this.cachedTracks)if(s.id===this.cachedTracks[e].id){r=e;break}if(null===r){const r=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude),{title:s.name,subTitle:this.formatTime(e-s.timestamp),icon:"/images/Marker-Star.svg"});this.setImage(r,s.user),this.cachedTracks[r.id]=s,this.cachedTracks[r.id].pushpin=r,this.cachedTracks[r.id].handlers=[Microsoft.Maps.Events.addHandler(r,"click",async e=>{t.mode=this.cachedTracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(r,"dblclick",e=>{window.location.hash=t.cachedTracks[e.target.id].id})],this.map.entities.push(r),n=!0}else if(s.timestamp>this.cachedTracks[r].timestamp){const t=this.cachedTracks[r].pushpin,i=this.cachedTracks[r].handlers;t.setLocation(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude)),t.setOptions({title:s.name,subTitle:this.formatTime(e-s.timestamp)}),this.setImage(t,s.user),this.cachedTracks[r]=s,this.cachedTracks[r].pushpin=t,this.cachedTracks[r].handlers=i,n=!0}}const i=[];for(const e in r)for(const t of r[e])i.push(t.id);if(Object.keys(this.cachedTracks).forEach((function(e){if(!i.some(n=>n===t.cachedTracks[e].id)){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e],n=!0}})),n){const e=10;try{const t=await new Promise(t=>{const n=Math.pow(10,-6);let i=[],s=[],a={};(new Date).getTime();let o={},c=[],u=n;for(const e in r){let t=[],n=[];for(const i of r[e])t.push(i.name),n.includes(i.name)||(i.name in a?a[i.name]+=1:a[i.name]=1,n.push(i.name));i.push(t)}for(const e in a)a[e]=Math.log(i.length/(a[e]+n));for(const e of i){let t={};for(const n of e)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.length,n in o||(o[n]=0);s.push(t)}for(const e in o)for(const t of s)if(e in t){const n=t[e]*a[e];n>o[e]&&(o[e]=n)}for(const e in o)e.length>1&&"..."!=e&&c.push({term:e,value:o[e]});c.sort((e,t)=>t.value-e.value),c.length>e&&c.splice(e);for(const e of c)e.value>u&&(u=e.value);for(const e of c)e.value/=u;c.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),t([i,c])});this.cachedDocuments.splice(0),this.tags.splice(0);for(const e of t[0])this.cachedDocuments.push(e);for(let e=0;e<t[1].length;e++)this.tags.push({index:e,name:t[1][e].term,score:t[1][e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}}}this.isLoading=!1},fetch:async function(e,t,n){const r=this,i=this.encodeGeohash(t,n,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]);let s=[i];const a=[],o={};let c=[],u=this.decodeGeohash(i);const l=Math.floor(new Date/1e3),h={};if(c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),i.length>2){const e=this.getNeighbors(i);for(const t in e)s.push(e[t]),u=this.decodeGeohash(e[t]),c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(c),this.queryQueue.push(i);for(const t of s){if(!e&&t in this.queryCache&&l-this.queryCache[t].timestamp<60){for(const e of this.queryCache[t].data)a.push(e),t in o?o[t].push(e):o[t]=[e];continue}const n=await le.ref("wonderland/tracks").orderByChild("key").limitToLast(50).startAt(t).endAt(t.padEnd(12,"z")+"").once("value");if(h[t]={timestamp:l,data:[]},n.exists()){const e=n.val();for(const n in e)e[n].id=n,a.push(e[n]),h[t].data.push(e[n]),t in o?o[t].push(e[n]):o[t]=[e[n]]}}if(this.queryQueue.shift(),this.queryQueue.length>0)return null;for(const e in h)this.queryCache[e]=h[e];Object.keys(this.queryCache).forEach((function(e){l-r.queryCache[e].timestamp>=60&&delete r.queryCache[e]}));const d=this.take(a.sort((e,t)=>t.timestamp-e.timestamp),100);return Object.keys(o).forEach((function(e){for(let t=o[e].length-1;t>0;t--)d.includes(o[e][t])||o[e].splice(t,1);0===o[e].length&&delete o[e]})),o},locate:async function(e){if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});if("granted"==e.state||"prompt"==e.state){const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}}else{const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}},move:function(e){this.notify({text:"hogehoge",accent:this.character.accent,image:this.character.image},1e5)},send:async function(e){if(this.isDebug)if(this.input.length>0){let e=[],t=[];for(const n of this.input.split(/\s/))this.backgroundImages.some(e=>e.id===n)?e.push(n):t.push(n);if(e.length>0&&t.length>0){for(const n of e)le.ref("wonderland/images/"+n).transaction((function(e){return e.tags=t,e}));this.isLearning=!1}else this.input.length<=this.maxInputLength&&(this.learn(this.input),this.input="",this.isLearning=!1)}else for(const e of this.backgroundImages){this.input=e.id;break}else this.input.length>0&&this.input.length<=this.maxInputLength&&(this.learn({name:this.input}),this.input="",this.isLearning=!1)},setImage:async function(e,t,n=!1){if("image"in t){let n;try{n=await new Promise(async(e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=e=>{n(e)},t.image.startsWith("gs://")?r.src=await he.refFromURL(t.image).getDownloadURL():(r.crossOrigin="Anonymous",r.src=t.image)})}catch(t){return e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                            <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                                <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                    <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                                </g>\n                                <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                    <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                    <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                        <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                    </g>\n                                </g>\n                            </svg>'}),void console.error(t)}const r=document.createElement("canvas"),i=r.getContext("2d");r.width=n.width,r.height=n.height,i.drawImage(n,0,0,n.width,n.height);const s='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+r.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:s})}},change:function(e){this.input.length<=this.maxInputLength?this.inputHasError=!1:this.inputHasError=!0},upload:async function(e){function t(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}const n=this,r=he.ref(),i=[],s=[];for(const t of e.target.files)i.push(t);this.isUploading=!0;for(const e of i.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)){const a=r.child("images/"+t()).put(e);try{await new Promise((function(e,t){a.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes/i.length+s.length/i.length}),(function(e){t(e)}),(function(){e()}))}))}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}s.push(a.snapshot.ref.fullPath)}le.ref("wonderland/images").push({paths:s,timestamp:Math.floor(new Date/1e3)}),this.progress=0,this.isUploading=!1},learn:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=[],r=[];if("attributes"in e)for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}));else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).once("value");if(t.exists()){const e=t.val();for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}))}else for(const e of this.attributes)r.push({name:e,value:!1})}this.word={name:e.name,attributes:r},"user"in e&&(this.word.user=e.user);for(const r of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===r.type?n.push({type:r.type,speed:r.speed,duration:r.duration,text:t(r.text,e.name)}):n.push(r);n.length>0&&this.sequenceQueue.push(n)},check:function(e){for(const t of this.word.attributes)t===e.target.dataset.attribute&&(t.value=e.target.checked)},share:async function(e){const t=this,n=this.map.getCenter(),r=this.encodeGeohash(n.latitude,n.longitude),i={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL},s=Math.floor(new Date/1e3);e.name in this.wordDictionary&&delete this.wordDictionary[e.name],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.name)&&delete this.reverseWordDictionary[t]}),this.isSubmitting=!0,le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).transaction((function(t){if(!t){t={attributes:{},timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return"user"in e&&(t.user={id:e.user.id,name:e.user.name,image:e.user.image}),t}{let n=!1;for(const r of e.attributes){if(!(r.name in t.attributes)){n=!0;break}if(t.attributes[r.name]>0){if(!r.value){n=!0;break}}else if(r.value){n=!0;break}}if(n){let n=!0;const r={attributes:{}};for(const i of e.attributes)i.value?(i.name in t.attributes&&t.attributes[i.name]>0?r.attributes[i.name]=t.attributes[i.name]:r.attributes[i.name]=s,n=!1):r.attributes[i.name]=0;return n?null:(r.timestamp=s,r)}}}),(async function(a,o,c){if(o)if(c.exists()){const a=c.val(),o=[];for(const e in a.attributes)"number"==typeof a.attributes[e]&&a.attributes[e]>0&&t.attributes.includes(e)&&o.push(a.attributes[e]);if(1===o.length&&o[0]===s){function u(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const n of t.prepare(t.character.sequences.filter(e=>"Learned"===e.name)))"Message"===n.type&&t.notify({text:u(n.text,e.name),accent:t.character.accent,image:t.character.image});t.isMuted||t.$refs.twinkle.play()}"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(o){const c={};o?(o.key=`${r}${s}`,o.location={latitude:n.latitude,longitude:n.longitude},o.geohash=r,o.timestamp=s):o={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,user:i,timestamp:s};for(const e in a.attributes)t.attributes.includes(e)&&(c[e]=a.attributes[e]);return o.attributes=c,o}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}else le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return e&&e>1?e-1:null})),le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(e){return null}),(function(e,n,r){n?r.exists()||t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1}));else a?(t.notify({text:a.message,accent:t.character.accent,image:t.character.image}),console.error(a),t.isSubmitting=!1):"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(t){t={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,attributes:{},user:i,timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return t}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}))},next:async function(e,t=50){let n;if(n=null===e?await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().limitToFirst(t+1).once("value"):await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t+1).once("value"),"words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&this.mode.indexes.push(this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes});this.mode.words.length===t+1?this.mode.next=this.mode.words.pop():this.mode.next=null}},previous:async function(e,t=50){let n=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t).once("value");if("words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&(this.mode.next=this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes})}},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},check2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=this,r=Math.floor(new Date/1e3),i=e.target.checked,s=e.target.dataset.attribute,a=e.target.dataset.word,o={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL};e.target.dataset.word in this.wordDictionary&&delete this.wordDictionary[e.target.dataset.word],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.target.dataset.word)&&delete this.reverseWordDictionary[t]}),le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+a).transaction((function(e){if(e){if(!i){let t=!0;for(const r in e)if(r!=s&&"number"==typeof e[r]&&e[r]>0&&n.attributes.includes(r)){t=!1;break}return t?null:(e[s]=0,e.timestamp=r,e)}}else{e={};for(const t of n.attributes)t!=s&&(e[t]=0)}return e.name=a,e[s]=e.timestamp=r,"user"in e!=!1&&e.user.id!==o.id||(e.user=o),e}),(function(e,i,s){if(i){if(s.exists()){const e=s.val();let i=[];for(const t in e)"number"==typeof e[t]&&e[t]>0&&n.attributes.includes(t)&&i.push(e[t]);if(1===i.length&&i[0]===r){le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const r of n.prepare(n.character.sequences.filter(e=>"Learned"===e.name)))"Message"===r.type&&n.notify({text:t(r.text,e.name),accent:n.character.accent,image:n.character.image});n.isMuted||n.$refs.twinkle.play()}}else le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){if(e)return e-1}));n.word=null}else e&&(n.notify({text:e.message,accent:n.character.accent,image:n.character.image}),console.error(e))}))},learn2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}let n=[];for(const e of this.attributes)n.push({name:e,value:!1});if("object"==typeof e){const r=this,i={user:e.user,timestamp:Math.floor(new Date/1e3)};for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i[t]=e.attributes[t]:i[t]=0);try{const[s,a]=await new Promise((t,n)=>{le.ref("wonderland/users/"+r.user.uid+"/dictionary/words/"+e.name).transaction((function(e){if(null===e)return i}),(function(e,r,i){e?n(e):t([r,i])}))});if(s){if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}le.ref("wonderland/users/"+e.user.id+"/stars").transaction((function(e){return(e||0)+1}));for(const e of this.prepare(this.character.sequences.filter(e=>"Learned"===e.name)))"Message"===e.type&&this.notify({text:t(e.text,word.name),accent:this.character.accent,image:this.character.image})}else if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}e=e.name}else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e).once("value");if(t.exists()){const e=t.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}let r=[];this.word={name:e,attributes:n};for(const n of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===n.type?r.push({type:n.type,speed:n.speed,duration:n.duration,text:t(n.text,e)}):r.push(n);r.length>0&&this.sequenceQueue.push(r)},activate:async function(){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();await this.talk(this.user.uid,e.filter(e=>e!==this.character.name))||this.talk(this.user.uid)}else this.talk(this.user.uid);fe=pe=0},talk:async function(e,t=[]){let n=this.character.sequences.filter(e=>"Activate"===e.name),r=[];if(this.isLoading=!0,t.length>0){const i=Math.floor(new Date/1e3),s=3600,a=Object.assign({},this.states),o=new TinySegmenter,c=[],u=[];for(const n of t){if(n in this.wordDictionary==!1||i-this.wordDictionary[n].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+n).once("value");if(this.wordDictionary[n]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(let t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[n].attributes.push(t)}}for(const e of this.wordDictionary[n].attributes)c.includes(e)||c.push(e)}for(const l of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(n)){const n=this.prepare([l]);let h=!1;for(const a of n){if("Message"==a.type)for(const l of Array.isArray(a.text)?a.text:o.segment(a.text)){if(Array.isArray(l)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}if(l.length>1&&!u.includes(l)){if(l in this.wordDictionary==!1||i-this.wordDictionary[l].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+l).once("value");if(this.wordDictionary[l]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(const t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[l].attributes.push(t)}}for(const i of this.wordDictionary[l].attributes)if(c.includes(i)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}u.push(l)}}if(h){r.splice(0);break}}this.states=a}return this.isLoading=!1,!1}for(const t of this.prepare(n))if("Message"===t.type){const n=await this.generate(e,t.text);if(null===n)return this.isLoading=!1,!1;{let e,i;[e,i]=n,r.push({type:t.type,speed:t.speed,duration:t.duration,text:e})}}else r.push(t);return r.length>0?(this.sequenceQueue.push(r),this.isLoading=!1,!0):(this.isLoading=!1,!1)},generate:async function(e,t,n=[]){function r(e){let t=[],n=Number.MIN_VALUE,r=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);for(let t=0;t<e.length;t++)r+=Math.exp(e[t]-n);for(let i=0;i<e.length;i++)t.push(Math.exp(e[i]-n)/r);return t}const i=Math.floor(new Date/1e3);let s=new TinySegmenter,a=Array.isArray(t)?t:s.segment(t),o={},c=[],u=new RegExp("[.#$\\[\\]]"),l={},h="",d=0;const f=Math.pow(10,-6);let p=[{sequence:[],score:1}];for(const t of n){if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const e of this.wordDictionary[t].attributes)e in o?o[e].push(t):o[e]=[t]}for(const t of a){if(!c.includes(t)){if(Array.isArray(t)){let n=[],s=[];for(const r of t)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}else if(!u.test(t)){let n=[],s=[];if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const r of this.wordDictionary[t].attributes)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}c.push(t)}d++}const m=p[function(e){const t=Math.random();let n=0,r=0;for(let i of e){if(n<=t&&t<n+i)break;n+=i,r++}return r}(r(p.map(e=>e.score)))];for(let e=0;e<a.length;e++)if(a[e]in l)void 0===l[a[e]]?h+=a[e]:h+=l[a[e]];else{let t=!0;for(let n=0;n<m.sequence.length;n++)if(m.sequence[n].index==e){a[e]==m.sequence[n].term?l[a[e]]=void 0:(l[a[e]]=m.sequence[n].term,h+=m.sequence[n].term,t=!1);break}if(t){if(Array.isArray(a[e]))return null;h+=a[e]}}return[h,l]},notify:function(e,t=3e3){const n=this;e.id=window.setTimeout(e=>{for(let t=0;t<n.notifications.length;t++)if(n.notifications[t].id===e.id){n.notifications.splice(t,1);break}},t,e),this.notifications.unshift(e)},blinded:async function(){if(0==this.backgroundImagesQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.recentImages))this.backgroundImagesQueue.push(e)}const e=this.backgroundImagesQueue.shift();this.preloadImages.splice(0),this.backgroundImages.splice(0);for(const t of e.paths)try{this.preloadImages.push({id:e.id,url:await he.ref().child(t).getDownloadURL(),timestamp:e.timestamp})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}"tags"in e&&this.talk(this.user.uid,e.tags.filter(e=>e!==this.character.name))},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},update2:async function(e,t){this.isUpdating=!0;try{const n=await new Promise(n=>{const r=Math.pow(10,-6);let i=[],s=[],a=[],o={};const c=(new Date).getTime()-432e5;let u={},l=[],h=r;for(const t in e)if("tags"in e[t]&&e[t].tags.length>0){let n=[];i.push({tokens:e[t].tags,timestamp:e[t].timestamp});for(const r of e[t].tags)n.includes(r)||(r in o?o[r]+=1:o[r]=1,n.push(r))}for(const e in o)o[e]=Math.log(i.length/(o[e]+r));for(const e of i)1e3*e.timestamp>c&&s.push(e);if(s.length<10){const e=Math.max(i.length-10,0);s.splice(0);for(let t=i.length-1;t>=e;t--)s.unshift(i[t])}for(const e of s){let t={};for(const n of e.tokens)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.tokens.length,n in u||(u[n]=0);a.push(t)}for(const e in u)for(const t of a)if(e in t){const n=t[e]*o[e];n>u[e]&&(u[e]=n)}for(const e in u)e.length>1&&"..."!=e&&l.push({term:e,value:u[e]});l.sort((e,t)=>t.value-e.value),l.length>t&&l.splice(t);for(const e of l)e.value>h&&(h=e.value);for(const e of l)e.value/=h;l.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),n(l)});this.tags.splice(0);for(let e=0;e<n.length;e++)this.tags.push({index:e,name:n[e].term,score:n[e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isUpdating=!1},scrollToTop(){this.$nextTick(()=>{window.scroll(0,0)})},scrollToEnd:function(){"number"==typeof this.scrollTimeoutID&&clearTimeout(this.scrollTimeoutID),this.scrollTimeoutID=setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),500)},formatDate:function(e){return moment.locale(window.navigator.language),moment(e).format("LT")},animationStart:function(e){this.isAnimating=!0},animationEnd:function(e){this.isPopup||(this.message=null),this.isAnimating=!1},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},arrange:function(e,t){let n=[],r=[];for(const i of e)r.length<t?r.push(i):(n.push(r),r=[i]);return n.push(r),n},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),r=Math.floor(t/3600),i=Math.floor(t/60);return n>0?n+"d":i>0?r>0?r+"h":i+"m":t%60+"s"},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},getDistance:function(e,t,n,r){var i=this.deg2rad(n-e),s=this.deg2rad(r-t),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const r=[16,8,4,2,1];var i=1,s=[],a=[],o=0,c=0;let u="";for(s[0]=-90,s[1]=90,a[0]=-180,a[1]=180;u.length<n;){if(i){const e=(a[0]+a[1])/2;t>e?(c|=r[o],a[0]=e):a[1]=e}else{const t=(s[0]+s[1])/2;e>t?(c|=r[o],s[0]=t):s[1]=t}i=!i,o<4?o++:(u+="0123456789bcdefghjkmnpqrstuvwxyz"[c],o=0,c=0)}return u},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,r=[],i=[];r[0]=-90,r[1]=90,i[0]=-180,i[1]=180;for(var s=0;s<e.length;s++)for(var a=e[s],o="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(a),c=0;c<5;c++){const e=t[c];n?(2,o&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2):(2,o&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2),n=!n}return r[2]=(r[0]+r[1])/2,i[2]=(i[0]+i[1])/2,{latitude:r[2],longitude:i[2],topleft:{latitude:r[0],longitude:i[0]},topright:{latitude:r[1],longitude:i[0]},bottomright:{latitude:r[1],longitude:i[1]},bottomleft:{latitude:r[0],longitude:i[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},r={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,r.bottom.odd=r.left.even,r.top.odd=r.right.even,r.left.odd=r.bottom.even,r.right.odd=r.top.even;var i=(e=e.toLowerCase()).charAt(e.length-1),s=e.length%2?"odd":"even",a=e.substring(0,e.length-1);return-1!=r[t][s].indexOf(i)&&(a=this.calculateAdjacent(a,t)),a+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][s].indexOf(i)]},prepare:function(e,t=null){function n(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let r=[],i=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n){if(!new RegExp(n.state).test(e))continue}r.push(n)}if(r.length>0){let e=[];for(const i of r[n(0,r.length)].sequence)null!==t&&(this.states[i.name]=t),e.push(i);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let r=[],i=[];for(const e of this.character.sequences){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let r=[];for(const i of n[n.length-1].sequence)if("Sequence"==i.type){if("sequence"in i){let t=!0;for(const n of e)if(n===i){t=!1;break}t&&r.push(i)}if(i===t)break}for(;r.length>0;)e.push(r.pop())}if("sequence"in t){let n=!0;for(const r of e)if(r===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)r.push(e.pop())}else r.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of r)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;i.push(e)}}else for(const e of r)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}i.push(e)}if(i.length>0){let t=0;for(const r of i[n(0,i.length)].sequence)e.splice(t,0,r),t++}}}else i.push(t)}}return i},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const r of e.sequence)if("Sequence"==r.type){let e=this.getSequenceStack(r,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n},animate:function(e){if(requestAnimationFrame(this.animate),null!==this.character){const r=(e-this.elapsed)/1e3;let i=!1,s=!1,a=null;if(this.sequenceQueue.length>0&&this.sequenceQueue[0].length>0)fe=0;else if(fe+=r,this.isLoading||(pe+=r),0==this.sequenceQueue.length)if(pe>=10){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();this.talk(this.user.uid,e.filter(e=>e!==this.character.name))}fe=pe=0}else(fe>=5||null===a)&&(this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Idle"===e.name))),fe=0);if(this.sequenceQueue.length>0){const e=this.sequenceQueue[0];e.length>0?"Animation"==e[0].type?e.shift():"Message"!=e[0].type||null!==this.message||i||s||(this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},text:e[0].text},e.shift()):null!==this.message||i||s||this.sequenceQueue.shift()}if(null!==this.message){if(this.message.type.reverse)if(this.message.type.count>0){if(this.message.type.elapsed+=2*r,this.message.type.elapsed>=1/this.message.type.speed){if(this.message.type.count-1<this.message.text.length){let e=Math.floor(this.message.text.length/2);this.message.type.buffer.length<=e&&this.message.type.count>0&&(this.message.type.count-=1),this.message.type.buffer.length>0&&(this.message.type.buffer=this.message.type.buffer.substring(0,this.message.type.buffer.length-1))}this.message.type.elapsed=0}}else this.isPopup=!1;else if(this.message.type.buffer.length<this.message.text.length){if(this.message.type.elapsed>=0?this.message.type.elapsed+=r:this.isAnimating||(this.isPopup?this.message.type.elapsed=r:this.isPopup=!0),this.message.type.elapsed>=1/this.message.type.speed){let e=this.message.type.buffer.length,t=Math.floor(this.message.text.length/2),n=this.message.text.length;this.message.type.count>=t&&(this.message.type.buffer+=this.message.text.charAt(e)),this.message.type.count<n&&(this.message.type.count+=1),this.message.type.elapsed=0}}else this.message.time+=r,this.message.time>=this.message.duration&&(this.message.type.reverse=!0);if(this.message.text.length===this.message.type.buffer.length){const e=this.message.text.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else{let e=new Array,r="";for(let t=0;t<this.message.text.length;t++)-1==e.indexOf(this.message.text.charAt(t))&&"\n"!=this.message.text.charAt(t)&&null==this.message.text.charAt(t).match(/\s/)&&e.push(this.message.text.charAt(t));if(e.length>0)for(let i=0;i<this.message.type.count;i++)"\n"==this.message.text.charAt(i)?r+="\n":r+=e[(t=0,n=e.length,t=Math.ceil(t),n=Math.floor(n),~~(Math.floor(Math.random()*(n-t))+t))];if(r.length>this.message.type.buffer.length){const e=(this.message.type.buffer+r.substring(this.message.type.buffer.length,r.length)).split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else if(this.text.length!==this.message.type.buffer.length){const e=this.message.type.buffer.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}}}}var t,n;this.elapsed=e}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.ticker.getBoundingClientRect().height;for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let t=0;for(const n of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))t+=n.getBoundingClientRect().width;t>0&&(this.tickerWidth=Math.min(t/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=t+"px")}},mounted:async function(){const e=this,t=localStorage.getItem("bot"),n=localStorage.getItem("credential");let r=null,i=[{path:"/assets/milch.json",probability:1}];if(t)try{const e=JSON.parse(t);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}if(n)try{r=JSON.parse(n)}catch(e){localStorage.removeItem("credential")}this.animate(),this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.ticker.getBoundingClientRect().height,this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==e.user&&e.update()});try{const e=await fetch(function(e,t){const n=Math.random();let r=0,i=0;for(let s of e){const e=t(s);if(r<=n&&n<r+e)break;r+=e,i++}return e[i]}(i,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)throw new Error(e.statusText);this.character=await e.json()}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Start"===e.name))),null===r?(this.mode="sign-in",this.isRevealed=!0):r.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(r.idToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(r.accessToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(r.accessToken,r.secret)).catch(e=>{console.error(e.code,e.message)}):(this.mode="sign-in",this.isRevealed=!0),firebase.auth().onAuthStateChanged((function(t){t?(e.user=t,e.update(),le.ref("wonderland/users/"+t.uid+"/dictionary/count").on("value",t=>{const n=t.val();e.stars=null===n?0:n}),le.ref("wonderland/users/"+t.uid).orderByChild("dictionary/words/timestamp").limitToLast(10).on("value",t=>{if(t.exists()){const n=t.val();let r=[],i=0;for(const e in n)r.push({name:e,timestamp:n[e].timestamp});for(const t of e.prepare(e.character.sequences.filter(e=>"Alert"===e.name),10))"Message"===t.type&&(e.recentWords.splice(i,0,{name:t.text,image:e.character.image}),i++);for(const t of r.sort((e,t)=>t.timestamp-e.timestamp)){let n=-1;for(let r=0;r<e.recentWords.length;r++)if(e.recentWords[r].name==t.name){n=r;break}n>=0?(e.recentWords[n].timestamp<t.timestamp&&(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(n,1)):(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(i,0,t),i++}for(let t=e.recentWords.length-1;t>=i;t--)e.recentWords.splice(t,1)}})):null!==e.user&&(le.ref("wonderland/users/"+e.user.uid+"/dictionary/count").off("value"),le.ref("wonderland/users/"+e.user.uid).off("value"),e.user=null)}))},unmounted:function(){"number"==typeof this.tickIntervalID&&clearInterval(this.tickIntervalID),null!==vrmModel&&(scene.remove(vrmModel.scene),vrmModel=null)}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height,t.insetBottom=t.$refs.ticker.getBoundingClientRect().height}),window.addEventListener("click",e=>{}),window.addEventListener("dblclick",e=>{t.talk(t.user.uid),pe=0}),window.addEventListener("mousedown",e=>{}),window.addEventListener("mousemove",e=>{}),window.addEventListener("mouseup",e=>{}),window.addEventListener("touchstart",e=>{e.stopPropagation(),0==me?(me++,setTimeout(()=>{me=0},500)):(t.talk(t.user.uid),pe=0,me=0)}),window.addEventListener("touchmove",e=>{e.stopPropagation()}),window.addEventListener("touchend",e=>{e.stopPropagation()}),window.addEventListener("touchcancel",e=>{e.stopPropagation()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmIiwiZSIsImEiLCJhcHBlbmRDaGlsZCIsImRvbSIsInUiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsIlBhbmVsIiwiaCIsInNlbGYiLCJtZW1vcnkiLCJSRVZJU0lPTiIsImFkZFBhbmVsIiwic2hvd1BhbmVsIiwiYmVnaW4iLCJlbmQiLCJ1cGRhdGUiLCJ1c2VkSlNIZWFwU2l6ZSIsImpzSGVhcFNpemVMaW1pdCIsInRoaXMiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJsb29wQmVnaW4iLCJjaGFuZ2VCZWdpbiIsImNoYW5nZSIsImNoYW5nZUNvbXBsZXRlIiwibG9vcENvbXBsZXRlIiwiY29tcGxldGUiLCJsb29wIiwiZGlyZWN0aW9uIiwiYXV0b3BsYXkiLCJ0aW1lbGluZU9mZnNldCIsImRlZmF1bHRUd2VlblNldHRpbmdzIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiZWFzaW5nIiwidmFsaWRUcmFuc2Zvcm1zIiwiY2FjaGUiLCJDU1MiLCJzcHJpbmdzIiwibWluTWF4IiwidmFsIiwic3RyaW5nQ29udGFpbnMiLCJzdHIiLCJ0ZXh0IiwiaW5kZXhPZiIsImFwcGx5QXJndW1lbnRzIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsImlzIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJzb2x2ZXIiLCJwcm9ncmVzcyIsImV4cCIsImNvcyIsInNpbiIsImNhY2hlZCIsImVsYXBzZWQiLCJyZXN0Iiwic3RlcHMiLCJjZWlsIiwiZWFzZXMiLCJmdW5jdGlvbkVhc2luZ3MiLCJiZXppZXIiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsIngiLCJnZXRURm9yWCIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJhYnMiLCJiaW5hcnlTdWJkaXZpZGUiLCJwZW5uZXIiLCJsaW5lYXIiLCJTaW5lIiwiUEkiLCJDaXJjIiwiQmFjayIsIkJvdW5jZSIsInBvdzIiLCJwb3ciLCJFbGFzdGljIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiYXNpbiIsImZvckVhY2giLCJrZXlzIiwiZWFzZUluIiwicGFyc2VFYXNpbmdzIiwiZWFzZSIsInNlbGVjdFN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWx0ZXJBcnJheSIsImNhbGxiYWNrIiwibGVuIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsInJlc3VsdCIsInB1c2giLCJmbGF0dGVuQXJyYXkiLCJyZWR1Y2UiLCJjb25jYXQiLCJ0b0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsInNsaWNlIiwiYXJyYXlDb250YWlucyIsInNvbWUiLCJjbG9uZU9iamVjdCIsImNsb25lIiwicmVwbGFjZU9iamVjdFByb3BzIiwibzEiLCJvMiIsIm1lcmdlT2JqZWN0cyIsImNvbG9yVG9SZ2IiLCJyZ2JWYWx1ZSIsImhleFZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwiaGV4VG9SZ2JhIiwiaHNsVmFsdWUiLCJodWUycmdiIiwiaHNsVG9SZ2JhIiwiZ2V0VW5pdCIsImdldEZ1bmN0aW9uVmFsdWUiLCJhbmltYXRhYmxlIiwidGFyZ2V0IiwiaWQiLCJ0b3RhbCIsImdldEF0dHJpYnV0ZSIsImVsIiwicHJvcCIsImNvbnZlcnRQeFRvVW5pdCIsInVuaXQiLCJ0ZW1wRWwiLCJ0YWdOYW1lIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiYm9keSIsInBvc2l0aW9uIiwiZmFjdG9yIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImNvbnZlcnRlZFVuaXQiLCJnZXRDU1NWYWx1ZSIsInVwcGVyY2FzZVByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldEFuaW1hdGlvblR5cGUiLCJnZXRFbGVtZW50VHJhbnNmb3JtcyIsInRyYW5zZm9ybSIsInJlZyIsInRyYW5zZm9ybXMiLCJNYXAiLCJzZXQiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInByb3BOYW1lIiwiZGVmYXVsdFZhbCIsImdldFRyYW5zZm9ybVVuaXQiLCJsaXN0IiwiZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSIsImdldFJlbGF0aXZlVmFsdWUiLCJ0byIsImZyb20iLCJvcGVyYXRvciIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwidmlld0JveCIsInZXIiwidkgiLCJnZXRQYXRoUHJvZ3Jlc3MiLCJwYXRoIiwiaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHIiwicG9pbnQiLCJvZmZzZXQiLCJnZXRQb2ludEF0TGVuZ3RoIiwicDAiLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImRlY29tcG9zZVZhbHVlIiwicmd4Iiwib3JpZ2luYWwiLCJudW1iZXJzIiwiTnVtYmVyIiwic3RyaW5ncyIsInBhcnNlVGFyZ2V0cyIsInRhcmdldHMiLCJpdGVtIiwicG9zIiwiZ2V0QW5pbWF0YWJsZXMiLCJwYXJzZWQiLCJub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyIsInR3ZWVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsInByb3BBcnJheSIsImdldFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwia2V5ZnJhbWVzIiwicHJvcGVydHlOYW1lcyIsIm5ld0tleSIsImZsYXR0ZW5LZXlmcmFtZXMiLCJ0d2VlbnMiLCJub3JtYWxpemVUd2VlbnMiLCJwcmV2aW91c1R3ZWVuIiwidHdlZW4iLCJub3JtYWxpemVUd2VlblZhbHVlcyIsInR3ZWVuVmFsdWUiLCJ0b1VuaXQiLCJvcmlnaW5hbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZyb21Vbml0Iiwic3RhcnQiLCJpc1BhdGgiLCJpc0NvbG9yIiwic2V0UHJvZ3Jlc3NWYWx1ZSIsImNzcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1hbnVhbCIsImxhc3QiLCJzZXRUYXJnZXRzVmFsdWUiLCJ2YWx1ZVVuaXQiLCJhbmltVHlwZSIsImdldEFuaW1hdGlvbnMiLCJhbmltYXRhYmxlcyIsImxhc3RUd2VlbiIsInR5cGUiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRJbnN0YW5jZVRpbWluZ3MiLCJhbmltYXRpb25zIiwiYW5pbUxlbmd0aCIsImdldFRsT2Zmc2V0IiwiYW5pbSIsInRpbWluZ3MiLCJpbnN0YW5jZUlEIiwiYWN0aXZlSW5zdGFuY2VzIiwiZW5naW5lIiwicmFmIiwic3RlcCIsImFjdGl2ZUluc3RhbmNlc0xlbmd0aCIsImFjdGl2ZUluc3RhbmNlIiwicGF1c2VkIiwic3BsaWNlIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVuZGVmaW5lZCIsImFuaW1lIiwic3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiIsImlzRG9jdW1lbnRIaWRkZW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImluc3RhbmNlIiwiX29uRG9jdW1lbnRWaXNpYmlsaXR5IiwiaGlkZGVuIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJjaGlsZHJlbkxlbmd0aCIsInJlc29sdmUiLCJtYWtlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJmaW5pc2hlZCIsImluc3RhbmNlU2V0dGluZ3MiLCJjcmVhdGVOZXdJbnN0YW5jZSIsInRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uIiwicmV2ZXJzZWQiLCJjaGlsZCIsImFkanVzdFRpbWUiLCJ0aW1lIiwicmVzZXRUaW1lIiwiY3VycmVudFRpbWUiLCJzcGVlZCIsInNlZWtDaGlsZCIsInNlZWsiLCJzZXRBbmltYXRpb25zUHJvZ3Jlc3MiLCJpbnNUaW1lIiwiYW5pbWF0aW9uc0xlbmd0aCIsInR3ZWVuTGVuZ3RoIiwiZWFzZWQiLCJpc05hTiIsInRvTnVtYmVyc0xlbmd0aCIsInRvTnVtYmVyIiwiZnJvbU51bWJlciIsInN0cmluZ3NMZW5ndGgiLCJuJDEiLCJjdXJyZW50VmFsdWUiLCJzZXRDYWxsYmFjayIsImNiIiwicGFzc1Rocm91Z2giLCJzZXRJbnN0YW5jZVByb2dyZXNzIiwiZW5naW5lVGltZSIsImluc0R1cmF0aW9uIiwiaW5zRGVsYXkiLCJpbnNFbmREZWxheSIsInJldmVyc2VQbGF5YmFjayIsImkkMSIsInN5bmNJbnN0YW5jZUNoaWxkcmVuIiwiYmVnYW4iLCJsb29wQmVnYW4iLCJjaGFuZ2VCZWdhbiIsImNoYW5nZUNvbXBsZXRlZCIsInJlbWFpbmluZyIsImNvbXBsZXRlZCIsInJlc2V0IiwicGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInJlc3RhcnQiLCJyZW1vdmUiLCJyZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlIiwicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zIiwidGFyZ2V0c0FycmF5IiwiY2hpbGRBbmltYXRpb25zIiwidmVyc2lvbiIsInJ1bm5pbmciLCJjb252ZXJ0UHgiLCJwZXJjZW50Iiwic2V0RGFzaG9mZnNldCIsInBhdGhMZW5ndGgiLCJzdGFnZ2VyIiwiZ3JpZCIsImF4aXMiLCJmcm9tSW5kZXgiLCJmcm9tRmlyc3QiLCJmcm9tQ2VudGVyIiwiZnJvbUxhc3QiLCJpc1JhbmdlIiwidmFsMSIsInZhbDIiLCJ2YWx1ZXMiLCJtYXhWYWx1ZSIsImluZGV4IiwiZnJvbVgiLCJmcm9tWSIsImZsb29yIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwidGltZWxpbmUiLCJ0bCIsImFkZCIsImluc3RhbmNlUGFyYW1zIiwidGxJbmRleCIsImlucyIsImluc1BhcmFtcyIsInRsRHVyYXRpb24iLCJyYW5kb20iLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhbmFseXRpY3MiLCJkZWJ1ZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImRhdGFiYXNlIiwic3RvcmFnZSIsInN0YXRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiY2xhc3NMaXN0IiwiaWRsZVRpbWUiLCJhY3RpdmF0ZVRpbWUiLCJ0YXBDb3VudCIsImV2ZW50IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIm9udXBkYXRlZm91bmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY29udHJvbGxlciIsImRhdGEiLCJjb21tYW5kIiwicG9zdE1lc3NhZ2UiLCJjYWNoZXMiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJpc0RlYnVnIiwiaXNEYXJrTW9kZSIsImlzTXV0ZWQiLCJpc0xvYWRpbmciLCJpc0xvY2F0aW5nIiwiaXNSZXZlYWxlZCIsImlzT3ZlcmxheWVkIiwiaXNCbGluZGVkIiwiaXNQb3B1cCIsImlzRXhwYW5kZWQiLCJpc0xlYXJuaW5nIiwiaXNBbmltYXRpbmciLCJpc0hhbmdpbmdPbiIsImlzU3VibWl0dGluZyIsImxheWVyIiwicXVlcnlRdWV1ZSIsInF1ZXJ5Q2FjaGUiLCJjYWNoZWRUcmFja3MiLCJjYWNoZWREb2N1bWVudHMiLCJkb2N1bWVudFF1ZXVlIiwic2VxdWVuY2VRdWV1ZSIsInVzZXIiLCJpbnB1dCIsImFuaW1hdGVkSW5wdXRMZW5ndGgiLCJtYXhJbnB1dExlbmd0aCIsImlucHV0SGFzRXJyb3IiLCJtZXNzYWdlcyIsIm1heE1lc3NhZ2VzIiwid29yZCIsInJlY2VudFdvcmRzIiwidGFncyIsIm1heFRhZ3MiLCJzY3JvbGxUaW1lb3V0SUQiLCJ0aWNrSW50ZXJ2YWxJRCIsInN0YXJzIiwiYW5pbWF0ZWRTdGFycyIsInNjcmVlbnNob3QiLCJub3RpZmljYXRpb25zIiwicmVjZW50SW1hZ2VzIiwiYmFja2dyb3VuZEltYWdlc1F1ZXVlIiwiYmFja2dyb3VuZEltYWdlcyIsInByZWxvYWRJbWFnZXMiLCJpc1VwbG9hZGluZyIsImN1cnJlbnRBbmltYXRpb25zIiwiYmxlbmRTaGFwZUFuaW1hdGlvbnMiLCJpbnNldFRvcCIsImluc2V0Qm90dG9tIiwicG9wdXBUZXh0SGVpZ2h0IiwiYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQiLCJ0aWNrZXJXaWR0aCIsImFuaW1hdGVkVGlja2VyV2lkdGgiLCJzdGF0ZXMiLCJjaGFyYWN0ZXIiLCJ3b3JkRGljdGlvbmFyeSIsInJldmVyc2VXb3JkRGljdGlvbmFyeSIsImF0dHJpYnV0ZXMiLCJ3YXRjaCIsIm5ld1ZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtdXRlIiwicmVtb3ZlSXRlbSIsIndvcmRzIiwiaGFuZGxlciIsIiRuZXh0VGljayIsImNsaXAiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImRlZXAiLCJlbGVtZW50cyIsImZyYW1lUmF0ZSIsInZpc2liaWxpdHkiLCJhbmltYXRpb24iLCJhbmltYXRlIiwiZmlsbCIsIml0ZXJhdGlvbnMiLCIkcmVmcyIsInBvcHVwVGV4dCIsImNvdW50IiwibWV0aG9kcyIsInNpZ25JbiIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJQUk9WSURFUl9JRCIsInNpZ25JbldpdGhQb3B1cCIsImNyZWRlbnRpYWwiLCJwcm92aWRlckRhdGEiLCJjdXJyZW50VXNlciIsInVwZGF0ZVByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwicHJvdmlkZXJJZCIsImFjY2Vzc1Rva2VuIiwiaWRUb2tlbiIsIkZhY2Vib29rQXV0aFByb3ZpZGVyIiwicHJvdmlkZXIiLCJhZGRTY29wZSIsIlR3aXR0ZXJBdXRoUHJvdmlkZXIiLCJwaG90b1VybCIsInNlY3JldCIsInNpZ25PdXQiLCJyZWZyZXNoIiwic2hhcmUzIiwiYXN5bmMiLCJwZXJtaXNzaW9uU3RhdHVzIiwicGVybWlzc2lvbnMiLCJxdWVyeSIsInN0YXRlIiwicmVqZWN0IiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsImdlb2hhc2giLCJlbmNvZGVHZW9oYXNoIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ0aW1lc3RhbXAiLCJzbmFwc2hvdCIsInJlZiIsInVpZCIsIm9yZGVyQnlWYWx1ZSIsImxpbWl0VG9MYXN0Iiwib25jZSIsImV4aXN0cyIsImltYWdlIiwic2V0VmlldyIsImNlbnRlciIsIk1pY3Jvc29mdCIsIk1hcHMiLCJMb2NhdGlvbiIsInpvb20iLCJnZXRab29tIiwibm90aWZ5IiwiYWNjZW50IiwiaWdub3JlIiwiY2VudGVyTG9jYXRpb24iLCJnZXRDZW50ZXIiLCJ0cmFja3MiLCJmZXRjaCIsImhhbmRsZXJJZCIsImhhbmRsZXJzIiwiRXZlbnRzIiwicmVtb3ZlSGFuZGxlciIsImVudGl0aWVzIiwicHVzaHBpbiIsImlzVXBkYXRlZCIsInRyYWNrIiwicHVzaHBpbklkIiwiUHVzaHBpbiIsInRpdGxlIiwic3ViVGl0bGUiLCJmb3JtYXRUaW1lIiwiaWNvbiIsInNldEltYWdlIiwiYWRkSGFuZGxlciIsInNldExvY2F0aW9uIiwic2V0T3B0aW9ucyIsImlkcyIsInJlc3VsdHMiLCJlcHNpbG9uIiwiZG9jdW1lbnRzIiwidGVybUZyZXF1ZW5jaWVzIiwiaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5IiwiZ2V0VGltZSIsInNjb3JlRGljdGlvbmFyeSIsInNjb3JlcyIsIm1heFNjb3JlIiwidG9rZW5zIiwidGVybVNldCIsImluY2x1ZGVzIiwibG9nIiwidGYiLCJ0b2tlbiIsInRlcm1GcmVxdWVuY3kiLCJ0ZmlkZiIsInRlcm0iLCJzb3J0Iiwic2NvcmUiLCJjZW50ZXJHZW9oYXNoIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsImdlb2hhc2hlcyIsInRlbXBSZWNlbnQiLCJwcmltaXRpdmVzIiwiZGVjb2RlR2VvaGFzaCIsInRlbXBDYWNoZSIsIlBvbHlnb24iLCJ0b3BsZWZ0IiwidG9wcmlnaHQiLCJib3R0b21yaWdodCIsImJvdHRvbWxlZnQiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInN0cm9rZVRoaWNrbmVzcyIsIm5laWdoYm9ycyIsImdldE5laWdoYm9ycyIsInNldFByaW1pdGl2ZXMiLCJkYXRhYmFzZVJvb3QiLCJvcmRlckJ5Q2hpbGQiLCJzdGFydEF0IiwiZW5kQXQiLCJwYWRFbmQiLCJkaWN0aW9uYXJ5Iiwic2hpZnQiLCJyZWNlbnQiLCJ0YWtlIiwibG9jYXRlIiwibW92ZSIsInNlbmQiLCJ0cmFuc2FjdGlvbiIsImxlYXJuIiwic2VsZWN0ZWQiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzdGFydHNXaXRoIiwic3JjIiwicmVmRnJvbVVSTCIsImdldERvd25sb2FkVVJMIiwiY3Jvc3NPcmlnaW4iLCJjdHgiLCJpbmxpbmVTdmciLCJ0b0RhdGFVUkwiLCJ1cGxvYWQiLCJnZW5lcmF0ZVV1aWQiLCJjaGFycyIsImpvaW4iLCJzdG9yYWdlUmVmIiwiZmlsZXMiLCJwYXRocyIsImZpbGUiLCJ1cGxvYWRUYXNrIiwicHV0Iiwib24iLCJieXRlc1RyYW5zZmVycmVkIiwidG90YWxCeXRlcyIsImZ1bGxQYXRoIiwiZm9ybWF0Iiwic2VxdWVuY2UiLCJwcmVwYXJlIiwic2VxdWVuY2VzIiwiZmlsdGVyIiwiY2hlY2siLCJkYXRhc2V0IiwiY2hlY2tlZCIsInNoYXJlIiwiY3VycmVudCIsInVwZGF0ZVJlcXVpcmVkIiwiZGVsZXRlUmVxdWlyZWQiLCJjb21taXR0ZWQiLCJ0aW1lc3RhbXBzIiwidHdpbmtsZSIsImRpZ2VzdE1lc3NhZ2UiLCJuZXh0IiwibGltaXQiLCJvcmRlckJ5S2V5IiwibGltaXRUb0ZpcnN0IiwiaW5kZXhlcyIsInBvcCIsInByZXZpb3VzIiwibXNnVWludDgiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImhhc2hCdWZmZXIiLCJjcnlwdG8iLCJzdWJ0bGUiLCJkaWdlc3QiLCJVaW50OEFycmF5IiwicGFkU3RhcnQiLCJjaGVjazIiLCJpc0NoZWNrZWQiLCJsZWFybjIiLCJhY3RpdmF0ZSIsImFycmF5IiwidGVtcCIsInNodWZmbGUiLCJ0YWxrIiwidXNlcklkIiwidGVtcFN0YXRlcyIsImFzc2lnbiIsInNlZ21lbnRlciIsIlRpbnlTZWdtZW50ZXIiLCJ0b2tlblNldCIsInByZXBhcmVkU2VxdWVuY2UiLCJpc0Fib3J0ZWQiLCJzZWdtZW50IiwiZ2VuZXJhdGUiLCJoaW50cyIsInNvZnRtYXgiLCJNSU5fVkFMVUUiLCJzdW0iLCJoaW50RGljdGlvbmFyeSIsInJlZ2V4IiwiUmVnRXhwIiwiY2FjaERpY3Rpb25hcnkiLCJ0ZXJtcyIsImlzTmV3IiwidGFnIiwicHJvYmFiaWxpdGllcyIsImNhbmRpZGF0ZXMiLCJqIiwiY2FuZGlkYXRlIiwicHJvYmFiaWxpdHkiLCJjaG9pY2UiLCJzZXRUaW1lb3V0IiwidW5zaGlmdCIsImJsaW5kZWQiLCJ1cmwiLCJsb2FkIiwiaXNDb21wbGV0ZWQiLCJpc0xvYWRlZCIsInVwZGF0ZTIiLCJpc1VwZGF0aW5nIiwiZmlsdGVyZWREb2N1bWVudHMiLCJiYXNlVGltZSIsInNjcm9sbCIsInNjcm9sbFRvRW5kIiwiY2xlYXJUaW1lb3V0Iiwic2Nyb2xsVG8iLCJzY3JvbGxIZWlnaHQiLCJmb3JtYXREYXRlIiwibW9tZW50IiwibG9jYWxlIiwibGFuZ3VhZ2UiLCJhbmltYXRpb25TdGFydCIsImFuaW1hdGlvbkVuZCIsInRpY2tlclVwZGF0ZWQiLCJhcnJhbmdlIiwiY29sbGVjdGlvbiIsInJvd3MiLCJjb2x1bW5zIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJkZWciLCJwcmVjaXNpb24iLCJCSVRTIiwiaXNfZXZlbiIsImxhdCIsImxvbiIsImJpdCIsImNoIiwibWlkIiwiY2QiLCJtYXNrIiwicmlnaHRHZW9oYXNoIiwiY2FsY3VsYXRlQWRqYWNlbnQiLCJsZWZ0R2VvaGFzaCIsInNyY0hhc2giLCJkaXIiLCJORUlHSEJPUlMiLCJldmVuIiwiQk9SREVSUyIsIm9kZCIsImxhc3RDaHIiLCJjaGFyQXQiLCJiYXNlIiwiX3JhbmRvbSIsImNob29zZWRTZXF1ZW5jZXMiLCJmbGF0dGVuZWRTZXF1ZW5jZSIsInRlbXBTdGF0ZSIsInF1ZXVlIiwidHJhY2VkU2VxdWVuY2VzIiwiY2FsbGFibGVTZXF1ZW5jZXMiLCJzZXF1ZW5jZVN0YWNrIiwiZ2V0U2VxdWVuY2VTdGFjayIsInN0YWNrIiwicG9wcGVkU2VxdWVuY2UiLCJ0ZW1wU3RhY2siLCJ0ZW1wU2VxdWVuY2UiLCJzb3VyY2VTZXF1ZW5jZSIsInRhcmdldFNlcXVlbmNlIiwiZGVsdGFUaW1lIiwiaXNEZWZvcm1pbmciLCJhbmltYXRpb25EYXRhIiwiYnVmZmVyIiwiY2hhcmFjdGVycyIsImNoYXJBcnJheSIsInJhbmRvbUJ1ZmZlciIsInVwZGF0ZWQiLCJpbmRpY2F0b3IiLCJ0aWNrZXIiLCJtb3VudGVkIiwiYm90U3RvcmFnZUl0ZW0iLCJjcmVkZW50aWFsU3RvcmFnZUl0ZW0iLCJib3QiLCJwYXJzZSIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsImNhbnZhc0xpZ2h0IiwiZW5hYmxlSGlnaERwaSIsInNob3dMb2NhdGVNZUJ1dHRvbiIsInNob3dNYXBUeXBlU2VsZWN0b3IiLCJzaG93Wm9vbUJ1dHRvbnMiLCJzaG93U2NhbGViYXIiLCJzdXBwb3J0ZWRNYXBUeXBlcyIsImdyYXlzY2FsZSIsImNhbnZhc0RhcmsiLCJMYXllciIsInNldFZpc2libGUiLCJsYXllcnMiLCJpbnNlcnQiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJzaWduSW5XaXRoQ3JlZGVudGlhbCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInRlbXBXb3JkcyIsInJlbW92ZUluZGV4Iiwib2ZmIiwidW5tb3VudGVkIiwiY2xlYXJJbnRlcnZhbCIsInZybU1vZGVsIiwic2NlbmUiLCJtb3VudCIsInN0b3BQcm9wYWdhdGlvbiIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RH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LFVBQVdtZSxPQU9uQzFjLE9BQU96QixpQkFBaUIsYUFBY21lLElBQ2xDQSxFQUFNcWQsa0JBRVUsR0FBWnRkLElBQ0FBLEtBRUE0VixXQUFXLEtBQ1A1VixHQUFXLEdBQ1osT0ErQ0hrQixFQUFJOFMsS0FBSzlTLEVBQUl3QixLQUFLdUcsS0FDbEJsSixHQUFlLEVBR2ZDLEdBQVcsS0FHbkJ6YyxPQUFPekIsaUJBQWlCLFlBQWFtZSxJQUNqQ0EsRUFBTXFkLG9CQUlWLzVCLE9BQU96QixpQkFBaUIsV0FBWW1lLElBQ2hDQSxFQUFNcWQsb0JBUVYvNUIsT0FBT3pCLGlCQUFpQixjQUFlbWUsSUFDbkNBLEVBQU1xZCxvQkFFVi81QixPQUFPZzZCLFdBQVcsZ0NBQWdDejdCLGlCQUFpQixTQUFVWixJQUNyRUEsRUFBRXM4QixRQUNGdGMsRUFBSUksWUFBYSxFQUVqQkosRUFBSUksWUFBYSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2pzXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8vIHN0YXRzLmpzIC0gaHR0cDovL2dpdGh1Yi5jb20vbXJkb29iL3N0YXRzLmpzXG4oZnVuY3Rpb24oZixlKXtcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpmLlN0YXRzPWUoKX0pKHRoaXMsZnVuY3Rpb24oKXt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYSl7Yy5hcHBlbmRDaGlsZChhLmRvbSk7cmV0dXJuIGF9ZnVuY3Rpb24gdShhKXtmb3IodmFyIGQ9MDtkPGMuY2hpbGRyZW4ubGVuZ3RoO2QrKyljLmNoaWxkcmVuW2RdLnN0eWxlLmRpc3BsYXk9ZD09PWE/XCJibG9ja1wiOlwibm9uZVwiO2w9YX12YXIgbD0wLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTowLjk7ei1pbmRleDoxMDAwMFwiO2MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO1xudSgrK2wlYy5jaGlsZHJlbi5sZW5ndGgpfSwhMSk7dmFyIGs9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKSxnPWssYT0wLHI9ZShuZXcgZi5QYW5lbChcIkZQU1wiLFwiIzBmZlwiLFwiIzAwMlwiKSksaD1lKG5ldyBmLlBhbmVsKFwiTVNcIixcIiMwZjBcIixcIiMwMjBcIikpO2lmKHNlbGYucGVyZm9ybWFuY2UmJnNlbGYucGVyZm9ybWFuY2UubWVtb3J5KXZhciB0PWUobmV3IGYuUGFuZWwoXCJNQlwiLFwiI2YwOFwiLFwiIzIwMVwiKSk7dSgwKTtyZXR1cm57UkVWSVNJT046MTYsZG9tOmMsYWRkUGFuZWw6ZSxzaG93UGFuZWw6dSxiZWdpbjpmdW5jdGlvbigpe2s9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKX0sZW5kOmZ1bmN0aW9uKCl7YSsrO3ZhciBjPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCk7aC51cGRhdGUoYy1rLDIwMCk7aWYoYz5nKzFFMyYmKHIudXBkYXRlKDFFMyphLyhjLWcpLDEwMCksZz1jLGE9MCx0KSl7dmFyIGQ9cGVyZm9ybWFuY2UubWVtb3J5O3QudXBkYXRlKGQudXNlZEpTSGVhcFNpemUvXG4xMDQ4NTc2LGQuanNIZWFwU2l6ZUxpbWl0LzEwNDg1NzYpfXJldHVybiBjfSx1cGRhdGU6ZnVuY3Rpb24oKXtrPXRoaXMuZW5kKCl9LGRvbUVsZW1lbnQ6YyxzZXRNb2RlOnV9fTtmLlBhbmVsPWZ1bmN0aW9uKGUsZixsKXt2YXIgYz1JbmZpbml0eSxrPTAsZz1NYXRoLnJvdW5kLGE9Zyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkscj04MCphLGg9NDgqYSx0PTMqYSx2PTIqYSxkPTMqYSxtPTE1KmEsbj03NCphLHA9MzAqYSxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cS53aWR0aD1yO3EuaGVpZ2h0PWg7cS5zdHlsZS5jc3NUZXh0PVwid2lkdGg6ODBweDtoZWlnaHQ6NDhweFwiO3ZhciBiPXEuZ2V0Q29udGV4dChcIjJkXCIpO2IuZm9udD1cImJvbGQgXCIrOSphK1wicHggSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZcIjtiLnRleHRCYXNlbGluZT1cInRvcFwiO2IuZmlsbFN0eWxlPWw7Yi5maWxsUmVjdCgwLDAscixoKTtiLmZpbGxTdHlsZT1mO2IuZmlsbFRleHQoZSx0LHYpO1xuYi5maWxsUmVjdChkLG0sbixwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkLG0sbixwKTtyZXR1cm57ZG9tOnEsdXBkYXRlOmZ1bmN0aW9uKGgsdyl7Yz1NYXRoLm1pbihjLGgpO2s9TWF0aC5tYXgoayxoKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9MTtiLmZpbGxSZWN0KDAsMCxyLG0pO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChnKGgpK1wiIFwiK2UrXCIgKFwiK2coYykrXCItXCIrZyhrKStcIilcIix0LHYpO2IuZHJhd0ltYWdlKHEsZCthLG0sbi1hLHAsZCxtLG4tYSxwKTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkK24tYSxtLGEsZygoMS1oL3cpKnApKX19fTtyZXR1cm4gZn0pO1xuIiwiLypcbiAqIGFuaW1lLmpzIHYzLjIuMVxuICogKGMpIDIwMjAgSnVsaWFuIEdhcm5pZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogYW5pbWVqcy5jb21cbiAqL1xuXG4vLyBEZWZhdWx0c1xuXG52YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XG4gIHVwZGF0ZTogbnVsbCxcbiAgYmVnaW46IG51bGwsXG4gIGxvb3BCZWdpbjogbnVsbCxcbiAgY2hhbmdlQmVnaW46IG51bGwsXG4gIGNoYW5nZTogbnVsbCxcbiAgY2hhbmdlQ29tcGxldGU6IG51bGwsXG4gIGxvb3BDb21wbGV0ZTogbnVsbCxcbiAgY29tcGxldGU6IG51bGwsXG4gIGxvb3A6IDEsXG4gIGRpcmVjdGlvbjogJ25vcm1hbCcsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICB0aW1lbGluZU9mZnNldDogMFxufTtcblxudmFyIGRlZmF1bHRUd2VlblNldHRpbmdzID0ge1xuICBkdXJhdGlvbjogMTAwMCxcbiAgZGVsYXk6IDAsXG4gIGVuZERlbGF5OiAwLFxuICBlYXNpbmc6ICdlYXNlT3V0RWxhc3RpYygxLCAuNSknLFxuICByb3VuZDogMFxufTtcblxudmFyIHZhbGlkVHJhbnNmb3JtcyA9IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3RyYW5zbGF0ZVonLCAncm90YXRlJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdyb3RhdGVaJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJywgJ3NrZXcnLCAnc2tld1gnLCAnc2tld1knLCAncGVyc3BlY3RpdmUnLCAnbWF0cml4JywgJ21hdHJpeDNkJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBuaWw6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy51bmQoYSkgfHwgYSA9PT0gbnVsbDsgfSxcbiAgaGV4OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSk7IH0sXG4gIHJnYjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9ecmdiLy50ZXN0KGEpOyB9LFxuICBoc2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXmhzbC8udGVzdChhKTsgfSxcbiAgY29sOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKGlzLmhleChhKSB8fCBpcy5yZ2IoYSkgfHwgaXMuaHNsKGEpKTsgfSxcbiAga2V5OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmICFkZWZhdWx0VHdlZW5TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBhICE9PSAndGFyZ2V0cycgJiYgYSAhPT0gJ2tleWZyYW1lcyc7IH0sXG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlT3V0SW4nICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyAoMSAtIGVhc2VJbihhLCBiKSgxIC0gdCAqIDIpKSAvIDIgOiBcbiAgICAgIChlYXNlSW4oYSwgYikodCAqIDIgLSAxKSArIDEpIC8gMjsgfTsgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpO1xuICB9XG59XG5cbi8vIFN0cmluZ3NcblxuZnVuY3Rpb24gc2VsZWN0U3RyaW5nKHN0cikge1xuICB0cnkge1xuICAgIHZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vLyBBcnJheXNcblxuZnVuY3Rpb24gZmlsdGVyQXJyYXkoYXJyLCBjYWxsYmFjaykge1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpIGluIGFycikge1xuICAgICAgdmFyIHZhbCA9IGFycltpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgYXJyKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChpcy5hcnIoYikgPyBmbGF0dGVuQXJyYXkoYikgOiBiKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG8pIHtcbiAgaWYgKGlzLmFycihvKSkgeyByZXR1cm4gbzsgfVxuICBpZiAoaXMuc3RyKG8pKSB7IG8gPSBzZWxlY3RTdHJpbmcobykgfHwgbzsgfVxuICBpZiAobyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG8gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgeyByZXR1cm4gW10uc2xpY2UuY2FsbChvKTsgfVxuICByZXR1cm4gW29dO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuc29tZShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gdmFsOyB9KTtcbn1cblxuLy8gT2JqZWN0c1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuICBmb3IgKHZhciBwIGluIG8pIHsgY2xvbmVbcF0gPSBvW3BdOyB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMSkgeyBvW3BdID0gbzIuaGFzT3duUHJvcGVydHkocCkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8yKSB7IG9bcF0gPSBpcy51bmQobzFbcF0pID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuLy8gQ29sb3JzXG5cbmZ1bmN0aW9uIHJnYlRvUmdiYShyZ2JWYWx1ZSkge1xuICB2YXIgcmdiID0gL3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHJnYlZhbHVlKTtcbiAgcmV0dXJuIHJnYiA/IChcInJnYmEoXCIgKyAocmdiWzFdKSArIFwiLDEpXCIpIDogcmdiVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiYShoZXhWYWx1ZSkge1xuICB2YXIgcmd4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgdmFyIGhleCA9IGhleFZhbHVlLnJlcGxhY2Uocmd4LCBmdW5jdGlvbiAobSwgciwgZywgYikgeyByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiOyB9ICk7XG4gIHZhciByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgdmFyIHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgdmFyIGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgdmFyIGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcbiAgcmV0dXJuIChcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsMSlcIik7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiYShoc2xWYWx1ZSkge1xuICB2YXIgaHNsID0gL2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMoaHNsVmFsdWUpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGhzbFZhbHVlKTtcbiAgdmFyIGggPSBwYXJzZUludChoc2xbMV0sIDEwKSAvIDM2MDtcbiAgdmFyIHMgPSBwYXJzZUludChoc2xbMl0sIDEwKSAvIDEwMDtcbiAgdmFyIGwgPSBwYXJzZUludChoc2xbM10sIDEwKSAvIDEwMDtcbiAgdmFyIGEgPSBoc2xbNF0gfHwgMTtcbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7IHQgKz0gMTsgfVxuICAgIGlmICh0ID4gMSkgeyB0IC09IDE7IH1cbiAgICBpZiAodCA8IDEvNikgeyByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDsgfVxuICAgIGlmICh0IDwgMS8yKSB7IHJldHVybiBxOyB9XG4gICAgaWYgKHQgPCAyLzMpIHsgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjsgfVxuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciByLCBnLCBiO1xuICBpZiAocyA9PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gIH1cbiAgcmV0dXJuIChcInJnYmEoXCIgKyAociAqIDI1NSkgKyBcIixcIiArIChnICogMjU1KSArIFwiLFwiICsgKGIgKiAyNTUpICsgXCIsXCIgKyBhICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiKHZhbCkge1xuICBpZiAoaXMucmdiKHZhbCkpIHsgcmV0dXJuIHJnYlRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oZXgodmFsKSkgeyByZXR1cm4gaGV4VG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhzbCh2YWwpKSB7IHJldHVybiBoc2xUb1JnYmEodmFsKTsgfVxufVxuXG4vLyBVbml0c1xuXG5mdW5jdGlvbiBnZXRVbml0KHZhbCkge1xuICB2YXIgc3BsaXQgPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyh2YWwpO1xuICBpZiAoc3BsaXQpIHsgcmV0dXJuIHNwbGl0WzFdOyB9XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpIHtcbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAndHJhbnNsYXRlJykgfHwgcHJvcE5hbWUgPT09ICdwZXJzcGVjdGl2ZScpIHsgcmV0dXJuICdweCc7IH1cbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdza2V3JykpIHsgcmV0dXJuICdkZWcnOyB9XG59XG5cbi8vIFZhbHVlc1xuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbHVlKHZhbCwgYW5pbWF0YWJsZSkge1xuICBpZiAoIWlzLmZuYyh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgcmV0dXJuIHZhbChhbmltYXRhYmxlLnRhcmdldCwgYW5pbWF0YWJsZS5pZCwgYW5pbWF0YWJsZS50b3RhbCk7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgcHJvcCkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSB7XG4gIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgaWYgKGFycmF5Q29udGFpbnMoW3VuaXQsICdkZWcnLCAncmFkJywgJ3R1cm4nXSwgdmFsdWVVbml0KSkgeyByZXR1cm4gdmFsdWU7IH1cbiAgdmFyIGNhY2hlZCA9IGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdO1xuICBpZiAoIWlzLnVuZChjYWNoZWQpKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgdmFyIGJhc2VsaW5lID0gMTAwO1xuICB2YXIgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbC50YWdOYW1lKTtcbiAgdmFyIHBhcmVudEVsID0gKGVsLnBhcmVudE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50KSkgPyBlbC5wYXJlbnROb2RlIDogZG9jdW1lbnQuYm9keTtcbiAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGVtcEVsKTtcbiAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgdGVtcEVsLnN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICB2YXIgZmFjdG9yID0gYmFzZWxpbmUgLyB0ZW1wRWwub2Zmc2V0V2lkdGg7XG4gIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gIHZhciBjb252ZXJ0ZWRVbml0ID0gZmFjdG9yICogcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdID0gY29udmVydGVkVW5pdDtcbiAgcmV0dXJuIGNvbnZlcnRlZFVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldENTU1ZhbHVlKGVsLCBwcm9wLCB1bml0KSB7XG4gIGlmIChwcm9wIGluIGVsLnN0eWxlKSB7XG4gICAgdmFyIHVwcGVyY2FzZVByb3BOYW1lID0gcHJvcC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IGVsLnN0eWxlW3Byb3BdIHx8IGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodXBwZXJjYXNlUHJvcE5hbWUpIHx8ICcwJztcbiAgICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9uVHlwZShlbCwgcHJvcCkge1xuICBpZiAoaXMuZG9tKGVsKSAmJiAhaXMuaW5wKGVsKSAmJiAoIWlzLm5pbChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApKSB8fCAoaXMuc3ZnKGVsKSAmJiBlbFtwcm9wXSkpKSB7IHJldHVybiAnYXR0cmlidXRlJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiBhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3JtcywgcHJvcCkpIHsgcmV0dXJuICd0cmFuc2Zvcm0nOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIChwcm9wICE9PSAndHJhbnNmb3JtJyAmJiBnZXRDU1NWYWx1ZShlbCwgcHJvcCkpKSB7IHJldHVybiAnY3NzJzsgfVxuICBpZiAoZWxbcHJvcF0gIT0gbnVsbCkgeyByZXR1cm4gJ29iamVjdCc7IH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpIHtcbiAgaWYgKCFpcy5kb20oZWwpKSB7IHJldHVybjsgfVxuICB2YXIgc3RyID0gZWwuc3R5bGUudHJhbnNmb3JtIHx8ICcnO1xuICB2YXIgcmVnICA9IC8oXFx3KylcXCgoW14pXSopXFwpL2c7XG4gIHZhciB0cmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuICB2YXIgbTsgd2hpbGUgKG0gPSByZWcuZXhlYyhzdHIpKSB7IHRyYW5zZm9ybXMuc2V0KG1bMV0sIG1bMl0pOyB9XG4gIHJldHVybiB0cmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZShlbCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpIHtcbiAgdmFyIGRlZmF1bHRWYWwgPSBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NjYWxlJykgPyAxIDogMCArIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpO1xuICB2YXIgdmFsdWUgPSBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0VmFsO1xuICBpZiAoYW5pbWF0YWJsZSkge1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtcy5saXN0LnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtc1snbGFzdCddID0gcHJvcE5hbWU7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQsIGFuaW1hdGFibGUpIHtcbiAgc3dpdGNoIChnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcE5hbWUpKSB7XG4gICAgY2FzZSAndHJhbnNmb3JtJzogcmV0dXJuIGdldFRyYW5zZm9ybVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpO1xuICAgIGNhc2UgJ2Nzcyc6IHJldHVybiBnZXRDU1NWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0KTtcbiAgICBjYXNlICdhdHRyaWJ1dGUnOiByZXR1cm4gZ2V0QXR0cmlidXRlKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0YXJnZXRbcHJvcE5hbWVdIHx8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSkge1xuICB2YXIgb3BlcmF0b3IgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKHRvKTtcbiAgaWYgKCFvcGVyYXRvcikgeyByZXR1cm4gdG87IH1cbiAgdmFyIHUgPSBnZXRVbml0KHRvKSB8fCAwO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCh0by5yZXBsYWNlKG9wZXJhdG9yWzBdLCAnJykpO1xuICBzd2l0Y2ggKG9wZXJhdG9yWzBdWzBdKSB7XG4gICAgY2FzZSAnKyc6IHJldHVybiB4ICsgeSArIHU7XG4gICAgY2FzZSAnLSc6IHJldHVybiB4IC0geSArIHU7XG4gICAgY2FzZSAnKic6IHJldHVybiB4ICogeSArIHU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgaWYgKGlzLmNvbCh2YWwpKSB7IHJldHVybiBjb2xvclRvUmdiKHZhbCk7IH1cbiAgaWYgKC9cXHMvZy50ZXN0KHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgaWYgKHVuaXQpIHsgcmV0dXJuIHVuaXRMZXNzICsgdW5pdDsgfVxuICByZXR1cm4gdW5pdExlc3M7XG59XG5cbi8vIGdldFRvdGFsTGVuZ3RoKCkgZXF1aXZhbGVudCBmb3IgY2lyY2xlLCByZWN0LCBwb2x5bGluZSwgcG9seWdvbiBhbmQgbGluZSBzaGFwZXNcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9TZWJMYW1ibGEvM2UwNTUwYzQ5NmMyMzY3MDk3NDRcblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBNYXRoLlBJICogMiAqIGdldEF0dHJpYnV0ZShlbCwgJ3InKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdExlbmd0aChlbCkge1xuICByZXR1cm4gKGdldEF0dHJpYnV0ZShlbCwgJ3dpZHRoJykgKiAyKSArIChnZXRBdHRyaWJ1dGUoZWwsICdoZWlnaHQnKSAqIDIpO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBnZXREaXN0YW5jZShcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDEnKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTEnKX0sIFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MicpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MicpfVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5bGluZUxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICB2YXIgdG90YWxMZW5ndGggPSAwO1xuICB2YXIgcHJldmlvdXNQb3M7XG4gIGZvciAodmFyIGkgPSAwIDsgaSA8IHBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICB2YXIgY3VycmVudFBvcyA9IHBvaW50cy5nZXRJdGVtKGkpO1xuICAgIGlmIChpID4gMCkgeyB0b3RhbExlbmd0aCArPSBnZXREaXN0YW5jZShwcmV2aW91c1BvcywgY3VycmVudFBvcyk7IH1cbiAgICBwcmV2aW91c1BvcyA9IGN1cnJlbnRQb3M7XG4gIH1cbiAgcmV0dXJuIHRvdGFsTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5Z29uTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCkgKyBnZXREaXN0YW5jZShwb2ludHMuZ2V0SXRlbShwb2ludHMubnVtYmVyT2ZJdGVtcyAtIDEpLCBwb2ludHMuZ2V0SXRlbSgwKSk7XG59XG5cbi8vIFBhdGggYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIGdldFRvdGFsTGVuZ3RoKGVsKSB7XG4gIGlmIChlbC5nZXRUb3RhbExlbmd0aCkgeyByZXR1cm4gZWwuZ2V0VG90YWxMZW5ndGgoKTsgfVxuICBzd2l0Y2goZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnY2lyY2xlJzogcmV0dXJuIGdldENpcmNsZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncmVjdCc6IHJldHVybiBnZXRSZWN0TGVuZ3RoKGVsKTtcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGdldExpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5Z29uJzogcmV0dXJuIGdldFBvbHlnb25MZW5ndGgoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERhc2hvZmZzZXQoZWwpIHtcbiAgdmFyIHBhdGhMZW5ndGggPSBnZXRUb3RhbExlbmd0aChlbCk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIHBhdGhMZW5ndGgpO1xuICByZXR1cm4gcGF0aExlbmd0aDtcbn1cblxuLy8gTW90aW9uIHBhdGhcblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnRWwoZWwpIHtcbiAgdmFyIHBhcmVudEVsID0gZWwucGFyZW50Tm9kZTtcbiAgd2hpbGUgKGlzLnN2ZyhwYXJlbnRFbCkpIHtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcGFyZW50RWw7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2ZyhwYXRoRWwsIHN2Z0RhdGEpIHtcbiAgdmFyIHN2ZyA9IHN2Z0RhdGEgfHwge307XG4gIHZhciBwYXJlbnRTdmdFbCA9IHN2Zy5lbCB8fCBnZXRQYXJlbnRTdmdFbChwYXRoRWwpO1xuICB2YXIgcmVjdCA9IHBhcmVudFN2Z0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmlld0JveEF0dHIgPSBnZXRBdHRyaWJ1dGUocGFyZW50U3ZnRWwsICd2aWV3Qm94Jyk7XG4gIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgdmFyIHZpZXdCb3ggPSBzdmcudmlld0JveCB8fCAodmlld0JveEF0dHIgPyB2aWV3Qm94QXR0ci5zcGxpdCgnICcpIDogWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgcmV0dXJuIHtcbiAgICBlbDogcGFyZW50U3ZnRWwsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICB4OiB2aWV3Qm94WzBdIC8gMSxcbiAgICB5OiB2aWV3Qm94WzFdIC8gMSxcbiAgICB3OiB3aWR0aCxcbiAgICBoOiBoZWlnaHQsXG4gICAgdlc6IHZpZXdCb3hbMl0sXG4gICAgdkg6IHZpZXdCb3hbM11cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKHBhdGgsIHBlcmNlbnQpIHtcbiAgdmFyIHBhdGhFbCA9IGlzLnN0cihwYXRoKSA/IHNlbGVjdFN0cmluZyhwYXRoKVswXSA6IHBhdGg7XG4gIHZhciBwID0gcGVyY2VudCB8fCAxMDA7XG4gIHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICBlbDogcGF0aEVsLFxuICAgICAgc3ZnOiBnZXRQYXJlbnRTdmcocGF0aEVsKSxcbiAgICAgIHRvdGFsTGVuZ3RoOiBnZXRUb3RhbExlbmd0aChwYXRoRWwpICogKHAgLyAxMDApXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhwYXRoLCBwcm9ncmVzcywgaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKSB7XG4gIGZ1bmN0aW9uIHBvaW50KG9mZnNldCkge1xuICAgIGlmICggb2Zmc2V0ID09PSB2b2lkIDAgKSBvZmZzZXQgPSAwO1xuXG4gICAgdmFyIGwgPSBwcm9ncmVzcyArIG9mZnNldCA+PSAxID8gcHJvZ3Jlc3MgKyBvZmZzZXQgOiAwO1xuICAgIHJldHVybiBwYXRoLmVsLmdldFBvaW50QXRMZW5ndGgobCk7XG4gIH1cbiAgdmFyIHN2ZyA9IGdldFBhcmVudFN2ZyhwYXRoLmVsLCBwYXRoLnN2Zyk7XG4gIHZhciBwID0gcG9pbnQoKTtcbiAgdmFyIHAwID0gcG9pbnQoLTEpO1xuICB2YXIgcDEgPSBwb2ludCgrMSk7XG4gIHZhciBzY2FsZVggPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLncgLyBzdmcudlc7XG4gIHZhciBzY2FsZVkgPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLmggLyBzdmcudkg7XG4gIHN3aXRjaCAocGF0aC5wcm9wZXJ0eSkge1xuICAgIGNhc2UgJ3gnOiByZXR1cm4gKHAueCAtIHN2Zy54KSAqIHNjYWxlWDtcbiAgICBjYXNlICd5JzogcmV0dXJuIChwLnkgLSBzdmcueSkgKiBzY2FsZVk7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID0gdHdlZW4uaXNQYXRoICYmIGlzLnN2ZyhhbmltYXRhYmxlLnRhcmdldCk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhZjtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICghcmFmICYmICghaXNEb2N1bWVudEhpZGRlbigpIHx8ICFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSAmJiBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICAvLyBtZW1vIG9uIGFsZ29yaXRobSBpc3N1ZTpcbiAgICAvLyBkYW5nZXJvdXMgaXRlcmF0aW9uIG92ZXIgbXV0YWJsZSBgYWN0aXZlSW5zdGFuY2VzYFxuICAgIC8vICh0aGF0IGNvbGxlY3Rpb24gbWF5IGJlIHVwZGF0ZWQgZnJvbSB3aXRoaW4gY2FsbGJhY2tzIG9mIGB0aWNrYC1lZCBhbmltYXRpb24gaW5zdGFuY2VzKVxuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgdmFyIGFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJhZiA9IGkgPiAwID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAvLyBzdXNwZW5kIHRpY2tzXG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH0gZWxzZSB7IC8vIGlzIGJhY2sgdG8gYWN0aXZlIHRhYlxuICAgICAgLy8gZmlyc3QgYWRqdXN0IGFuaW1hdGlvbnMgdG8gY29uc2lkZXIgdGhlIHRpbWUgdGhhdCB0aWNrcyB3ZXJlIHN1c3BlbmRlZFxuICAgICAgYWN0aXZlSW5zdGFuY2VzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpOyB9XG4gICAgICApO1xuICAgICAgZW5naW5lKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXk7XG59KSgpO1xuXG5mdW5jdGlvbiBpc0RvY3VtZW50SGlkZGVuKCkge1xuICByZXR1cm4gISFkb2N1bWVudCAmJiBkb2N1bWVudC5oaWRkZW47XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlciwgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICBpZiAoISh0d2Vlbi5pc0NvbG9yICYmIG4gPiAyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogcm91bmQpIC8gcm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlcnMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNYW51YWwgQXJyYXkucmVkdWNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VzXG4gICAgICB2YXIgc3RyaW5nc0xlbmd0aCA9IHN0cmluZ3MubGVuZ3RoO1xuICAgICAgaWYgKCFzdHJpbmdzTGVuZ3RoKSB7XG4gICAgICAgIHByb2dyZXNzID0gbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzID0gc3RyaW5nc1swXTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdHJpbmdzTGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHN0cmluZ3Nbc107XG4gICAgICAgICAgdmFyIGIgPSBzdHJpbmdzW3MgKyAxXTtcbiAgICAgICAgICB2YXIgbiQxID0gbnVtYmVyc1tzXTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4kMSkpIHtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltLnR5cGVdKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltLnByb3BlcnR5LCBwcm9ncmVzcywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zKTtcbiAgICAgIGFuaW0uY3VycmVudFZhbHVlID0gcHJvZ3Jlc3M7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q2FsbGJhY2soY2IpIHtcbiAgICBpZiAoaW5zdGFuY2VbY2JdICYmICFpbnN0YW5jZS5wYXNzVGhyb3VnaCkgeyBpbnN0YW5jZVtjYl0oaW5zdGFuY2UpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudEl0ZXJhdGlvbigpIHtcbiAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nICYmIGluc3RhbmNlLnJlbWFpbmluZyAhPT0gdHJ1ZSkge1xuICAgICAgaW5zdGFuY2UucmVtYWluaW5nLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5zdGFuY2VQcm9ncmVzcyhlbmdpbmVUaW1lKSB7XG4gICAgdmFyIGluc0R1cmF0aW9uID0gaW5zdGFuY2UuZHVyYXRpb247XG4gICAgdmFyIGluc0RlbGF5ID0gaW5zdGFuY2UuZGVsYXk7XG4gICAgdmFyIGluc0VuZERlbGF5ID0gaW5zRHVyYXRpb24gLSBpbnN0YW5jZS5lbmREZWxheTtcbiAgICB2YXIgaW5zVGltZSA9IGFkanVzdFRpbWUoZW5naW5lVGltZSk7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSBtaW5NYXgoKGluc1RpbWUgLyBpbnNEdXJhdGlvbikgKiAxMDAsIDAsIDEwMCk7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gaW5zVGltZSA8IGluc3RhbmNlLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjaGlsZHJlbikgeyBzeW5jSW5zdGFuY2VDaGlsZHJlbihpbnNUaW1lKTsgfVxuICAgIGlmICghaW5zdGFuY2UuYmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5iZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnYmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5sb29wQmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoIWluc3RhbmNlLnJlbWFpbmluZykge1xuICAgICAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWluc3RhbmNlLmNvbXBsZXRlZCkge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdjb21wbGV0ZScpO1xuICAgICAgICAgIGlmICghaW5zdGFuY2UucGFzc1Rocm91Z2ggJiYgJ1Byb21pc2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgICAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zdGFuY2UucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGluc3RhbmNlLnBhc3NUaHJvdWdoID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSAwO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gMDtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIGluc3RhbmNlLmJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9IGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnO1xuICAgIGluc3RhbmNlLnJlbWFpbmluZyA9IGluc3RhbmNlLmxvb3A7XG4gICAgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5MZW5ndGg7IGktLTspIHsgaW5zdGFuY2UuY2hpbGRyZW5baV0ucmVzZXQoKTsgfVxuICAgIGlmIChpbnN0YW5jZS5yZXZlcnNlZCAmJiBpbnN0YW5jZS5sb29wICE9PSB0cnVlIHx8IChkaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnICYmIGluc3RhbmNlLmxvb3AgPT09IDEpKSB7IGluc3RhbmNlLnJlbWFpbmluZysrOyB9XG4gICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gOiAwKTtcbiAgfTtcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgKGZvciBlbmdpbmUpIHRvIGFkanVzdCBhbmltYXRpb24gdGltaW5ncyBiZWZvcmUgcmVzdG9yaW5nIGVuZ2luZSB0aWNrcyAockFGKVxuICBpbnN0YW5jZS5fb25Eb2N1bWVudFZpc2liaWxpdHkgPSByZXNldFRpbWU7XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgZW5naW5lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gaW5zdGFuY2UucmV2ZXJzZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnJlc2V0KCk7XG4gICAgaW5zdGFuY2UucGxheSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhcmdldHMpIHtcbiAgICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSkge1xuICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gIHZhciBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NdO1xuICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgaWYgKCFjaGlsZEFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHsgY2hpbGRyZW4uc3BsaWNlKGMsIDEpOyB9XG4gIH1cbiAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4yLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuLy8gVE9ETzojcmV2aWV3OiBuYW1pbmcsIGRvY3VtZW50YXRpb25cbmFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4gPSB0cnVlO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIiwiaW1wb3J0ICogYXMgU3RhdHMgZnJvbSAnc3RhdHMuanMnXHJcbmltcG9ydCBhbmltZSBmcm9tICdhbmltZWpzL2xpYi9hbmltZS5lcy5qcyc7XHJcblxyXG4vLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXHJcbnZhciBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lEVFZ4REpqN3JxRzlMLUNsdmJhMlRhbzlCMGhrY3hqY0VcIixcclxuICAgIGF1dGhEb21haW46IFwibWlsY2hjaGFuLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9taWxjaGNoYW4uZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHByb2plY3RJZDogXCJtaWxjaGNoYW5cIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwibWlsY2hjaGFuLmFwcHNwb3QuY29tXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzNTU2OTg5NzE4ODlcIixcclxuICAgIGFwcElkOiBcIjE6MzU1Njk4OTcxODg5OndlYjplMzY1M2M1YzMxYmQ3Mjg5Y2Q0NTUwXCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctMzk5OEZKWU5XWFwiXHJcbn07XHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmZpcmViYXNlLmFuYWx5dGljcygpO1xyXG5cclxuY29uc3QgZGVidWcgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKSA9PT0gXCJkZWJ1Z1wiO1xyXG4vL2NvbnN0IGNoYW5uZWwgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcclxuY29uc3QgZGF0YWJhc2VSb290ID0gXCJ3b25kZXJsYW5kXCI7XHJcbi8vY29uc3QgZGF0YWJhc2VDaGFubmVsID0gY2hhbm5lbC5sZW5ndGggPiAwID8gZGF0YWJhc2VSb290ICsgJy9jaGFubmVscy8nICsgY2hhbm5lbCA6IGRhdGFiYXNlUm9vdDtcclxuY29uc3QgZGF0YWJhc2VNZXNzYWdlcyA9IGRhdGFiYXNlUm9vdCArIFwiL2ZlZWRcIjtcclxubGV0IGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxubGV0IHN0b3JhZ2UgPSBmaXJlYmFzZS5zdG9yYWdlKCk7XHJcbmNvbnN0IG1pbGNoID0geyBuYW1lOiBcIuODn+ODq+ODkuOBoeOCg+OCk1wiLCBhY2NlbnQ6IFwiI2ZmYTZiYlwiLCBpbWFnZTogXCIvaW1hZ2VzL01pbGNoLnBuZ1wiIH07XHJcbmNvbnN0IG1lcmt1ID0geyBuYW1lOiBcIuODoeODq+OCr+OBoeOCg+OCk1wiLCBhY2NlbnQ6IFwiIzViY2JlMVwiLCBpbWFnZTogXCIvaW1hZ2VzL01lcmt1LnBuZ1wiIH07XHJcbmNvbnN0IHN0YXRzID0gbmV3IFN0YXRzKCk7XHJcblxyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnRvcCA9IFwiYXV0b1wiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLmxlZnQgPSBcImF1dG9cIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5yaWdodCA9IFwiMFwiO1xyXG5cclxuaWYgKCFkZWJ1Zykge1xyXG4gICAgc3RhdHMuZG9tRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaXMtaGlkZGVuXCIpO1xyXG59XHJcblxyXG5sZXQgaWRsZVRpbWUgPSAwLjA7XHJcbmNvbnN0IGJsaW5rVGhyZXNob2xkID0gNS4wO1xyXG5sZXQgYWN0aXZhdGVUaW1lID0gMC4wO1xyXG5jb25zdCBhY3RpdmF0ZVRocmVzaG9sZCA9IDEwLjA7XHJcbmxldCB0YXBDb3VudCA9IDA7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCJzdy5qc1wiKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi5vbnVwZGF0ZWZvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgIT09IG51bGwgJiYgXCJjb21tYW5kXCIgaW4gZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLmNvbW1hbmQgPT09IFwiY2FjaGVzXCIpIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIucG9zdE1lc3NhZ2UoeyBjb21tYW5kOiBcImNsZWFyXCIsIGNhY2hlczogZXZlbnQuZGF0YS5jYWNoZXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXBwID0gVnVlLmNyZWF0ZUFwcCh7XHJcbiAgICAgICAgZGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzRGVidWc6IGRlYnVnLFxyXG4gICAgICAgICAgICAgICAgaXNEYXJrTW9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc011dGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTG9jYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNSZXZlYWxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc092ZXJsYXllZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0JsaW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTGVhcm5pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNBbmltYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNIYW5naW5nT246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGVsYXBzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtYXA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBsYXllcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIG1vZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBxdWVyeVF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5Q2FjaGU6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGVkVHJhY2tzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZERvY3VtZW50czogW10sXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudFF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHNlcXVlbmNlUXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaW5wdXQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZElucHV0TGVuZ3RoOiAwLFxyXG4gICAgICAgICAgICAgICAgbWF4SW5wdXRMZW5ndGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIGlucHV0SGFzRXJyb3I6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWF4TWVzc2FnZXM6IDEwLFxyXG4gICAgICAgICAgICAgICAgd29yZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlY2VudFdvcmRzOiBbXSxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWF4VGFnczogMTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0SUQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbElEOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBzdGFyczogLTEsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFN0YXJzOiAwLFxyXG4gICAgICAgICAgICAgICAgc2NyZWVuc2hvdDogbnVsbCxcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgcmVjZW50SW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXNRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByZWxvYWRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgaXNVcGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uczogbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIGJsZW5kU2hhcGVBbmltYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIGluc2V0VG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgaW5zZXRCb3R0b206IDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBbXSxcclxuICAgICAgICAgICAgICAgIHBvcHVwVGV4dEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkUG9wdXBUZXh0SGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgdGlja2VyV2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFRpY2tlcldpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXRlczoge30sXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB3b3JkRGljdGlvbmFyeToge30sXHJcbiAgICAgICAgICAgICAgICByZXZlcnNlV29yZERpY3Rpb25hcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1wi5ZCN5YmNXCIsIFwi5omA5bGeXCIsIFwi5pmC6ZaTXCIsIFwi5aC05omAXCIsIFwi44GZ44KL5LqLXCIsIFwi55Sf44GN54mpXCIsIFwi6aOf44G554mpXCIsIFwi6aOy44G/54mpXCIsIFwi6IGe44GP44KC44GuXCIsIFwi6KaL44KL44KC44GuXCIsIFwi6Kqt44KA44KC44GuXCIsIFwi5L2/44GG54mpXCIsIFwi6Lqr44Gr44Gk44GR44KL44KC44GuXCIsIFwi5LmX44KK54mpXCIsIFwi6YOo5L2NXCIsIFwi55eF5rCXXCJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIGlzTXV0ZWQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJib3RcIiwgSlNPTi5zdHJpbmdpZnkoeyBtdXRlOiBuZXdWYWx1ZSB9KSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJib3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdvcmRzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpY2tlcldpZHRoKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgd2lkdGg6IHRoaXMuYW5pbWF0ZWRUaWNrZXJXaWR0aCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFuaW1hdGVkVGlja2VyV2lkdGggPSBvYmoud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjYXBwPi5iYWNrZ3JvdW5kPmRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtZW50cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh7IHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyB2aXNpYmlsaXR5OiBcImhpZGRlblwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSBlbGVtZW50LmFuaW1hdGUoa2V5ZnJhbWVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICdmb3J3YXJkcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ3N0ZXBzKCcgKyBvZmZzZXQgKyAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwIC8gZnJhbWVSYXRlICogZWxlbWVudHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25zOiBJbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGFuaW1hdGlvbi5zdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRleHQ6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnBvcHVwVGV4dEhlaWdodCA9IGFwcC4kcmVmcy5wb3B1cFRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9wdXBUZXh0SGVpZ2h0KG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IGhlaWdodDogdGhpcy5hbmltYXRlZFBvcHVwVGV4dEhlaWdodCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFBvcHVwVGV4dEhlaWdodCA9IG9iai5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnMobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IHRoaXMuYW5pbWF0ZWRTdGFycyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkU3RhcnMgPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5wdXQ6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBjb3VudDogYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBhcHAuaW5wdXQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNpZ25JbjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIGlkVG9rZW46IGNyZWRlbnRpYWwuaWRUb2tlbiB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoXCJwdWJsaWNfcHJvZmlsZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4gfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAobmV3IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlcigpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtmaXJlYmFzZS5hdXRoLk9BdXRoQ3JlZGVudGlhbH0gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSByZXN1bHQuY3JlZGVudGlhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiByZXN1bHQudXNlci5wcm92aWRlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob3RvVXJsID0gZGF0YS5waG90b1VSTC5yZXBsYWNlKC9fbm9ybWFsXFwuanBnJC8sICcuanBnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBwaG90b1VybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsXCIsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgc2VjcmV0OiBjcmVkZW50aWFsLnNlY3JldCB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaWduT3V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6IFwiY2FjaGVzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNoYXJlMzogYXN5bmMgZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiBcImdlb2xvY2F0aW9uXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJncmFudGVkXCIgfHwgcGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcInByb21wdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoYCR7ZGF0YWJhc2VSb290fS91c2Vycy8ke3NlbGYudXNlci51aWR9L2RpY3Rpb25hcnkvd29yZHNgKS5vcmRlckJ5VmFsdWUoKS5saW1pdFRvTGFzdCgxMDApLm9uY2UoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBzbmFwc2hvdC5leGlzdHMoKSA/IHNuYXBzaG90LnZhbCgpIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdHJhY2tzYCkucHVzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuc2V0KHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgdGFnczogdGFncywgdGltZXN0YW1wOiB0aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHNlbGYudXNlci51aWQsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCB9IH0sIGFzeW5jIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3RyYWNrc2ApLnB1c2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLnNldCh7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiB3b3JkLmF0dHJpYnV0ZXMsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCwgdXNlcjogeyBpZDogc2VsZi51c2VyLnVpZCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMIH0gfSwgYXN5bmMgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHRoaXMubWFwLmdldFpvb20oKSA8IDE2ID8gMTYgOiB0aGlzLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTogYXN5bmMgZnVuY3Rpb24gKGlnbm9yZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gYXdhaXQgdGhpcy5mZXRjaChpZ25vcmUsIGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpZ25vcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlcklkIG9mIHNlbGYuY2FjaGVkVHJhY2tzW2tleV0uaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnJlbW92ZShzZWxmLmNhY2hlZFRyYWNrc1trZXldLnB1c2hwaW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHB1c2hwaW5JZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHdvcmRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmNhY2hlZFRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay5pZCA9PT0gdGhpcy5jYWNoZWRUcmFja3NbaWRdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW5JZCA9IGlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXNocGluSWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHRyYWNrLmxvY2F0aW9uLmxhdGl0dWRlLCB0cmFjay5sb2NhdGlvbi5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiL2ltYWdlcy9NYXJrZXItU3Rhci5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbi5pZF0gPSB0cmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2RlID0gdGhpcy5jYWNoZWRUcmFja3NbYXJncy50YXJnZXQuaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuY2FjaGVkVHJhY2tzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmFjay50aW1lc3RhbXAgPiB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdLnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wicHVzaHBpblwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJoYW5kbGVyc1wiXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRMb2NhdGlvbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24odHJhY2subG9jYXRpb24ubGF0aXR1ZGUsIHRyYWNrLmxvY2F0aW9uLmxvbmdpdHVkZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXSA9IHRyYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wiaGFuZGxlcnNcIl0gPSBoYW5kbGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2godHJhY2suaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaWRzLnNvbWUoeCA9PiB4ID09PSBzZWxmLmNhY2hlZFRyYWNrc1trZXldLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVySWQgb2Ygc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5oYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuZW50aXRpZXMucmVtb3ZlKHNlbGYuY2FjaGVkVHJhY2tzW2tleV0ucHVzaHBpbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4ID0gMTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWREb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybUZyZXF1ZW5jaWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBlcHNpbG9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybVNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godHJhY2submFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtU2V0LmluY2x1ZGVzKHRyYWNrLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLm5hbWUgaW4gaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0cmFjay5uYW1lXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3RyYWNrLm5hbWVdID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybVNldC5wdXNoKHRyYWNrLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaCh0b2tlbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50cy5wdXNoKHsgdG9rZW5zOiB0b2tlbnMsIHRpbWVzdGFtcDogdXNlci50aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSwgaW1hZ2U6IFwiaW1hZ2VcIiBpbiB1c2VyID8gdXNlci5pbWFnZSA6IG51bGwgfSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB1c2VyICYmIHVzZXIud29yZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gPSBNYXRoLmxvZyhkb2N1bWVudHMubGVuZ3RoIC8gKGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldICsgZXBzaWxvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQudGltZXN0YW1wICogMTAwMCA+IGJhc2VUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gbWluOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGYgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW2tleV0gLz0gZG9jdW1lbnQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBzY29yZURpY3Rpb25hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaWN0aW9uYXJ5W2tleV0gPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1GcmVxdWVuY2llcy5wdXNoKHRmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm1GcmVxdWVuY3kgb2YgdGVybUZyZXF1ZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZmlkZiA9IHRlcm1GcmVxdWVuY3lba2V5XSAqIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGZpZGYgPiBzY29yZURpY3Rpb25hcnlba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMSAmJiBrZXkgIT0gXCIuLi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goeyB0ZXJtOiBrZXksIHZhbHVlOiBzY29yZURpY3Rpb25hcnlba2V5XSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHkudmFsdWUgLSB4LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3Jlcy5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNwbGljZShtYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlLnZhbHVlID4gbWF4U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2Ygc2NvcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlLnZhbHVlIC89IG1heFNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgudGVybSA+IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeC50ZXJtIDwgeS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtkb2N1bWVudHMsIHNjb3Jlc10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWREb2N1bWVudHMuc3BsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3Muc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2YgcmVzdWx0c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0c1sxXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5wdXNoKHsgaW5kZXg6IGksIG5hbWU6IHJlc3VsdHNbMV1baV0udGVybSwgc2NvcmU6IHJlc3VsdHNbMV1baV0udmFsdWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5pc0JsaW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy9hY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24gKGlnbm9yZSwgbGF0aXR1ZGUsIGxvbmdpdHVkZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVjaXNpb25zID0geyAxOiAyLCAyOiAyLCAzOiAyLCA0OiAyLCA1OiAyLCA2OiAyLCA3OiAyLCA4OiAyLCA5OiAyLCAxMDogMywgMTE6IDMsIDEyOiA0LCAxMzogNCwgMTQ6IDQsIDE1OiA1LCAxNjogNSwgMTc6IDUsIDE4OiA2LCAxOTogNiwgMjA6IDYgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gobGF0aXR1ZGUsIGxvbmdpdHVkZSwgcHJlY2lzaW9uc1t0aGlzLm1hcC5nZXRab29tKCldKTtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoZXMgPSBbY2VudGVyR2VvaGFzaF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wUmVjZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJpbWl0aXZlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmRlY29kZUdlb2hhc2goY2VudGVyR2VvaGFzaCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSA2MDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMucHVzaChuZXcgTWljcm9zb2Z0Lk1hcHMuUG9seWdvbihbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21yaWdodC5sYXRpdHVkZSwgcmVjdC5ib3R0b21yaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNlbnRlckdlb2hhc2gubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZ2V0TmVpZ2hib3JzKGNlbnRlckdlb2hhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZWlnaGJvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaGVzLnB1c2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuZGVjb2RlR2VvaGFzaChuZWlnaGJvcnNba2V5XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltaXRpdmVzLnB1c2gobmV3IE1pY3Jvc29mdC5NYXBzLlBvbHlnb24oW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3ByaWdodC5sYXRpdHVkZSwgcmVjdC50b3ByaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tcmlnaHQubGF0aXR1ZGUsIHJlY3QuYm90dG9tcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbWxlZnQubGF0aXR1ZGUsIHJlY3QuYm90dG9tbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSldLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyLnNldFByaW1pdGl2ZXMocHJpbWl0aXZlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnB1c2goY2VudGVyR2VvaGFzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIG9mIGdlb2hhc2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlICYmIGdlb2hhc2ggaW4gdGhpcy5xdWVyeUNhY2hlICYmIHRpbWVzdGFtcCAtIHRoaXMucXVlcnlDYWNoZVtnZW9oYXNoXS50aW1lc3RhbXAgPCB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdXNlciBvZiB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0uZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFJlY2VudC5wdXNoKHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdLnB1c2godXNlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0gPSBbdXNlcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzXCIpLm9yZGVyQnlDaGlsZChcImtleVwiKS5saW1pdFRvTGFzdCg1MCkuc3RhcnRBdChnZW9oYXNoKS5lbmRBdChnZW9oYXNoLnBhZEVuZCgxMiwgXCJ6XCIpICsgXCJcXHVmOGZmXCIpLm9uY2UoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBDYWNoZVtnZW9oYXNoXSA9IHsgdGltZXN0YW1wOiB0aW1lc3RhbXAsIGRhdGE6IFtdIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWN0aW9uYXJ5ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5W2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBSZWNlbnQucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcENhY2hlW2dlb2hhc2hdLmRhdGEucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9oYXNoIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXSA9IFtkaWN0aW9uYXJ5W2tleV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5UXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBpbiB0ZW1wQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0gPSB0ZW1wQ2FjaGVbZ2VvaGFzaF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeUNhY2hlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZXN0YW1wIC0gc2VsZi5xdWVyeUNhY2hlW2tleV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYucXVlcnlDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IHRoaXMudGFrZSh0ZW1wUmVjZW50LnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApLCAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkYXRhW2tleV0ubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlY2VudC5pbmNsdWRlcyhkYXRhW2tleV1baV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2tleV0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtrZXldLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2NhdGU6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwicGVybWlzc2lvbnNcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogXCJnZW9sb2NhdGlvblwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcImdyYW50ZWRcIiB8fCBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwicHJvbXB0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9jYXRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2F0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0xvY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHNlbGYubWFwLmdldFpvb20oKSA8IDE2ID8gMTYgOiBzZWxmLm1hcC5nZXRab29tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogXCJnZW9sb2NhdGlvblwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwiZ3JhbnRlZFwiIHx8IHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJwcm9tcHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLyp0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAvKmNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBrZXk6IGdlb2hhc2ggKyB0aW1lc3RhbXAsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJrZXlcIl0gPSBnZW9oYXNoICsgdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wibmFtZVwiXSA9IHNlbGYudXNlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImltYWdlXCJdID0gc2VsZi51c2VyLnBob3RvVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wibG9jYXRpb25cIl0gPSB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21taXR0ZWQgJiYgZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21taXR0ZWQgJiYgZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8qfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3ZlOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogXCJob2dlaG9nZVwiLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0sIDEwMDAwMCk7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSB7IGxhdGl0dWRlOiBjZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2goY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsIGNlbnRlckxvY2F0aW9uLmxvbmdpdHVkZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbmFtZTogc2VsZi51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogc2VsZi51c2VyLnBob3RvVVJMLCBsb2NhdGlvbjogbG9jYXRpb24sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wia2V5XCJdID0gZ2VvaGFzaCArIHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wibmFtZVwiXSA9IHNlbGYudXNlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1wiaW1hZ2VcIl0gPSBzZWxmLnVzZXIucGhvdG9VUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImxvY2F0aW9uXCJdID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbmQ6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNEZWJ1Zykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdGhpcy5pbnB1dC5zcGxpdCgvXFxzLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXMuc29tZSgoeCkgPT4geC5pZCA9PT0gdG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiB0YWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvaW1hZ2VzL1wiICsga2V5KS50cmFuc2FjdGlvbihmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJ0YWdzXCJdID0gdGFncztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhcm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA8PSB0aGlzLm1heElucHV0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXJuKHRoaXMuaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhcm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW1hZ2Ugb2YgdGhpcy5iYWNrZ3JvdW5kSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW1hZ2UuaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCAmJiB0aGlzLmlucHV0Lmxlbmd0aCA8PSB0aGlzLm1heElucHV0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFybih7IG5hbWU6IHRoaXMuaW5wdXQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEltYWdlOiBhc3luYyBmdW5jdGlvbiAocHVzaHBpbiwgdXNlciwgc2VsZWN0ZWQgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnN0IGhvdXJzID0gbmV3IERhdGUodHJhY2sucG9zaXRpb24udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZVwiIGluIHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLypwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMTggMThcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEsMCwwLDEsLTE3LjcwNzcsLTE4Ljc1MzgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yNi43MDgsMTkuNzU0QzMxLjEyMywxOS43NTQgMzQuNzA4LDIzLjMzOSAzNC43MDgsMjcuNzU0QzM0LjcwOCwzMi4xNjkgMzEuMTIzLDM1Ljc1NCAyNi43MDgsMzUuNzU0QzIyLjI5MiwzNS43NTQgMTguNzA4LDMyLjE2OSAxOC43MDgsMjcuNzU0QzE4LjcwOCwyMy4zMzkgMjIuMjkyLDE5Ljc1NCAyNi43MDgsMTkuNzU0Wk0yNi43MDgsMjMuNzU0QzI4LjkxNSwyMy43NTQgMzAuNzA4LDI1LjU0NiAzMC43MDgsMjcuNzU0QzMwLjcwOCwyOS45NjIgMjguOTE1LDMxLjc1NCAyNi43MDgsMzEuNzU0QzI0LjUsMzEuNzU0IDIyLjcwOCwyOS45NjIgMjIuNzA4LDI3Ljc1NEMyMi43MDgsMjUuNTQ2IDI0LjUsMjMuNzU0IDI2LjcwOCwyMy43NTRaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmltYWdlLnN0YXJ0c1dpdGgoXCJnczovL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKHVzZXIuaW1hZ2UpLmdldERvd25sb2FkVVJMKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gdXNlci5pbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1NFwiIHZpZXdCb3g9XCIwIDAgNTAgNTRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC40MTA1NzQsMCwwLDAuNDEwNTc0LDM0LjA0OTgsMjYuNzY5NClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCwtNy4yOUMtMC4zMTEsLTguMjQ3IC0xLjEzOCwtOC45NDQgLTIuMTMzLC05LjA4OUwtOS4yMSwtMTAuMTE3TC0xMi4zNzUsLTE2LjUyOUMtMTIuODE5LC0xNy40MzIgLTEzLjczOCwtMTguMDAzIC0xNC43NDQsLTE4LjAwM0MtMTUuNzUsLTE4LjAwMyAtMTYuNjcsLTE3LjQzMiAtMTcuMTE0LC0xNi41M0wtMjAuMjc5LC0xMC4xMTdMLTI3LjM1NSwtOS4wODlDLTI4LjM1MiwtOC45NDQgLTI5LjE3OSwtOC4yNDcgLTI5LjQ5LC03LjI5Qy0yOS44MDEsLTYuMzMzIC0yOS41NDEsLTUuMjgzIC0yOC44MiwtNC41ODFMLTIzLjcsMC40MUwtMjQuOTA4LDcuNDU5Qy0yNS4wNzgsOC40NSAtMjQuNjcyLDkuNDUyIC0yMy44NTcsMTAuMDQzQy0yMy4wNDMsMTAuNjM1IC0yMS45NjUsMTAuNzEzIC0yMS4wNzQsMTAuMjQ0TC0xNC43NDQsNi45MTdMLTguNDE1LDEwLjI0NEMtOC4wMjgsMTAuNDQ3IC03LjYwNiwxMC41NDggLTcuMTg2LDEwLjU0OEMtNi42MzgsMTAuNTQ4IC02LjA5MiwxMC4zNzcgLTUuNjMyLDEwLjA0M0MtNC44MTgsOS40NTIgLTQuNDEsOC40NSAtNC41OCw3LjQ1OEwtNS43ODksMC40MUwtMC42NjgsLTQuNTgxQzAuMDUyLC01LjI4MyAwLjMxMiwtNi4zMzMgMCwtNy4yOVwiIHN0eWxlPVwiZmlsbDp3aGl0ZTtmaWxsLXJ1bGU6bm9uemVybztcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBvcGFjaXR5ID0gaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIwLjA1XCIgOiBcIjFcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGFjY2VudENvbG9yID0gc2VsZi51c2VyLnVpZCA9PT0gd29yZC5pZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHNlbGVjdGVkQ29sb3IgPSBzZWxlY3RlZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICdyZ2IoMjU0LDIyMSw4MCknO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubGluZVN2ZyA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjU0XCIgdmlld0JveD1cIjAgMCA1MCA1NFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxuczpzZXJpZj1cImh0dHA6Ly93d3cuc2VyaWYuY29tL1wiIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC45OTk5OTksMCwwLDAuOTk5OTk5LDE3LjAwMTEsLTEzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLjk2NDkxLDAsMCwxLjk2NDkxLC0zMC4wMDk5LC0yNC41OTMxKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjc5MTY2NywwLDAsMC43OTE2NjcsNS44MzI0OSw1LjI1ODIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIgc3R5bGU9XCJmaWxsOndoaXRlO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NsaXBQYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJCYWNrZ3JvdW5kXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMDIzODU2LDAsMCwwLjAyMzg1NiwtMi41Mzk2NCwtNS4yOTY1OClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI19JbWFnZTNcIiB4PVwiNzY3XCIgeT1cIjc2N1wiIHdpZHRoPVwiMTAyNnB4XCIgaGVpZ2h0PVwiMTAyNnB4XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpZD1cIl9JbWFnZTNcIiB3aWR0aD1cIjEwMjZweFwiIGhlaWdodD1cIjEwMjZweFwiIHhsaW5rOmhyZWY9XCJgICsgYy50b0RhdGFVUkwoKSArIGBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGlubGluZVN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBsb2FkOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlVXVpZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2Nocm9tZS1wbGF0Zm9ybS1hbmFseXRpY3MvYmxvYi9tYXN0ZXIvc3JjL2ludGVybmFsL2lkZW50aWZpZXIuanNcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBGT1JNQVQ6IHN0cmluZyA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJzID0gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnNbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNikudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1tpXSA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDgpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBldmVudC50YXJnZXQuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubmFtZSA+IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgubmFtZSA8IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYuY2hpbGQoYGltYWdlcy8ke2dlbmVyYXRlVXVpZCgpfWApLnB1dChmaWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkVGFzay5vbihcInN0YXRlX2NoYW5nZWRcIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzIC8gZmlsZXMubGVuZ3RoICsgcGF0aHMubGVuZ3RoIC8gZmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhzLnB1c2godXBsb2FkVGFzay5zbmFwc2hvdC5yZWYuZnVsbFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9pbWFnZXNcIikucHVzaCh7IHBhdGhzOiBwYXRocywgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFybjogYXN5bmMgZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwiYXR0cmlidXRlc1wiIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHdvcmQubmFtZSkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHcuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMud29yZCA9IHsgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmRbXCJ1c2VyXCJdID0gd29yZC51c2VyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5cIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IGZvcm1hdChvYmoudGV4dCwgd29yZC5uYW1lKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGVjazogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgPT09IGV2ZW50LnRhcmdldC5kYXRhc2V0LmF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNoYXJlOiBhc3luYyBmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChsb2NhdGlvbi5sYXRpdHVkZSwgbG9jYXRpb24ubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB7IGlkOiB0aGlzLnVzZXIudWlkLCBuYW1lOiB0aGlzLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiB0aGlzLnVzZXIucGhvdG9VUkwgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3b3JkLm5hbWUgaW4gdGhpcy53b3JkRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLndvcmREaWN0aW9uYXJ5W3dvcmQubmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldLndvcmRzLnNvbWUoKHgpID0+IHggPT09IHdvcmQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgd29yZC5uYW1lKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gY3VycmVudC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGV0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSB7IGF0dHJpYnV0ZXM6IHt9IH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gY3VycmVudC5hdHRyaWJ1dGVzICYmIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlcXVpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjW1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBhdHRyaWJ1dGVzOiB7fSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInVzZXJcIl0gPSB7IGlkOiB3b3JkLnVzZXIuaWQsIG5hbWU6IHdvcmQudXNlci5uYW1lLCBpbWFnZTogd29yZC51c2VyLmltYWdlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfSwgYXN5bmMgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1pdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpY3Rpb25hcnkuYXR0cmlidXRlc1trZXldID09PSBcIm51bWJlclwiICYmIGRpY3Rpb25hcnkuYXR0cmlidXRlc1trZXldID4gMCAmJiBzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzLnB1c2goZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXN0YW1wcy5sZW5ndGggPT09IDEgJiYgdGltZXN0YW1wc1swXSA9PT0gdGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHNlbGYudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L2NvdW50XCIpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvdW50IHx8IDApICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygc2VsZi5wcmVwYXJlKHNlbGYuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFybmVkXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGZvcm1hdChvYmoudGV4dCwgd29yZC5uYW1lKSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy50d2lua2xlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIHdvcmQgPT09IGZhbHNlIHx8IHdvcmQudXNlci5pZCA9PT0gc2VsZi51c2VyLnVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wia2V5XCJdID0gYCR7Z2VvaGFzaH0ke3RpbWVzdGFtcH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHsga2V5OiBgJHtnZW9oYXNofSR7dGltZXN0YW1wfWAsIG5hbWU6IHdvcmQubmFtZSwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IGRpY3Rpb25hcnkuYXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiYXR0cmlidXRlc1wiXSA9IGF0dHJpYnV0ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdHJhY2tzYCkucHVzaCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuc2V0KHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IHdvcmQuYXR0cmlidXRlcywgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wLCB1c2VyOiB7IGlkOiBzZWxmLnVzZXIudWlkLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwgfSB9LCBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ICYmIGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInVzZXJcIiBpbiB3b3JkID09PSBmYWxzZSB8fCB3b3JkLnVzZXIuaWQgPT09IHNlbGYudXNlci51aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrcy9cIiArIGF3YWl0IHNlbGYuZGlnZXN0TWVzc2FnZShgJHtzZWxmLnVzZXIudWlkfSYke3dvcmQubmFtZX1gKSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGtleTogYCR7Z2VvaGFzaH0ke3RpbWVzdGFtcH1gLCBuYW1lOiB3b3JkLm5hbWUsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgYXR0cmlidXRlczoge30sIHVzZXI6IHVzZXIsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jIGZ1bmN0aW9uIChzdGFydEF0LCBsaW1pdCA9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc25hcHNob3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0QXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlLZXkoKS5saW1pdFRvRmlyc3QobGltaXQgKyAxKS5vbmNlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLnN0YXJ0QXQoc3RhcnRBdCkubGltaXRUb0ZpcnN0KGxpbWl0ICsgMSkub25jZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdGhpcy5tb2RlICYmIHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZS53b3JkcyAhPT0gbnVsbCAmJiB0aGlzLm1vZGUud29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUuaW5kZXhlcy5wdXNoKHRoaXMubW9kZS53b3Jkc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3Jkcy5wdXNoKFwidXNlclwiIGluIHdvcmRzW25hbWVdID8geyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzLCB1c2VyOiB3b3Jkc1tuYW1lXS51c2VyIH0gOiB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzLmxlbmd0aCA9PT0gbGltaXQgKyAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gdGhpcy5tb2RlLndvcmRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiBhc3luYyBmdW5jdGlvbiAoc3RhcnRBdCwgbGltaXQgPSA1MCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLnN0YXJ0QXQoc3RhcnRBdCkubGltaXRUb0ZpcnN0KGxpbWl0KS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB0aGlzLm1vZGUgJiYgc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzICE9PSBudWxsICYmIHRoaXMubW9kZS53b3Jkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gdGhpcy5tb2RlLndvcmRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLndvcmRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMucHVzaChcInVzZXJcIiBpbiB3b3Jkc1tuYW1lXSA/IHsgbmFtZTogbmFtZSwgYXR0cmlidXRlczogd29yZHNbbmFtZV0uYXR0cmlidXRlcywgdXNlcjogd29yZHNbbmFtZV0udXNlciB9IDogeyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlnZXN0TWVzc2FnZTogYXN5bmMgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1VpbnQ4ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuY29kZSBhcyAodXRmLTgpIFVpbnQ4QXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIG1zZ1VpbnQ4KTsgICAgICAgICAgIC8vIGhhc2ggdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpOyAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgYnVmZmVyIHRvIGJ5dGUgYXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hIZXggPSBoYXNoQXJyYXkubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7IC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoSGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGVjazI6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQpXFx9L2csIGZ1bmN0aW9uIChtLCBjKSB7IHJldHVybiBhcmdzW3BhcnNlSW50KGMpICsgMV0gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXR0cmlidXRlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LndvcmQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0geyBpZDogdGhpcy51c2VyLnVpZCwgbmFtZTogdGhpcy51c2VyLmRpc3BsYXlOYW1lLCBpbWFnZTogdGhpcy51c2VyLnBob3RvVVJMIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LndvcmQgaW4gdGhpcy53b3JkRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLndvcmREaWN0aW9uYXJ5W2V2ZW50LnRhcmdldC5kYXRhc2V0LndvcmRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XS53b3Jkcy5zb21lKCh4KSA9PiB4ID09PSBldmVudC50YXJnZXQuZGF0YXNldC53b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIG5hbWUpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxldGVSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIGluIGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSAhPSBhdHRyaWJ1dGUgJiYgdHlwZW9mIGN1cnJlbnRbYV0gPT09IFwibnVtYmVyXCIgJiYgY3VycmVudFthXSA+IDAgJiYgc2VsZi5hdHRyaWJ1dGVzLmluY2x1ZGVzKGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlcXVpcmVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbYXR0cmlidXRlXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInRpbWVzdGFtcFwiXSA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGEgb2Ygc2VsZi5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSAhPSBhdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W2FdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcIm5hbWVcIl0gPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbYXR0cmlidXRlXSA9IGN1cnJlbnRbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiBjdXJyZW50ID09PSBmYWxzZSB8fCBjdXJyZW50W1widXNlclwiXS5pZCA9PT0gdXNlci5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widXNlclwiXSA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWN0aW9uYXJ5ID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZXN0YW1wcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpY3Rpb25hcnlba2V5XSA9PT0gXCJudW1iZXJcIiAmJiBkaWN0aW9uYXJ5W2tleV0gPiAwICYmIHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXN0YW1wcy5sZW5ndGggPT09IDEgJiYgdGltZXN0YW1wc1swXSA9PT0gdGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY291bnQgfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZWxmLnByZXBhcmUoc2VsZi5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkxlYXJuZWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCBkaWN0aW9uYXJ5W1wibmFtZVwiXSksIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5pc011dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJHJlZnMudHdpbmtsZS5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYud29yZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFybjI6IGFzeW5jIGZ1bmN0aW9uICh0ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHRlcm0pID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgdXNlcjogdGVybS51c2VyLCB0aW1lc3RhbXA6IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHRlcm0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm0uYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbYXR0cmlidXRlXSA9IHRlcm0uYXR0cmlidXRlc1thdHRyaWJ1dGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2F0dHJpYnV0ZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbY29tbWl0dGVkLCBzbmFwc2hvdF0gPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRlcm0ubmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW2NvbW1pdHRlZCwgc25hcHNob3RdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZFthdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGVybS51c2VyLmlkICsgXCIvc3RhcnNcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkxlYXJuZWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGZvcm1hdChvYmoudGV4dCwgd29yZFtcIm5hbWVcIl0pLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRbYXR0cmlidXRlLm5hbWVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlcm0gPSB0ZXJtLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB0ZXJtKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZFthdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMud29yZCA9IHsgbmFtZTogdGVybSwgYXR0cmlidXRlczogYXR0cmlidXRlcyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5cIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IGZvcm1hdChvYmoudGV4dCwgdGVybSkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWN0aXZhdGU6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlZERvY3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gW10uY29uY2F0KGFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBfcmFuZG9tKDAsIG4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW25dID0gYVtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBzaHVmZmxlKHRoaXMuY2FjaGVkRG9jdW1lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFF1ZXVlLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXdhaXQgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGRvY3VtZW50LmZpbHRlcigoeCkgPT4geCAhPT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnVzZXIudWlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnVzZXIudWlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZGxlVGltZSA9IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFsazogYXN5bmMgZnVuY3Rpb24gKHVzZXJJZCwgdG9rZW5zID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZXMgPSB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiQWN0aXZhdGVcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFN0YXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ZXIgPSBuZXcgVGlueVNlZ21lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlblNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNodWZmbGUoc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVwYXJlZFNlcXVlbmNlID0gdGhpcy5wcmVwYXJlKFtzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0Fib3J0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBwcmVwYXJlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBBcnJheS5pc0FycmF5KG8udGV4dCkgPyBvLnRleHQgOiBzZWdtZW50ZXIuc2VnbWVudChvLnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgdGhpcy5nZW5lcmF0ZSh1c2VySWQsIG9iai50ZXh0LCB0b2tlbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5sZW5ndGggPiAxICYmICF0b2tlblNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pID09PSBcIm51bWJlclwiICYmIHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCAmJiB0aGlzLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHByZXBhcmVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcyA9IHRlbXBTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHNlcXVlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IHR5cGU6IG9iai50eXBlLCBzcGVlZDogb2JqLnNwZWVkLCBkdXJhdGlvbjogb2JqLmR1cmF0aW9uLCB0ZXh0OiB0ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2VuZXJhdGU6IGFzeW5jIGZ1bmN0aW9uICh1c2VySWQsIG1lc3NhZ2UsIGhpbnRzID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNob2ljZShwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwcm9iYWJpbGl0eSBvZiBwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdW0gPD0gciAmJiByIDwgc3VtICsgcHJvYmFiaWxpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gcHJvYmFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc29mdG1heCh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhbaV0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gTWF0aC5leHAoeFtpXSAtIG1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeS5wdXNoKE1hdGguZXhwKHhbaV0gLSBtYXgpIC8gc3VtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudGVyID0gbmV3IFRpbnlTZWdtZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlbnMgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2UpID8gbWVzc2FnZSA6IHNlZ21lbnRlci5zZWdtZW50KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpbnREaWN0aW9uYXJ5ID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5TZXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAoXCJbLiMkXFxcXFtcXFxcXV1cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FjaERpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC02KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJlYW1XaWR0aCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IFt7IHNlcXVlbmNlOiBbXSwgc2NvcmU6IDEuMCB9XVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgaGludHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdID0gW3Rva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW5TZXQuaW5jbHVkZXModG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIGhpbnREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2goa2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGhpcy50YWdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHRhZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh0YWcuc2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGVwc2lsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoYGF0dHJpYnV0ZXMvJHthdHRyaWJ1dGV9YCkubGltaXRUb0xhc3QoMTAwKS5zdGFydEF0KDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdID0geyB3b3JkczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMod29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHdvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQgPT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtcy5sZW5ndGggPiAwICYmIHNjb3Jlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdGllcyA9IHNvZnRtYXgoc2NvcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb2JhYmlsaXRpZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdLmNvbmNhdChzZXF1ZW5jZXNbaV0uc2VxdWVuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyBpbmRleDogaW5kZXgsIHRlcm06IHRlcm1zW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHsgc2VxdWVuY2U6IHNlcXVlbmNlLCBzY29yZTogc2VxdWVuY2VzW2ldLnNjb3JlICogcHJvYmFiaWxpdGllc1tqXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgdGhpcy50YWtlKGNhbmRpZGF0ZXMuc29ydCgoeCwgeSkgPT4geS5zY29yZSAtIHguc2NvcmUpLCBiZWFtV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyZWdleC50ZXN0KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRoaXMud29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgaGludERpY3Rpb25hcnlbYXR0cmlidXRlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybXMucHVzaChrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlDaGlsZChgYXR0cmlidXRlcy8ke2F0dHJpYnV0ZX1gKS5saW1pdFRvTGFzdCgxMDApLnN0YXJ0QXQoMSkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0gPSB7IHdvcmRzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gc2VxdWVuY2VzW2Nob2ljZShzb2Z0bWF4KHNlcXVlbmNlcy5tYXAoeCA9PiB4LnNjb3JlKSkpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gaW4gY2FjaERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoRGljdGlvbmFyeVt0b2tlbnNbaV1dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcy5zZXF1ZW5jZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VxdWVuY2Vbal0uaW5kZXggPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gPT0gcy5zZXF1ZW5jZVtqXS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hEaWN0aW9uYXJ5W3Rva2Vuc1tpXV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXSA9IHMuc2VxdWVuY2Vbal0udGVybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzLnNlcXVlbmNlW2pdLnRlcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0ZXh0LCBjYWNoRGljdGlvbmFyeV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtcImlkXCJdID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09PSBkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24sIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiBzaHVmZmxlKHRoaXMucmVjZW50SW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5wdXNoKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBpbWFnZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHsgaWQ6IGltYWdlLmlkLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQocGF0aCkuZ2V0RG93bmxvYWRVUkwoKSwgdGltZXN0YW1wOiBpbWFnZS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGltYWdlLnRhZ3MuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbWFnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGltYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltYWdlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogaW1hZ2UudGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTI6IGFzeW5jIGZ1bmN0aW9uIChkYXRhLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJlZERvY3VtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybUZyZXF1ZW5jaWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDEyICogNjAgKiA2MCAqIDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZURpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBlcHNpbG9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGRhdGFba2V5XSAmJiBkYXRhW2tleV0udGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1TZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2goeyB0b2tlbnM6IGRhdGFba2V5XS50YWdzLCB0aW1lc3RhbXA6IGRhdGFba2V5XS50aW1lc3RhbXAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZGF0YVtrZXldLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtU2V0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0b2tlbl0gKz0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lbdG9rZW5dID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1TZXQucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gPSBNYXRoLmxvZyhkb2N1bWVudHMubGVuZ3RoIC8gKGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldICsgZXBzaWxvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnRpbWVzdGFtcCAqIDEwMDAgPiBiYXNlVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWREb2N1bWVudHMubGVuZ3RoIDwgbGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkb2N1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSBtaW47IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBmaWx0ZXJlZERvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRmID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBkb2N1bWVudC50b2tlbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZbdG9rZW5dICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Zlt0b2tlbl0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZba2V5XSAvPSBkb2N1bWVudC50b2tlbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybUZyZXF1ZW5jaWVzLnB1c2godGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVybUZyZXF1ZW5jeSBvZiB0ZXJtRnJlcXVlbmNpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGZpZGYgPSB0ZXJtRnJlcXVlbmN5W2tleV0gKiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZmlkZiA+IHNjb3JlRGljdGlvbmFyeVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMSAmJiBrZXkgIT0gXCIuLi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHsgdGVybToga2V5LCB2YWx1ZTogc2NvcmVEaWN0aW9uYXJ5W2tleV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB5LnZhbHVlIC0geC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmVzLmxlbmd0aCA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNwbGljZShtYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlLnZhbHVlID4gbWF4U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHNjb3JlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUudmFsdWUgLz0gbWF4U2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC50ZXJtID4geS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgudGVybSA8IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNjb3Jlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MucHVzaCh7IGluZGV4OiBpLCBuYW1lOiByZXN1bHRzW2ldLnRlcm0sIHNjb3JlOiByZXN1bHRzW2ldLnZhbHVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxUaW1lb3V0SUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0SUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGV2ZW50KS5mb3JtYXQoXCJMVFwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJVcGRhdGVkOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmFuZ2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goY29sdW1ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRha2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IFtdLmNvbmNhdChjb2xsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoY291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoY29sbGVjdGlvbikucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IodGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0IC8gODY0MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHQgLyAzNjAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdCAlIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXlzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgXCJkXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG91cnMgKyBcImhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgXCJtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZHMgKyBcInNcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlnZXN0TWVzc2FnZTogYXN5bmMgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1VpbnQ4ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuY29kZSBhcyAodXRmLTgpIFVpbnQ4QXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7IC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoSGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXREaXN0YW5jZTogZnVuY3Rpb24gKGxhdDEsIGxvbjEsIGxhdDIsIGxvbjIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG4gICAgICAgICAgICAgICAgdmFyIGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRMb24gPSB0aGlzLmRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPVxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW5jb2RlR2VvaGFzaDogZnVuY3Rpb24gKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbiA9IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCSVRTID0gWzE2LCA4LCA0LCAyLCAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ldmVuID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsb24gPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDsgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDsgbG9uWzFdID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGdlb2hhc2gubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0aXR1ZGUgPiBtaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoIHw9IEJJVFNbYml0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2ggKz0gQkFTRTMyW2NoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvaGFzaDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVjb2RlR2VvaGFzaDogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdF9lcnIgPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbl9lcnIgPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDtcclxuICAgICAgICAgICAgICAgIGxhdFsxXSA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMF0gPSAtMTgwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2hhc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdlb2hhc2hbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gQkFTRTMyLmluZGV4T2YoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCSVRTW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbl9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMV0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRfZXJyIC89IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkICYgbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzFdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxhdFsyXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgIGxvblsyXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsYXRbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogeyBsYXRpdHVkZTogbGF0WzBdLCBsb25naXR1ZGU6IGxvblswXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB7IGxhdGl0dWRlOiBsYXRbMV0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMV0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzFdIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldE5laWdoYm9yczogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2xlZnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogcmlnaHRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcGxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3ByaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGxlZnRHZW9oYXNoLCAnYm90dG9tJylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGN1bGF0ZUFkamFjZW50OiBmdW5jdGlvbiAoc3JjSGFzaCwgZGlyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBORUlHSEJPUlMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsgZXZlbjogXCJiYzAxZmc0NTIzODk2N2RldXZoanl6bnBrbXN0cXJ3eFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeyBldmVuOiBcIjIzODk2N2RlYmMwMWZnNDVrbXN0cXJ3eHV2aGp5em5wXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHsgZXZlbjogXCJwMHIyMTQzNng4emI5ZGNmNWg3a2pubXFlc2d1dHd2eVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMTQzNjVoN2s5ZGNmZXNndWpubXFwMHIydHd2eXg4emJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQk9SREVSUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjZmd1dnl6XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMDE0NWhqbnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInByeHpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogeyBldmVuOiBcIjAyOGJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5ib3R0b20ub2RkID0gTkVJR0hCT1JTLmxlZnQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy50b3Aub2RkID0gTkVJR0hCT1JTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMubGVmdC5vZGQgPSBORUlHSEJPUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMucmlnaHQub2RkID0gTkVJR0hCT1JTLnRvcC5ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIEJPUkRFUlMuYm90dG9tLm9kZCA9IEJPUkRFUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy50b3Aub2RkID0gQk9SREVSUy5yaWdodC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5sZWZ0Lm9kZCA9IEJPUkRFUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnJpZ2h0Lm9kZCA9IEJPUkRFUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgc3JjSGFzaCA9IHNyY0hhc2gudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdENociA9IHNyY0hhc2guY2hhckF0KHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IChzcmNIYXNoLmxlbmd0aCAlIDIpID8gJ29kZCcgOiAnZXZlbic7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IHNyY0hhc2guc3Vic3RyaW5nKDAsIHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEJPUkRFUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoYmFzZSwgZGlyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIEJBU0UzMltORUlHSEJPUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKHNlcXVlbmNlcywgc3RhdGUgPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjaG9vc2VkU2VxdWVuY2VzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxhdHRlbmVkU2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2VxdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFN0YXRlID0gc3RhdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCAmJiBzLm5hbWUgaW4gdGhpcy5zdGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YXRlID0gdGhpcy5zdGF0ZXNbcy5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RhdGUgIT09IG51bGwgJiYgXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh0ZW1wU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hvb3NlZFNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGNob29zZWRTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbcy5uYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gcXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gb2JqID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbGFibGVTZXF1ZW5jZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhzLCBvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3BwZWRTZXF1ZW5jZSA9IHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcFNlcXVlbmNlIG9mIHN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFNlcXVlbmNlID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YWNrLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0ZW1wU3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvcHBlZFNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RhdGVcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbb2JqLm5hbWVdID0gb2JqLnN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRyYWNlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSA9PSBvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChvYmouc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSBpbiB0aGlzLnN0YXRlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRoaXMuc3RhdGVzW3MubmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBjYWxsYWJsZVNlcXVlbmNlc1tfcmFuZG9tKDAsIGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zcGxpY2UoaW5kZXgsIDAsIG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5lZFNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdHRlbmVkU2VxdWVuY2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFNlcXVlbmNlU3RhY2s6IGZ1bmN0aW9uIChzb3VyY2VTZXF1ZW5jZSwgdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZVN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHNvdXJjZVNlcXVlbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFja1tzZXF1ZW5jZVN0YWNrLmxlbmd0aCAtIDFdICE9PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gc291cmNlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNvdXJjZVNlcXVlbmNlLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhvLCB0YXJnZXRTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0ZTogZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9ICh0aW1lc3RhbXAgLSB0aGlzLmVsYXBzZWQpIC8gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNEZWZvcm1pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uRGF0YSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlUXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLnNlcXVlbmNlUXVldWVbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSArPSBkZWx0YVRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZVRpbWUgKz0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXF1ZW5jZVF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZhdGVUaW1lID49IGFjdGl2YXRlVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAodGhpcy5yZWNlbnRJbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWREb2N1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gW10uY29uY2F0KGFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBfcmFuZG9tKDAsIG4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW25dID0gYVtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHNodWZmbGUodGhpcy5jYWNoZWREb2N1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFF1ZXVlLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGRvY3VtZW50LmZpbHRlcigoeCkgPT4geCAhPT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgPSBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkbGVUaW1lID49IGJsaW5rVGhyZXNob2xkIHx8IGFuaW1hdGlvbkRhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaCh0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIklkbGVcIikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZVF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiQW5pbWF0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiTWVzc2FnZVwiICYmIHRoaXMubWVzc2FnZSA9PT0gbnVsbCAmJiAhaXNBbmltYXRpbmcgJiYgIWlzRGVmb3JtaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0geyB0aW1lOiAwLCBkdXJhdGlvbjogc2VxdWVuY2VbMF0uZHVyYXRpb24sIHR5cGU6IHsgZWxhcHNlZDogLTEsIHNwZWVkOiBzZXF1ZW5jZVswXS5zcGVlZCwgcmV2ZXJzZTogZmFsc2UsIGJ1ZmZlcjogXCJcIiwgY291bnQ6IDAgfSwgdGV4dDogc2VxdWVuY2VbMF0udGV4dCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKCF0aGlzLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMubWVzc2FnZS50ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FpLm1pbGNoY2hhbi5jb20vYXBpL3N5bnRoZXNpemU/dGV4dD1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYXdhaXQgcmVzcG9uc2UuYmxvYigpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgIT09IG51bGwgJiYgdGV4dCA9PT0gdGhpcy5tZXNzYWdlLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXNzYWdlID09PSBudWxsICYmICFpc0FuaW1hdGluZyAmJiAhaXNEZWZvcm1pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWUgKiAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAxLjAgLyB0aGlzLm1lc3NhZ2UudHlwZS5zcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggPD0gd2lkdGggJiYgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgPSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIuc3Vic3RyaW5nKDAsIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUG9wdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoIDwgdGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQb3B1cCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDEuMCAvIHRoaXMubWVzc2FnZS50eXBlLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+PSB3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgKz0gdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudGltZSArPSBkZWx0YVRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50aW1lID49IHRoaXMubWVzc2FnZS5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoID09PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdGhpcy5tZXNzYWdlLnRleHQuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZG9tQnVmZmVyID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJBcnJheS5pbmRleE9mKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSkgPT0gLTEgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpICE9IFwiXFxuXCIgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpLm1hdGNoKC9cXHMvKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJBcnJheS5wdXNoKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpID09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbUJ1ZmZlciArPSBcIlxcblwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQnVmZmVyICs9IGNoYXJBcnJheVt+fl9yYW5kb20oMCwgY2hhckFycmF5Lmxlbmd0aCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5kb21CdWZmZXIubGVuZ3RoID4gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyICsgcmFuZG9tQnVmZmVyLnN1YnN0cmluZyh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoLCByYW5kb21CdWZmZXIubGVuZ3RoKSkuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQubGVuZ3RoICE9PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vbGV0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuY29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnNldFRvcCA9IHRoaXMuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5pbnNldEJvdHRvbSA9IHRoaXMuJHJlZnMudGlja2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy4kcmVmcy50aWNrZXIuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQgLmNvbHVtbnM+LmNvbHVtbiAuY29udHJvbDpudGgtbGFzdC1vZi10eXBlKDEpIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpIGZvcm1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaGVhZGluZz4uY29sdW1ucz4uY29sdW1uPi5jb2x1bW5zOmZpcnN0LWNoaWxkPi5jb2x1bW4+LmNvbHVtbnM6bGFzdC1jaGlsZCAubGV2ZWw6Zmlyc3QtY2hpbGQgLmxldmVsLWl0ZW0gLmZpZWxkIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgLyp0aGlzLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNob2ljZShjb2xsZWN0aW9uLCBmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwLjA7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2JhYmlsaXR5ID0gZnVuYyhpdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1bSA8PSByICYmIHIgPCBzdW0gKyBwcm9iYWJpbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBwcm9iYWJpbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uW2luZGV4XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdFN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJib3RcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWxTdG9yYWdlSXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgbGV0IGNyZWRlbnRpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgY2hhcmFjdGVycyA9IFt7IHBhdGg6IFwiL2Fzc2V0cy9taWxjaC5qc29uXCIsIHByb2JhYmlsaXR5OiAxLjAgfV07XHJcblxyXG4gICAgICAgICAgICBpZiAoYm90U3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm90ID0gSlNPTi5wYXJzZShib3RTdG9yYWdlSXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3QgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc011dGVkID0gYm90Lm11dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYm90XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbFN0b3JhZ2VJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBKU09OLnBhcnNlKGNyZWRlbnRpYWxTdG9yYWdlSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMuJHJlZnMudGhyZWUuYWZ0ZXIoc3RhdHMuZG9tRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRUb3AgPSB0aGlzLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRCb3R0b20gPSB0aGlzLiRyZWZzLnRpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNaWNyb3NvZnQuTWFwcy5NYXAodGhpcy4kcmVmcy5tYXAsIHtcclxuICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0xpZ2h0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hEcGk6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dMb2NhdGVNZUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TWFwVHlwZVNlbGVjdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dab29tQnV0dG9uczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93U2NhbGViYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkTWFwVHlwZXM6IFtNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuZ3JheXNjYWxlLCBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzTGlnaHQsIE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNEYXJrXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTGF5ZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXllci5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5tYXAubGF5ZXJzLmluc2VydCh0aGlzLmxheWVyKTtcclxuXHJcbiAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHRoaXMubWFwLCAndmlld2NoYW5nZWVuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNob2ljZShjaGFyYWN0ZXJzLCAoeCkgPT4geC5wcm9iYWJpbGl0eSkucGF0aCwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaCh0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlN0YXJ0XCIpKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlID0gXCJzaWduLWluXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChjcmVkZW50aWFsLmlkVG9rZW4pKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3JlZGVudGlhbC5wcm92aWRlcklkID09PSBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhDcmVkZW50aWFsKGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChjcmVkZW50aWFsLmFjY2Vzc1Rva2VuKSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhDcmVkZW50aWFsKGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsKGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIGNyZWRlbnRpYWwuc2VjcmV0KSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IFwic2lnbi1pblwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZXZlYWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qZmlyZWJhc2UuYXV0aCgpLnNpZ25JbkFub255bW91c2x5KCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbi5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS5vbihcInZhbHVlXCIsIHNuYXBzaG90ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFycyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJzID0gY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VyLnVpZCkub3JkZXJCeUNoaWxkKFwiZGljdGlvbmFyeS93b3Jkcy90aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTApLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFdvcmRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBpbiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBXb3Jkcy5wdXNoKHsgbmFtZTogd29yZCwgdGltZXN0YW1wOiB3b3Jkc1t3b3JkXS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygc2VsZi5wcmVwYXJlKHNlbGYuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJBbGVydFwiKSwgMTApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudFdvcmRzLnNwbGljZShpbmRleCwgMCwgeyBuYW1lOiBvYmoudGV4dCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgdGVtcFdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZUluZGV4ID0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZi5yZWNlbnRXb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZWNlbnRXb3Jkc1tpXS5uYW1lID09IHdvcmQubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlSW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZWNlbnRXb3Jkc1tyZW1vdmVJbmRleF0udGltZXN0YW1wIDwgd29yZC50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLm5hbWUgaW4gc2VsZi53b3JkRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLndvcmREaWN0aW9uYXJ5W3dvcmQubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldLndvcmRzLnNvbWUoKHgpID0+IHggPT09IHdvcmQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZC5uYW1lIGluIHNlbGYud29yZERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLndvcmREaWN0aW9uYXJ5W3dvcmQubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldLndvcmRzLnNvbWUoKHgpID0+IHggPT09IHdvcmQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudFdvcmRzLnNwbGljZShpbmRleCwgMCwgd29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc2VsZi5yZWNlbnRXb3Jkcy5sZW5ndGggLSAxOyBpID49IGluZGV4OyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudFdvcmRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnVzZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBvdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikub2ZmKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCkub2ZmKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9kYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvd29yZHNcIikub3JkZXJCeUNoaWxkKFwidGltZXN0YW1wXCIpLmxpbWl0VG9MYXN0KDEwMCkub24oXCJ2YWx1ZVwiLCBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgLypsZXQgaXNVcGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnJlY2VudEltYWdlcy5zb21lKHggPT4geC5pZCA9PT0ga2V5ICYmIHgudGltZXN0YW1wID09PSBpbWFnZXNba2V5XS50aW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50SW1hZ2VzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlc1trZXldW1wiaWRcIl0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50SW1hZ2VzLnB1c2goaW1hZ2VzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoc2VsZi5yZWNlbnRJbWFnZXMsIHNlbGYubWF4VGFncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0JsaW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgICAgICAvL30pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVubW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMudGlja0ludGVydmFsSUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aWNrSW50ZXJ2YWxJRCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh2cm1Nb2RlbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc2NlbmUucmVtb3ZlKHZybU1vZGVsLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgIHZybU1vZGVsID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pLm1vdW50KFwiI2FwcFwiKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLy9sZXQgY29udGFpbmVyID0gYXBwLiRyZWZzLmNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgYXBwLmluc2V0VG9wID0gYXBwLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgYXBwLmluc2V0Qm90dG9tID0gYXBwLiRyZWZzLnRpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vYXBwLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcblxyXG4gICAgICAgIC8qY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cub3V0ZXJIZWlnaHQ7XHJcbiAgICAgXHJcbiAgICAgICAgYmxvb21QYXNzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgZnhhYVNoYWRlci51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnNldCgxIC8gKHdpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pLCAxIC8gKGhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSk7XHJcbiAgICAgXHJcbiAgICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICBcclxuICAgICAgICBjYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICBcclxuICAgICAgICBjb21wb3Nlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxuICAgICAgICBjb21wb3Nlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpOyovXHJcblxyXG4gICAgICAgIC8qYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsqL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgICAgYXBwLnRhbGsoYXBwLnVzZXIudWlkKTtcclxuICAgICAgICBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAvKmlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKGJlc3RJbnRlcnNlY3QgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpbmdCb25lSW5kZXggPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lID0geyBwb2ludDogeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0sIGRpcmVjdGlvbjogeyB4OiAwLCB5OiAwLCB9LCBkaXN0YW5jZTogMCwgaW5kZXg6IC0xIH07XHJcbiAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0JvbmVHcm91cCBvZiB2cm1Nb2RlbC5zcHJpbmdCb25lTWFuYWdlci5zcHJpbmdCb25lR3JvdXBMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lIG9mIHNwcmluZ0JvbmVHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHNwcmluZ0JvbmUuYm9uZS5nZXRXb3JsZFBvc2l0aW9uKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmRpc3RhbmNlVG8oYmVzdEludGVyc2VjdC5wb2ludCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZUJvbmUuaW5kZXggPSBzcHJpbmdCb25lSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaW5nQm9uZUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zZXF1ZW5jZVF1ZXVlLnB1c2goYXBwLnByZXBhcmUoYXBwLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiVG91Y2hTdGFydFwiKSwgYmVzdEludGVyc2VjdC5vYmplY3QubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGV2ZW50ID0+IHtcclxuXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLyppZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoRW5kXCIpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9Ki9cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKHRhcENvdW50ID09IDApIHtcclxuICAgICAgICAgICAgdGFwQ291bnQrKztcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFwQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICAgICAgLypsZXQgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgICAgICAgICAgbGV0IGJlc3RJbnRlcnNlY3QgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgICAgIG1vdXNlLnggPSAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIuMCAtIDEuMDtcclxuICAgICAgICAgICAgbW91c2UueSA9IC0oZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAvIHdpbmRvdy5vdXRlckhlaWdodCkgKiAyLjAgKyAxLjA7XHJcbiAgICBcclxuICAgICAgICAgICAgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobW91c2UsIGNhbWVyYSk7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaW50ZXJzZWN0IG9mIHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHNjZW5lLmNoaWxkcmVuLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdC5kaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdEludGVyc2VjdCA9IGludGVyc2VjdDtcclxuICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGludGVyc2VjdC5kaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChiZXN0SW50ZXJzZWN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaW5nQm9uZUluZGV4ID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZSA9IHsgcG9pbnQ6IHsgeDogZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCwgeTogZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSB9LCBkaXJlY3Rpb246IHsgeDogMCwgeTogMCwgfSwgZGlzdGFuY2U6IDAsIGluZGV4OiAtMSB9O1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lR3JvdXAgb2YgdnJtTW9kZWwuc3ByaW5nQm9uZU1hbmFnZXIuc3ByaW5nQm9uZUdyb3VwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZSBvZiBzcHJpbmdCb25lR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzcHJpbmdCb25lLmJvbmUuZ2V0V29ybGRQb3NpdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5kaXN0YW5jZVRvKGJlc3RJbnRlcnNlY3QucG9pbnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lLmluZGV4ID0gc3ByaW5nQm9uZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoU3RhcnRcIiksIGJlc3RJbnRlcnNlY3Qub2JqZWN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGxvb2tBbmltYXRpb24gPSB7IHRpbWU6IDAuMCwgZHVyYXRpb246IDAuNSwgc291cmNlOiB7IHg6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi54LCB5OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueSB9LCB0YXJnZXQ6IHsgeDogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSAwLjUgKiB3aW5kb3cuaW5uZXJXaWR0aCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAxMC4wLCB5OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIDAuNSAqIHdpbmRvdy5vdXRlckhlaWdodCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAtMTAuMCB9IH07XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShtb3VzZSwgY2FtZXJhKTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgKHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHNjZW5lLmNoaWxkcmVuLCB0cnVlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGFwcC50YWxrKGFwcC51c2VyLnVpZCk7XHJcbiAgICAgICAgICAgIGFjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgICAgICB0YXBDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8vbG9va0FuaW1hdGlvbiA9IHsgdGltZTogMC4wLCBkdXJhdGlvbjogMC41LCBzb3VyY2U6IHsgeDogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLngsIHk6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi55IH0sIHRhcmdldDogeyB4OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIDAuNSAqIHdpbmRvdy5pbm5lcldpZHRoKSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIDEwLjAsIHk6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gMC41ICogd2luZG93Lm91dGVySGVpZ2h0KSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIC0xMC4wIH0gfTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8qbG9va0FuaW1hdGlvbiA9IHsgdGltZTogMC4wLCBkdXJhdGlvbjogMC41LCBzb3VyY2U6IHsgeDogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLngsIHk6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi55IH0sIHRhcmdldDogeyB4OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIDAuNSAqIHdpbmRvdy5pbm5lcldpZHRoKSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIDEwLjAsIHk6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gMC41ICogd2luZG93Lm91dGVySGVpZ2h0KSAvIHdpbmRvdy5vdXRlckhlaWdodCAqIC0xMC4wIH0gfTtcclxuICAgIFxyXG4gICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGFwcC5zZXF1ZW5jZVF1ZXVlLnB1c2goYXBwLnByZXBhcmUoYXBwLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiVG91Y2hFbmRcIikpKTtcclxuICAgICAgICB9Ki9cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGUgPT4ge1xyXG4gICAgICAgIGlmIChlLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5pc0RhcmtNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=