!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=1)}([function(e,t,n){var i;e.exports=((i=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),t(++n%r.children.length)}),!1);var a=(performance||Date).now(),s=a,o=0,c=e(new i.Panel("FPS","#0ff","#002")),u=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new i.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){a=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(u.update(e-a,200),e>s+1e3&&(c.update(1e3*o/(e-s),100),s=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:r,setMode:t}}).Panel=function(e,t,n){var i=1/0,r=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,c=48*s,u=3*s,l=2*s,h=3*s,d=15*s,f=74*s,p=30*s,g=document.createElement("canvas");g.width=o,g.height=c,g.style.cssText="width:80px;height:48px";var m=g.getContext("2d");return m.font="bold "+9*s+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,o,c),m.fillStyle=t,m.fillText(e,u,l),m.fillRect(h,d,f,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(h,d,f,p),{dom:g,update:function(c,v){i=Math.min(i,c),r=Math.max(r,c),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,o,d),m.fillStyle=t,m.fillText(a(c)+" "+e+" ("+a(i)+"-"+a(r)+")",u,l),m.drawImage(g,h+s,d,f-s,p,h,d,f-s,p),m.fillRect(h+f-s,d,s,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(h+f-s,d,s,a((1-c/v)*p))}}},i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var n=d(e),i=c(h.und(n[0])?1:n[0],.1,100),r=c(h.und(n[1])?100:n[1],.1,100),a=c(h.und(n[2])?10:n[2],.1,100),s=c(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(r/i),l=a/(2*Math.sqrt(r*i)),f=l<1?u*Math.sqrt(1-l*l):0,p=l<1?(l*u-s)/f:-s+u;function g(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?g:function(){var t=o.springs[e];if(t)return t;for(var n=0,i=0;;)if(1===g(n+=1/6)){if(++i>=16)break}else i=0;var r=n*(1/6)*1e3;return o.springs[e]=r,r}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var g,m,v=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function i(i,r,a){return((e(r,a)*i+t(r,a))*i+n(r))*i}function r(i,r,a){return 3*e(r,a)*i*i+2*t(r,a)*i+n(r)}return function(e,t,n,a){if(0<=e&&e<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(e!==t||n!==a)for(var o=0;o<11;++o)s[o]=i(.1*o,e,n);return function(r){return e===t&&n===a||0===r||1===r?r:i(c(r),t,a)}}function c(t){for(var a=0,o=1;10!==o&&s[o]<=t;++o)a+=.1;--o;var c=a+.1*((t-s[o])/(s[o+1]-s[o])),u=r(c,e,n);return u>=.001?function(e,t,n,a){for(var s=0;s<4;++s){var o=r(t,n,a);if(0===o)return t;t-=(i(t,n,a)-e)/o}return t}(t,c,e,n):0===u?c:function(e,t,n,r,a){var s,o,c=0;do{(s=i(o=t+(n-t)/2,r,a)-e)>0?n=o:t=o}while(Math.abs(s)>1e-7&&++c<10);return o}(t,a,a+.1,e,n)}}}(),y=(g={linear:function(){return function(e){return e}}},m={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),i=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){m[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(m).forEach((function(e){var t=m[e];g["easeIn"+e]=t,g["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},g["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},g["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),g);function w(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],i=y[n],r=d(e);switch(n){case"spring":return f(e,t);case"cubicBezier":return l(v,r);case"steps":return l(p,r);default:return l(i,r)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var s=e[a];t.call(i,s,a,e)&&r.push(s)}return r}function k(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?k(t):t)}),[])}function M(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function I(e,t){return e.some((function(e){return e===t}))}function T(e){var t={};for(var n in e)t[n]=e[n];return t}function S(e,t){var n=T(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function D(e,t){var n=T(e);for(var i in t)n[i]=h.und(e[i])?t[i]:e[i];return n}function L(e){return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,c=r[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=i=o;else{var l=o<.5?o*(1+s):o+s-o*s,h=2*o-l;t=u(h,l,a+1/3),n=u(h,l,a),i=u(h,l,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+c+")"}(e):void 0;var t,n}function P(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function q(e,t){return e.getAttribute(t)}function C(e,t,n){if(I([n,"deg","rad","turn"],P(t)))return t;var i=o.CSS[t+n];if(!h.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;a.removeChild(r);var c=s*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?C(e,r,n):r}}function R(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(q(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&I(s,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function O(e){if(h.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function j(e,t,n,i){var r=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),a=O(e).get(t)||r;return n&&(n.transforms.list.set(t,a),n.transforms.last=t),i?C(e,a,i):a}function W(e,t,n,i){switch(R(e,t)){case"transform":return j(e,t,i,n);case"css":return E(e,t,n);case"attribute":return q(e,t);default:return e[t]||0}}function B(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=P(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function H(e,t){if(h.col(e))return L(e);if(/\s/g.test(e))return e;var n=P(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=$(t,a)),t=a}return i}function Q(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*q(e,"r")}(e);case"rect":return function(e){return 2*q(e,"width")+2*q(e,"height")}(e);case"line":return function(e){return $({x:q(e,"x1"),y:q(e,"y1")},{x:q(e,"x2"),y:q(e,"y2")})}(e);case"polyline":return z(e);case"polygon":return function(e){var t=e.points;return z(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function N(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=q(i,"viewBox"),s=r.width,o=r.height,c=n.viewBox||(a?a.split(" "):[0,0,s,o]);return{el:i,viewBox:c,x:c[0]/1,y:c[1]/1,w:s,h:o,vW:c[2],vH:c[3]}}function U(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=N(e.el,e.svg),a=i(),s=i(-1),o=i(1),c=n?1:r.w/r.vW,u=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*c;case"y":return(a.y-r.y)*u;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function G(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=H(h.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:h.str(e)||t?i.split(n):[]}}function F(e){return x(e?k(h.arr(e)?e.map(M):M(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function V(e){var t=F(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:O(e)}}}))}function _(e,t){var n=T(t);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),h.arr(e)){var i=e.length;2===i&&!h.obj(e[0])?e={value:e}:h.fnc(t.duration)||(n.duration=t.duration/i)}var r=h.arr(e)?e:[e];return r.map((function(e,n){var i=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(i.delay)&&(i.delay=n?0:t.delay),h.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i})).map((function(e){return D(e,n)}))}function Z(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=D(function(e){for(var t=x(k(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var r=t[i];n[r]=e.map((function(e){var t={};for(var n in e)h.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)i(r);return n}(i),t)),t)h.key(r)&&n.push({name:r,tweens:_(t[r],e)});return n}function J(e,t){var n;return e.tweens.map((function(i){var r=function(e,t){var n={};for(var i in e){var r=A(e[i],t);h.arr(r)&&1===(r=r.map((function(e){return A(e,t)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),a=r.value,s=h.arr(a)?a[1]:a,o=P(s),c=W(t.target,e.name,o,t),u=n?n.to.original:c,l=h.arr(a)?a[0]:u,d=P(l)||P(c),f=o||d;return h.und(s)&&(s=u),r.from=G(l,f),r.to=G(B(s,l),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=w(r.easing,r.duration),r.isPath=h.pth(a),r.isPathTargetInsideSVG=r.isPath&&h.svg(t.target),r.isColor=h.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function X(e,t){V(e).forEach((function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=P(i),s=W(r,n,a,e),o=B(H(i,a||P(s)),s),c=R(r,n);Y[c](r,n,o,e.transforms,!0)}}))}function K(e,t){return x(k(e.map((function(e){return t.map((function(t){return function(e,t){var n=R(e.target,t.name);if(n){var i=J(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function ee(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,r}var te=0;var ne=[],ie=function(){var e;function t(n){for(var i=ne.length,r=0;r<i;){var a=ne[r];a.paused?(ne.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ae.suspendWhenDocumentHidden&&(re()?e=cancelAnimationFrame(e):(ne.forEach((function(e){return e._onDocumentVisibility()})),ie()))})),function(){e||re()&&ae.suspendWhenDocumentHidden||!(ne.length>0)||(e=requestAnimationFrame(t))}}();function re(){return!!document&&document.hidden}function ae(e){void 0===e&&(e={});var t,n=0,i=0,s=0,o=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var h=function(e){var t=S(r,e),n=S(a,e),i=Z(n,e),s=V(e.targets),o=K(s,i),c=ee(o,n),u=te;return te++,D(t,{id:u,children:[],animatables:s,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(h);function d(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function p(){n=0,i=f(h.currentTime)*(1/ae.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function m(e){for(var t=0,n=h.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,s=r.tweens,o=s.length-1,u=s[o];o&&(u=x(s,(function(t){return e<t.end}))[0]||u);for(var l=c(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,g=[],m=u.to.numbers.length,v=void 0,y=0;y<m;y++){var w=void 0,b=u.to.numbers[y],k=u.from.numbers[y]||0;w=u.isPath?U(u.value,d*b,u.isPathTargetInsideSVG):k+d*(b-k),p&&(u.isColor&&y>2||(w=Math.round(w*p)/p)),g.push(w)}var M=f.length;if(M){v=f[0];for(var I=0;I<M;I++){f[I];var T=f[I+1],S=g[I];isNaN(S)||(v+=T?S+T:S+" ")}}else v=g[0];Y[r.type](a.target,r.property,v,a.transforms),r.currentValue=v,t++}}function v(e){h[e]&&!h.passThrough&&h[e](h)}function y(e){var r=h.duration,a=h.delay,p=r-h.endDelay,y=f(e);h.progress=c(y/r*100,0,100),h.reversePlayback=y<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=o;n--;)g(e,t[n]);else for(var i=0;i<o;i++)g(e,t[i])}(y),!h.began&&h.currentTime>0&&(h.began=!0,v("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,v("loopBegin")),y<=a&&0!==h.currentTime&&m(0),(y>=p&&h.currentTime!==r||!r)&&m(r),y>a&&y<p?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,v("changeBegin")),v("change"),m(y)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,v("changeComplete")),h.currentTime=c(y,0,r),h.began&&v("update"),e>=r&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=s,v("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&d()):(h.paused=!0,h.completed||(h.completed=!0,v("loopComplete"),v("complete"),!h.passThrough&&"Promise"in window&&(u(),l(h)))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=o=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,m(h.reversed?h.duration:0)},h._onDocumentVisibility=p,h.set=function(e,t){return X(e,t),h},h.tick=function(e){s=e,n||(n=s),y((s+(i-n))*ae.speed)},h.seek=function(e){y(f(e))},h.pause=function(){h.paused=!0,p()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,ne.push(h),p(),ie())},h.reverse=function(){d(),h.completed=!h.reversed,p()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){oe(F(e),h)},h.reset(),h.autoplay&&h.play(),h}function se(e,t){for(var n=t.length;n--;)I(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,i=t.children;se(e,n);for(var r=i.length;r--;){var a=i[r],s=a.animations;se(e,s),s.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}ae.version="3.2.1",ae.speed=1,ae.suspendWhenDocumentHidden=!0,ae.running=ne,ae.remove=function(e){for(var t=F(e),n=ne.length;n--;){oe(t,ne[n])}},ae.get=W,ae.set=X,ae.convertPx=C,ae.path=function(e,t){var n=h.str(e)?b(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:N(n),totalLength:Q(n)*(i/100)}}},ae.setDashoffset=function(e){var t=Q(e);return e.setAttribute("stroke-dasharray",t),t},ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?w(t.easing):null,r=t.grid,a=t.axis,s=t.from||0,o="first"===s,c="center"===s,u="last"===s,l=h.arr(e),d=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=P(l?e[1]:e)||0,g=t.start||0+(l?d:0),m=[],v=0;return function(e,t,h){if(o&&(s=0),c&&(s=(h-1)/2),u&&(s=h-1),!m.length){for(var y=0;y<h;y++){if(r){var w=c?(r[0]-1)/2:s%r[0],b=c?(r[1]-1)/2:Math.floor(s/r[0]),x=w-y%r[0],k=b-Math.floor(y/r[0]),M=Math.sqrt(x*x+k*k);"x"===a&&(M=-x),"y"===a&&(M=-k),m.push(M)}else m.push(Math.abs(s-y));v=Math.max.apply(Math,m)}i&&(m=m.map((function(e){return i(e/v)*v}))),"reverse"===n&&(m=m.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return g+(l?(f-d)/v:d)*(Math.round(100*m[t])/100)+p}},ae.timeline=function(e){void 0===e&&(e={});var t=ae(e);return t.duration=0,t.add=function(n,i){var r=ne.indexOf(t),s=t.children;function o(e){e.passThrough=!0}r>-1&&ne.splice(r,1);for(var c=0;c<s.length;c++)o(s[c]);var u=D(n,S(a,e));u.targets=u.targets||e.targets;var l=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=h.und(i)?l:B(i,l),o(t),t.seek(u.timelineOffset);var d=ae(u);o(d),s.push(d);var f=ee(s,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ae.easing=w,ae.penner=y,ae.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ce=ae;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();const ue="debug"===decodeURIComponent(window.location.hash.substring(1));let le=firebase.database(),he=firebase.storage();const de=new i;de.domElement.style.position="fixed",de.domElement.style.top="auto",de.domElement.style.bottom="0",de.domElement.style.left="auto",de.domElement.style.right="0",ue||de.domElement.classList.add("is-hidden");let fe=0;let pe=0;let ge=0;window.addEventListener("load",e=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(e=>{e.onupdatefound=function(){e.update()}}).catch(e=>{console.error(e.code,e.message)}),navigator.serviceWorker.addEventListener("message",e=>{null!==navigator.serviceWorker.controller&&"command"in e.data&&"caches"===e.data.command&&navigator.serviceWorker.controller.postMessage({command:"clear",caches:e.data.caches})}));var t=Vue.createApp({data:()=>({isDebug:ue,isDarkMode:!1,isMuted:!0,isLoading:!1,isUpdating:!1,isLocating:!1,isRevealed:!1,isOverlayed:!1,isBlinded:!1,isPopup:!1,isExpanded:!1,isLearning:!1,isAnimating:!1,isHangingOn:!1,isSubmitting:!1,isDiscovering:!1,isStared:!1,isLocked:!1,canvasSize:{width:0,height:0,deviceWidth:0,deviceHeight:0,alternative:{width:0,height:0,deviceWidth:0,deviceHeight:0}},cachedImages:{},cachedSprites:[],alternativeCachedSprites:[],animationQueue:[],elapsed:0,map:null,layer:null,mode:null,queryQueue:[],queryCache:{},cachedTracks:{},cachedDocuments:[],documentQueue:[],sequenceQueue:[],progress:null,user:null,input:"",animatedInputLength:0,maxInputLength:100,inputHasError:!1,messages:[],maxMessages:10,word:null,recentWords:[],tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,stars:-1,animatedStars:0,steps:0,isStepping:!1,animatedSteps:0,screenshot:null,notifications:[],notificationHeight:0,animatedNotificationHeight:0,recentImages:[],backgroundImagesQueue:[],backgroundImages:[],preloadImages:[],isUploading:!1,animations:null,currentAnimations:[],blendShapeAnimations:[],insetTop:0,insetBottom:0,text:[],popupTextHeight:0,animatedPopupTextHeight:0,tickerWidth:0,animatedTickerWidth:0,leaderboard:[],leaderboardHeight:0,animatedLeaderboardHeight:0,message:null,states:{},character:null,alternative:null,wordDictionary:{},reverseWordDictionary:{},attributes:["名前","所属","時間","場所","する事","生き物","食べ物","飲み物","聞くもの","見るもの","読むもの","使う物","身につけるもの","乗り物","部位","病気"]}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};ce({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll("#app>.background>div");if(e.length>1){const t=e.length-1,n=15;let i=0,r=null;for(const a of e){const s=[];for(let t=0;t<e.length;t++)t===i?s.push({visibility:"visible"}):s.push({visibility:"hidden"});const o=a.animate(s,{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0});null===r?r=o.startTime:o.startTime=r,i++}}})},deep:!0},text:{handler:()=>{t.$nextTick(()=>{t.isPopup&&(t.popupTextHeight=t.$refs.popupText.getBoundingClientRect().height)})},deep:!0},popupTextHeight(e){const t={height:this.animatedPopupTextHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedPopupTextHeight=t.height}})},notifications:{handler:()=>{t.$nextTick(()=>{t.notificationHeight=t.$refs.notifications.getBoundingClientRect().height})},deep:!0},notificationHeight(e){const t={height:this.animatedNotificationHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedNotificationHeight=t.height}})},leaderboard:{handler:()=>{t.$nextTick(()=>{t.leaderboardHeight=t.$refs.leaderboard.getBoundingClientRect().height})},deep:!0},leaderboardHeight(e){const t={height:this.animatedLeaderboardHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedLeaderboardHeight=t.height}})},stars(e){const t={count:this.animatedStars};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},steps(e){const t={count:this.animatedSteps};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedSteps=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};ce({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{signIn:function(e){if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,idToken:t.idToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var t=e.credential;const n=Math.floor(new Date/1e3);for(const t of e.user.providerData){const i=t.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:i}).catch((function(e){console.error(e.code,e.message)})),le.ref("wonderland/users/"+e.user.uid).transaction((function(t){return t?(t.link="https://twitter.com/"+e.additionalUserInfo.username,t.timestamp=n):t={link:"https://twitter.com/"+e.additionalUserInfo.username,timestamp:n},t}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,secret:t.secret}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential"),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"caches"})}).catch(e=>{console.error(e.code,e.message)})},refresh:function(e){this.update(!0)},update:async function(e=!1){this.isLoading=!0;const t=this,n=this.map.getCenter(),i=await this.fetch(e,n.latitude,n.longitude);if(e&&Object.keys(this.cachedTracks).forEach((function(e){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e]})),null!==i){const e=Math.floor(new Date/1e3);let n=!1;for(const r in i)for(const a of i[r]){let i=null;for(const e in this.cachedTracks)if(a.id===this.cachedTracks[e].id){i=e;break}if(null===i){const i=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(a.location.latitude,a.location.longitude),{title:a.name,subTitle:this.formatTime(e-a.timestamp),icon:"/images/Marker-Star.svg"});this.setImage(i,a.user),this.cachedTracks[i.id]=a,this.cachedTracks[i.id].pushpin=i,this.cachedTracks[i.id].handlers=[Microsoft.Maps.Events.addHandler(i,"click",async e=>{t.mode=this.cachedTracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(i,"dblclick",e=>{window.location.hash=t.cachedTracks[e.target.id].id})],this.map.entities.push(i),n=!0}else if(a.timestamp>this.cachedTracks[i].timestamp){const t=this.cachedTracks[i].pushpin,r=this.cachedTracks[i].handlers;t.setLocation(new Microsoft.Maps.Location(a.location.latitude,a.location.longitude)),t.setOptions({title:a.name,subTitle:this.formatTime(e-a.timestamp)}),this.setImage(t,a.user),this.cachedTracks[i]=a,this.cachedTracks[i].pushpin=t,this.cachedTracks[i].handlers=r,n=!0}}const r=[];for(const e in i)for(const t of i[e])r.push(t.id);if(Object.keys(this.cachedTracks).forEach((function(e){if(!r.some(n=>n===t.cachedTracks[e].id)){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e],n=!0}})),n){const e=10;this.isUpdating=!0;const t=await new Promise(e=>{const t={},n=[];for(const e in i)for(const n of i[e])if(n.user.id in t)t[n.user.id].count++;else{const e=Object.assign({},n.user);e.count=1,t[n.user.id]=e}for(const e in t)n.push(t[e]);n.sort((e,t)=>t.count-e.count),e(n)});this.leaderboard.splice(0);for(const e of t)this.leaderboard.push(e);try{const t=await new Promise(t=>{const n=Math.pow(10,-6);let r=[],a=[],s={},o={},c=[],u=n;for(const e in i){let t=[],n=[];for(const r of i[e])t.push(r.name),n.includes(r.name)||(r.name in s?s[r.name]+=1:s[r.name]=1,n.push(r.name));r.push(t)}for(const e in s)s[e]=Math.log(r.length/(s[e]+n));for(const e of r){let t={};for(const n of e)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.length,n in o||(o[n]=0);a.push(t)}for(const e in o)for(const t of a)if(e in t){const n=t[e]*s[e];n>o[e]&&(o[e]=n)}for(const e in o)e.length>1&&"..."!=e&&c.push({term:e,value:o[e]});c.sort((e,t)=>t.value-e.value),c.length>e&&c.splice(e);for(const e of c)e.value>u&&(u=e.value);for(const e of c)e.value/=u;c.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),t([r,c])});this.cachedDocuments.splice(0),this.tags.splice(0);for(const e of t[0])this.cachedDocuments.push(e);for(let e=0;e<t[1].length;e++)this.tags.push({index:e,name:t[1][e].term,score:t[1][e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isUpdating=!1}}this.isLoading=!1},fetch:async function(e,t,n){const i=this,r=this.encodeGeohash(t,n,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]);let a=[r];const s=[],o={};let c=[],u=this.decodeGeohash(r);const l=Math.floor(new Date/1e3),h={};if(c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),r.length>2){const e=this.getNeighbors(r);for(const t in e)a.push(e[t]),u=this.decodeGeohash(e[t]),c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(c),this.queryQueue.push(r);for(const t of a){if(!e&&t in this.queryCache&&l-this.queryCache[t].timestamp<60){for(const e of this.queryCache[t].data)s.push(e),t in o?o[t].push(e):o[t]=[e];continue}const n=await le.ref("wonderland/tracks").orderByChild("key").limitToLast(50).startAt(t).endAt(t.padEnd(12,"z")+"").once("value");if(h[t]={timestamp:l,data:[]},n.exists()){const e=n.val();for(const n in e)e[n].id=n,s.push(e[n]),h[t].data.push(e[n]),t in o?o[t].push(e[n]):o[t]=[e[n]]}}if(this.queryQueue.shift(),this.queryQueue.length>0)return null;for(const e in h)this.queryCache[e]=h[e];Object.keys(this.queryCache).forEach((function(e){l-i.queryCache[e].timestamp>=60&&delete i.queryCache[e]}));const d=this.take(s.sort((e,t)=>t.timestamp-e.timestamp),100);return Object.keys(o).forEach((function(e){for(let t=o[e].length-1;t>0;t--)d.includes(o[e][t])||o[e].splice(t,1);0===o[e].length&&delete o[e]})),o},locate:async function(e){if(DeviceMotionEvent.requestPermission&&DeviceMotionEvent.requestPermission().then(e=>{"granted"===e&&window.addEventListener("devicemotion",e=>{if(e.preventDefault(),e.accelerationIncludingGravity){const t=e.accelerationIncludingGravity,n=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);self.isStepping?n<9.8&&(self.steps++,self.isStepping=!1):n>12&&(self.isStepping=!0)}})}),"permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});if("granted"==e.state||"prompt"==e.state){const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}}else{const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}},send:async function(e){if(this.isDebug)if(this.input.length>0){let e=[],t=[];for(const n of this.input.split(/\s/))this.backgroundImages.some(e=>e.id===n)?e.push(n):t.push(n);if(e.length>0&&t.length>0){for(const n of e)le.ref("wonderland/images/"+n).transaction((function(e){return e.tags=t,e}));this.isLearning=!1}else if(this.input.length<=this.maxInputLength){const e=this.map.getCenter();this.learn({name:this.input,location:{latitude:e.latitude,longitude:e.longitude}}),this.input="",this.isLearning=!1}}else for(const e of this.backgroundImages){this.input=e.id;break}else if(this.input.length>0&&this.input.length<=this.maxInputLength){const e=this.map.getCenter();this.learn({name:this.input,location:{latitude:e.latitude,longitude:e.longitude}}),this.input="",this.isLearning=!1}},setImage:async function(e,t,n=!1){if("image"in t){let n;try{n=await new Promise(async(e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=e=>{n(e)},t.image.startsWith("gs://")?i.src=await he.refFromURL(t.image).getDownloadURL():(i.crossOrigin="Anonymous",i.src=t.image)})}catch(t){return e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                            <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                                <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                    <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                                </g>\n                                <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                    <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                    <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                        <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                    </g>\n                                </g>\n                            </svg>'}),void console.error(t)}const i=document.createElement("canvas"),r=i.getContext("2d");i.width=n.width,i.height=n.height,r.drawImage(n,0,0,n.width,n.height);const a='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+i.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:a})}},change:function(e){this.input.length<=this.maxInputLength?this.inputHasError=!1:this.inputHasError=!0},upload:async function(e){function t(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}const n=this,i=he.ref(),r=[],a=[];for(const t of e.target.files)r.push(t);this.isUploading=!0;for(const e of r.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)){const s=i.child("images/"+t()).put(e);try{await new Promise((function(e,t){s.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes/r.length+a.length/r.length}),(function(e){t(e)}),(function(){e()}))}))}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}a.push(s.snapshot.ref.fullPath)}le.ref("wonderland/images").push({paths:a,timestamp:Math.floor(new Date/1e3)}),this.progress=null,this.isUploading=!1},learn:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=[],i=[];if("attributes"in e)for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i.push({name:t,value:!0}):i.push({name:t,value:!1}));else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).once("value");if(t.exists()){const e=t.val();for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i.push({name:t,value:!0}):i.push({name:t,value:!1}))}else for(const e of this.attributes)i.push({name:e,value:!1})}this.word={name:e.name,attributes:i},"location"in e&&(this.word.location=e.location),"user"in e&&(this.word.user=e.user);for(const i of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===i.type?n.push({type:i.type,speed:i.speed,duration:i.duration,text:t(i.text,e.name)}):n.push(i);n.length>0&&this.sequenceQueue.push(n)},check:function(e){for(const t of this.word.attributes)t===e.target.dataset.attribute&&(t.value=e.target.checked)},share:async function(e){const t=this,n="location"in e?e.location:this.map.getCenter(),i=this.encodeGeohash(n.latitude,n.longitude),r={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL},a=Math.floor(new Date/1e3);if(e.name in this.wordDictionary&&delete this.wordDictionary[e.name],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.name)&&delete this.reverseWordDictionary[t]}),this.isSubmitting=!0,this.user.providerData[0].providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID){const e=await le.ref(`wonderland/users/${this.user.uid}/link`).once("value");e.exists()&&(r.link=e.val())}le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).transaction((function(t){if(!t){t={attributes:{},timestamp:a};for(const n of e.attributes)n.value?t.attributes[n.name]=a:t.attributes[n.name]=0;return"user"in e&&(t.user={id:e.user.id,name:e.user.name,image:e.user.image}),t}{let n=!1;for(const i of e.attributes){if(!(i.name in t.attributes)){n=!0;break}if(t.attributes[i.name]>0){if(!i.value){n=!0;break}}else if(i.value){n=!0;break}}if(n){let n=!0;const i={attributes:{}};for(const r of e.attributes)r.value?(r.name in t.attributes&&t.attributes[r.name]>0?i.attributes[r.name]=t.attributes[r.name]:i.attributes[r.name]=a-1,n=!1):i.attributes[r.name]=0;return n?null:(i.timestamp=a,i)}}}),(async function(s,o,c){if(o)if(c.exists()){const s=c.val(),o=[];for(const e in s.attributes)"number"==typeof s.attributes[e]&&s.attributes[e]>0&&t.attributes.includes(e)&&o.push(s.attributes[e]);if(1===o.length&&o[0]===s.timestamp){function u(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const n of t.prepare(t.character.sequences.filter(e=>"Learned"===e.name)))"Message"===n.type&&t.notify({text:u(n.text,e.name),accent:t.character.accent,image:t.character.image});t.isStared=!0,window.setTimeout(()=>{t.isStared=!1},3e3),t.isMuted||t.$refs.twinkle.play()}"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(o){const c={};o?(o.key=`${i}${a}`,o.location={latitude:n.latitude,longitude:n.longitude},o.geohash=i,o.timestamp=a):o={key:`${i}${a}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:i,user:r,timestamp:a};for(const e in s.attributes)t.attributes.includes(e)&&(c[e]=s.attributes[e]);return o.attributes=c,o}),(function(e,n,i){n?i.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}else le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return e&&e>1?e-1:null})),le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(e){return null}),(function(e,n,i){n?i.exists()||t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1}));else s?(t.notify({text:s.message,accent:t.character.accent,image:t.character.image}),console.error(s),t.isSubmitting=!1):"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(t){if(t){t.key=`${i}${a}`,t.location={latitude:n.latitude,longitude:n.longitude},t.geohash=i,t.user=r,t.timestamp=a;for(const n of e.attributes)n.value?t.attributes[n.name]=a-1:t.attributes[n.name]=0}else{t={key:`${i}${a}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:i,attributes:{},user:r,timestamp:a};for(const n of e.attributes)n.value?t.attributes[n.name]=a:t.attributes[n.name]=0}return t}),(function(e,n,i){n?i.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}))},next:async function(e,t,n=50){let i;if(i=null===t?await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().limitToFirst(n+1).once("value"):await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().startAt(t).limitToFirst(n+1).once("value"),"words"in this.mode&&i.exists()){const e=i.val();null!==this.mode.words&&this.mode.words.length>0&&this.mode.indexes.push(this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes});this.mode.words.length===n+1?this.mode.next=this.mode.words.pop():this.mode.next=null}},previous:async function(e,t,n=50){let i=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().startAt(t).limitToFirst(n).once("value");if("words"in this.mode&&i.exists()){const e=i.val();null!==this.mode.words&&this.mode.words.length>0&&(this.mode.next=this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes})}},discover:async function(){const e=this,t=[],n={},i=[];for(const e of this.recentWords)this.user.uid!==e.user.id&&(t.push(e),n[e.name]=e);for(const e in this.cachedTracks)this.user.uid!==this.cachedTracks[e].user.id&&this.cachedTracks[e].name in n==!1&&t.push(this.cachedTracks[e]);this.isDiscovering=!0;for(const n of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(t))try{if(null!==await new Promise((t,i)=>{le.ref("wonderland/users/"+e.user.uid+"/dictionary/words/"+n.name).transaction((function(e){if(!e)return e}),(function(e,n,r){n?t(r):e?i(e):t(null)}))})){function r(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}this.isDiscovering=!1;for(const e of this.prepare(this.character.alternative.sequences.filter(e=>"Discover"===e.name),n.name,this.character.alternative.sequences))"Message"===e.type?i.push({type:e.type,speed:e.speed,duration:e.duration,character:this.character.alternative,text:r(e.text,n.name)}):(e.character=this.character.alternative,i.push(e));return i.length>0&&this.sequenceQueue.push(i),this.learn({name:n.name,attributes:n.attributes,location:n.location,user:n.user}),void this.map.setView({center:new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})}}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isDiscovering=!1;for(const e of this.prepare(this.character.alternative.sequences.filter(e=>"Discover"===e.name),"",this.character.alternative.sequences))"Message"===e.type?i.push({type:e.type,speed:e.speed,duration:e.duration,character:this.character.alternative,text:e.text}):(e.character=this.character.alternative,i.push(e));i.length>0&&this.sequenceQueue.push(i)},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},activate:async function(){if(fe=pe=0,this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();await this.talk(this.user.uid,e.filter(e=>e!==this.character.name))||this.talk(this.user.uid)}else this.talk(this.user.uid)},talk:async function(e,t=[]){let n=this.character.sequences.filter(e=>"Activate"===e.name),i=[];if(this.isLoading=!0,t.length>0){const r=Math.floor(new Date/1e3),a=3600,s=Object.assign({},this.states),o=new TinySegmenter,c=[],u=[];for(const n of t){if(n in this.wordDictionary==!1||r-this.wordDictionary[n].timestamp>=a){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+n).once("value");if(this.wordDictionary[n]={attributes:[],timestamp:r},t.exists()){const e=t.val();for(let t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[n].attributes.push(t)}}for(const e of this.wordDictionary[n].attributes)c.includes(e)||c.push(e)}for(const l of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(n)){const n=this.prepare([l]);let h=!1;for(const s of n){if("Message"==s.type)for(const l of Array.isArray(s.text)?s.text:o.segment(s.text)){if(Array.isArray(l)){for(const r of n)if("Message"==r.type){const n=await this.generate(e,r.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,i.push({type:r.type,speed:r.speed,duration:r.duration,text:e})}}else i.push(r);if(h)break;return i.length>0&&this.sequenceQueue.push(i),this.isLoading=!1,!0}if(l.length>1&&!u.includes(l)){if(l in this.wordDictionary==!1||r-this.wordDictionary[l].timestamp>=a){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+l).once("value");if(this.wordDictionary[l]={attributes:[],timestamp:r},t.exists()){const e=t.val();for(const t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[l].attributes.push(t)}}for(const r of this.wordDictionary[l].attributes)if(c.includes(r)){for(const r of n)if("Message"==r.type){const n=await this.generate(e,r.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,i.push({type:r.type,speed:r.speed,duration:r.duration,text:e})}}else i.push(r);if(h)break;return i.length>0&&this.sequenceQueue.push(i),this.isLoading=!1,!0}u.push(l)}}if(h){i.splice(0);break}}this.states=s}return this.isLoading=!1,!1}for(const t of this.prepare(n))if("Message"===t.type){const n=await this.generate(e,t.text);if(null===n)return this.isLoading=!1,!1;{let e,r;[e,r]=n,i.push({type:t.type,speed:t.speed,duration:t.duration,text:e})}}else i.push(t);return i.length>0?(this.sequenceQueue.push(i),this.isLoading=!1,!0):(this.isLoading=!1,!1)},generate:async function(e,t,n=[]){function i(e){let t=[],n=Number.MIN_VALUE,i=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);for(let t=0;t<e.length;t++)i+=Math.exp(e[t]-n);for(let r=0;r<e.length;r++)t.push(Math.exp(e[r]-n)/i);return t}const r=Math.floor(new Date/1e3);let a=new TinySegmenter,s=Array.isArray(t)?t:a.segment(t),o={},c=[],u=new RegExp("[.#$\\[\\]]"),l={},h="",d=0;const f=Math.pow(10,-6);let p=[{sequence:[],score:1}];for(const t of n){if(t in this.wordDictionary==!1||r-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:r},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const e of this.wordDictionary[t].attributes)e in o?o[e].push(t):o[e]=[t]}for(const t of s){if(!c.includes(t)){if(Array.isArray(t)){let n=[],a=[];for(const i of t)if(i in o){for(const e of o[i])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}else{if(i in this.reverseWordDictionary==!1||r-this.reverseWordDictionary[i].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+i).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[i]={words:[],timestamp:r},t.exists()){const e=t.val();for(const t in e)this.reverseWordDictionary[i].words.push(t)}}for(const e of this.reverseWordDictionary[i].words)if(s.includes(e)&&!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}if(n.length>0&&a.length>0){const e=i(a);let t=[];for(let i=0;i<p.length;i++)for(let r=0;r<e.length;r++){let a=[].concat(p[i].sequence);a.push({index:d,term:n[r]}),t.push({sequence:a,score:p[i].score*e[r]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}else if(!u.test(t)){let n=[],a=[];if(t in this.wordDictionary==!1||r-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:r},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const i of this.wordDictionary[t].attributes)if(i in o){for(const e of o[i])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}else{if(i in this.reverseWordDictionary==!1||r-this.reverseWordDictionary[i].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+i).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[i]={words:[],timestamp:r},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[i].words.push(t)}}for(const e of this.reverseWordDictionary[i].words)if(s.includes(e)&&!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}if(n.length>0&&a.length>0){const e=i(a);let t=[];for(let i=0;i<p.length;i++)for(let r=0;r<e.length;r++){let a=[].concat(p[i].sequence);a.push({index:d,term:n[r]}),t.push({sequence:a,score:p[i].score*e[r]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}c.push(t)}d++}const g=p[function(e){const t=Math.random();let n=0,i=0;for(let r of e){if(n<=t&&t<n+r)break;n+=r,i++}return i}(i(p.map(e=>e.score)))];for(let e=0;e<s.length;e++)if(s[e]in l)void 0===l[s[e]]?h+=s[e]:h+=l[s[e]];else{let t=!0;for(let n=0;n<g.sequence.length;n++)if(g.sequence[n].index==e){s[e]==g.sequence[n].term?l[s[e]]=void 0:(l[s[e]]=g.sequence[n].term,h+=g.sequence[n].term,t=!1);break}if(t){if(Array.isArray(s[e]))return null;h+=s[e]}}return[h,l]},notify:function(e,t=3e3){const n=this;e.id=window.setTimeout(e=>{for(let t=0;t<n.notifications.length;t++)if(n.notifications[t].id===e.id){n.notifications.splice(t,1);break}},t,e),this.notifications.unshift(e)},blinded:async function(){if(0==this.backgroundImagesQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.recentImages))this.backgroundImagesQueue.push(e)}const e=this.backgroundImagesQueue.shift();this.preloadImages.splice(0),this.backgroundImages.splice(0);for(const t of e.paths)try{this.preloadImages.push({id:e.id,url:await he.ref().child(t).getDownloadURL(),timestamp:e.timestamp})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}"tags"in e&&this.talk(this.user.uid,e.tags.filter(e=>e!==this.character.name))},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},scrollToTop(){this.$nextTick(()=>{window.scroll(0,0)})},scrollToEnd:function(){"number"==typeof this.scrollTimeoutID&&clearTimeout(this.scrollTimeoutID),this.scrollTimeoutID=setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),500)},formatDate:function(e){return moment.locale(window.navigator.language),moment(e).format("LT")},animationStart:function(e){this.isAnimating=!0},animationEnd:function(e){const t=this;this.$nextTick(()=>{t.notificationHeight=t.$refs.notifications.getBoundingClientRect().height,t.leaderboardHeight=t.$refs.leaderboard.getBoundingClientRect().height}),this.isPopup||(this.message=null),this.isAnimating=!1},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},arrange:function(e,t){let n=[],i=[];for(const r of e)i.length<t?i.push(r):(n.push(i),i=[r]);return n.push(i),n},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),i=Math.floor(t/3600),r=Math.floor(t/60);return n>0?n+"d":r>0?i>0?i+"h":r+"m":t%60+"s"},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},getDistance:function(e,t,n,i){var r=this.deg2rad(n-e),a=this.deg2rad(i-t),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const i=[16,8,4,2,1];var r=1,a=[],s=[],o=0,c=0;let u="";for(a[0]=-90,a[1]=90,s[0]=-180,s[1]=180;u.length<n;){if(r){const e=(s[0]+s[1])/2;t>e?(c|=i[o],s[0]=e):s[1]=e}else{const t=(a[0]+a[1])/2;e>t?(c|=i[o],a[0]=t):a[1]=t}r=!r,o<4?o++:(u+="0123456789bcdefghjkmnpqrstuvwxyz"[c],o=0,c=0)}return u},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,i=[],r=[];i[0]=-90,i[1]=90,r[0]=-180,r[1]=180;for(var a=0;a<e.length;a++)for(var s=e[a],o="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(s),c=0;c<5;c++){const e=t[c];n?(2,o&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2):(2,o&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2),n=!n}return i[2]=(i[0]+i[1])/2,r[2]=(r[0]+r[1])/2,{latitude:i[2],longitude:r[2],topleft:{latitude:i[0],longitude:r[0]},topright:{latitude:i[1],longitude:r[0]},bottomright:{latitude:i[1],longitude:r[1]},bottomleft:{latitude:i[0],longitude:r[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},i={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,i.bottom.odd=i.left.even,i.top.odd=i.right.even,i.left.odd=i.bottom.even,i.right.odd=i.top.even;var r=(e=e.toLowerCase()).charAt(e.length-1),a=e.length%2?"odd":"even",s=e.substring(0,e.length-1);return-1!=i[t][a].indexOf(r)&&(s=this.calculateAdjacent(s,t)),s+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][a].indexOf(r)]},prepare:function(e,t=null,n=null){function i(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let r=[],a=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n&&null!==n.state){new RegExp(n.state).test(e)&&r.push(n)}}if(0===r.length){for(const t of e)"state"in t!=!1&&null!==t.state||r.push(t);t=null}if(r.length>0){let e=[];for(const n of r[i(0,r.length)].sequence)null!==t&&(this.states[n.name]=t),e.push(n);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let r=[],a=[];for(const e of null===n?this.character.sequences:n){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let i=[];for(const r of n[n.length-1].sequence)if("Sequence"==r.type){if("sequence"in r){let t=!0;for(const n of e)if(n===r){t=!1;break}t&&i.push(r)}if(r===t)break}for(;i.length>0;)e.push(i.pop())}if("sequence"in t){let n=!0;for(const i of e)if(i===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)r.push(e.pop())}else r.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of r)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;a.push(e)}}else for(const e of r)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}a.push(e)}if(a.length>0){let t=0;for(const n of a[i(0,a.length)].sequence)e.splice(t,0,n),t++}}}else a.push(t)}}return a},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const i of e.sequence)if("Sequence"==i.type){let e=this.getSequenceStack(i,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n},animate:async function(e){if(requestAnimationFrame(this.animate),null!==this.character){const i=(e-this.elapsed)/1e3;if(this.elapsed=e,this.sequenceQueue.length>0)fe=0;else if(fe+=i,this.isLoading||(pe+=i),0==this.sequenceQueue.length)if(pe>=10){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();this.talk(this.user.uid,e.filter(e=>e!==this.character.name))}fe=pe=0}else fe>=5&&(this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Idle"===e.name))),fe=0);if(!this.isLocked&&this.sequenceQueue.length>0){const e=this.sequenceQueue[0];if(e.length>0)if("Animation"==e[0].type){if("frames"in e[0])for(const t of e[0].frames)if(Array.isArray(t))"character"in e[0]?this.animationQueue.push({character:e[0].character,images:t}):this.animationQueue.push({character:this.character,images:t});else if("object"==typeof t&&"iterations"in t)if("images"in t){const n="character"in e[0]?e[0].character:this.character;for(let e=0;e<t.iterations;e++)this.animationQueue.push({character:n,images:t.images})}else if("sprites"in t){const n="character"in e[0]?e[0].character:this.character;for(let e=0;e<t.iterations;e++)this.animationQueue.push({character:n,images:t.sprites})}e.shift()}else"Message"==e[0].type&&null===this.message&&0===this.animationQueue.length&&("character"in e[0]?this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},character:e[0].character,text:e[0].text}:this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},character:{name:this.character.name,accent:this.character.accent,image:this.character.image},text:e[0].text},e.shift());else if(null===this.message&&0===this.animationQueue.length){const e=this;return Object.keys(this.cachedImages).forEach((function(t){e.cachedSprites.some(e=>e.source===t)||delete e.cachedImages[t]})),this.sequenceQueue.shift(),void(this.alternative=null)}}if(null!==this.message){if(this.message.type.reverse)if(this.message.type.count>0){if(this.message.type.elapsed+=2*i,this.message.type.elapsed>=1/this.message.type.speed){if(this.message.type.count-1<this.message.text.length){let e=Math.floor(this.message.text.length/2);this.message.type.buffer.length<=e&&this.message.type.count>0&&(this.message.type.count-=1),this.message.type.buffer.length>0&&(this.message.type.buffer=this.message.type.buffer.substring(0,this.message.type.buffer.length-1))}this.message.type.elapsed=0}}else this.isPopup=!1;else if(this.message.type.buffer.length<this.message.text.length){if(this.message.type.elapsed>=0?this.message.type.elapsed+=i:this.isAnimating||(this.isPopup?this.message.type.elapsed=i:this.isPopup=!0),this.message.type.elapsed>=1/this.message.type.speed){let e=this.message.type.buffer.length,t=Math.floor(this.message.text.length/2),n=this.message.text.length;this.message.type.count>=t&&(this.message.type.buffer+=this.message.text.charAt(e)),this.message.type.count<n&&(this.message.type.count+=1),this.message.type.elapsed=0}}else this.message.time+=i,this.message.time>=this.message.duration&&(this.message.type.reverse=!0);if(this.message.text.length===this.message.type.buffer.length){const e=this.message.text.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else{let e=new Array,i="";for(let t=0;t<this.message.text.length;t++)-1==e.indexOf(this.message.text.charAt(t))&&"\n"!=this.message.text.charAt(t)&&null==this.message.text.charAt(t).match(/\s/)&&e.push(this.message.text.charAt(t));if(e.length>0)for(let r=0;r<this.message.type.count;r++)"\n"==this.message.text.charAt(r)?i+="\n":i+=e[(t=0,n=e.length,t=Math.ceil(t),n=Math.floor(n),~~(Math.floor(Math.random()*(n-t))+t))];if(i.length>this.message.type.buffer.length){const e=(this.message.type.buffer+i.substring(this.message.type.buffer.length,i.length)).split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else if(this.text.length!==this.message.type.buffer.length){const e=this.message.type.buffer.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}}}if(this.animationQueue.length>0){const e=this.animationQueue[0];if(!this.isLocked){const t=[];for(const e of this.animationQueue)t.push(e);this.isLocked=!0;for(const e of t)for(const t of e.images)if(t.source in this.cachedImages==!1)try{const e=await new Promise(async(e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=e=>{n(e)},i.crossOrigin="Anonymous",i.src=t.source});this.cachedImages[t.source]=e}catch(e){console.error(e)}if(this.isLocked=!1,e.character.name===this.character.name){this.cachedSprites.splice(0);for(const t of this.render(this.$refs.canvas.getContext("2d"),this.canvasWidth,this.canvasHeight,e.images))this.cachedSprites.push(t)}else{this.alternative=this.character.alternative,this.alternativeCachedSprites.splice(0);for(const t of this.render(this.$refs.alternative.getContext("2d"),this.alternativeCanvasWidth,this.alternativeCanvasHeight,e.images))this.alternativeCachedSprites.push(t)}this.animationQueue.shift()}}}var t,n},render:function(e,t,n,i){const r=[];e.clearRect(0,0,t,n);for(const t of i)t.source in this.cachedImages&&(e.globalAlpha="opacity"in t?t.opacity:1,e.drawImage(this.cachedImages[t.source],t.x*window.devicePixelRatio,t.y*window.devicePixelRatio,t.width*window.devicePixelRatio,t.height*window.devicePixelRatio)),r.push(t);return r}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height},mounted:async function(){function e(e,t){const n=Math.random();let i=0,r=0;for(let a of e){const e=t(a);if(i<=n&&n<i+e)break;i+=e,r++}return e[r]}const t=this,n=localStorage.getItem("bot"),i=localStorage.getItem("credential");let r=null;const a=[{path:"/assets/milch.json",probability:1}],s=[{path:"/assets/merku.json",probability:1}];if(n)try{const e=JSON.parse(n);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}if(i)try{r=JSON.parse(i)}catch(e){localStorage.removeItem("credential")}this.$refs.container.after(de.domElement),this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height,this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==t.user&&t.update()});try{this.progress=1;const t=await fetch(e(a,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!t.ok)throw new Error(t.statusText);{const n=await t.json(),i=this.prepare(n.sequences.filter(e=>"Start"===e.name),null,n.sequences),r=await fetch(e(s,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});let a;if(!r.ok)throw new Error(r.statusText);a=await r.json(),this.progress=null,this.canvasSize.width=n.width,this.canvasSize.height=n.height,this.canvasSize.deviceWidth=n.width*window.devicePixelRatio,this.canvasSize.deviceHeight=n.height*window.devicePixelRatio,this.canvasSize.alternative.width=a.width,this.canvasSize.alternative.height=a.height,this.canvasSize.alternative.deviceWidth=a.width*window.devicePixelRatio,this.canvasSize.alternative.deviceHeight=a.height*window.devicePixelRatio;for(const e of i)if("Animation"==e.type&&"frames"in e&&e.frames.length>0){let t=null;if(Array.isArray(e.frames[0])?t=e.frames[0]:"object"==typeof e.frames[0]&&"iterations"in e.frames[0]&&("images"in e.frames[0]&&e.frames[0].images.length>0?t=e.frames[0].images:"sprites"in e.frames[0]&&e.frames[0].sprites.length>0&&(t=e.frames[0].sprites)),null!==t){for(const e of t)if(e.source in this.cachedImages==!1)try{const t=await new Promise(async(t,n)=>{const i=new Image;i.onload=()=>{t(i)},i.onerror=e=>{n(e)},i.crossOrigin="Anonymous",i.src=e.source});this.cachedImages[e.source]=t}catch(e){console.error(e)}this.cachedSprites.splice(0);for(const e of this.render(this.$refs.canvas.getContext("2d"),this.canvasWidth,this.canvasHeight,t))this.cachedSprites.push(e)}break}this.character=n,this.character.alternative=a,this.sequenceQueue.push(i)}}catch(e){this.progress=null,this.notify({text:e.message}),console.error(e)}this.animate(),window.DeviceOrientationEvent&&(DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(e=>{"granted"===e&&window.addEventListener("devicemotion",e=>{if(e.preventDefault(),e.accelerationIncludingGravity){const n=e.accelerationIncludingGravity,i=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);t.isStepping?i<9.8&&(t.steps++,t.isStepping=!1):i>12&&(t.isStepping=!0)}})}):window.addEventListener("devicemotion",e=>{if(e.accelerationIncludingGravity){const n=e.accelerationIncludingGravity,i=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);t.isStepping?i<9.8&&(t.steps++,t.isStepping=!1):i>12&&(t.isStepping=!0)}})),null===r?(this.mode="sign-in",this.isRevealed=!0):r.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(r.idToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(r.accessToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(r.accessToken,r.secret)).catch(e=>{console.error(e.code,e.message)}):(this.mode="sign-in",this.isRevealed=!0),firebase.auth().onAuthStateChanged((function(e){e?(t.user=e,t.update(),le.ref("wonderland/users/"+e.uid+"/dictionary/count").on("value",e=>{const n=e.val();t.stars=null===n?0:n}),le.ref("wonderland/tracks").orderByChild("timestamp").limitToLast(10).on("value",e=>{if(e.exists()){const n=e.val(),i=[];let r=0;for(const e in n)n[e].id=e,i.push(n[e]);for(const e of i.sort((e,t)=>t.timestamp-e.timestamp)){let n=-1;for(let i=0;i<t.recentWords.length;i++)if(t.recentWords[i].name==e.name){n=i;break}n>=0&&t.recentWords.splice(n,1),t.recentWords.splice(r,0,e),r++}for(let e=t.recentWords.length-1;e>=r;e--)t.recentWords.splice(e,1)}})):null!==t.user&&(le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").off("value"),le.ref("wonderland/tracks").off("value"),t.user=null,t.stars=0)}))},unmounted:function(){"number"==typeof this.tickIntervalID&&clearInterval(this.tickIntervalID),null!==vrmModel&&(scene.remove(vrmModel.scene),vrmModel=null)}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height,t.insetBottom=t.$refs.blank.getBoundingClientRect().height,t.canvasSize.width=t.character.width,t.canvasSize.height=t.character.height,t.canvasSize.deviceWidth=t.character.width*window.devicePixelRatio,t.canvasSize.deviceHeight=t.character.height*window.devicePixelRatio,t.canvasSize.alternative.width=t.character.alternative.width,t.canvasSize.alternative.height=t.character.alternative.height,t.canvasSize.alternative.deviceWidth=t.character.alternative.width*window.devicePixelRatio,t.canvasSize.alternative.deviceHeight=t.character.alternative.height*window.devicePixelRatio,t.animationQueue.unshift({character:t.character,images:[].concat(t.cachedSprites)}),null!==t.alternative&&t.animationQueue.unshift({character:t.character.alternative,images:[].concat(t.alternativeCachedSprites)})}),window.addEventListener("click",e=>{}),window.addEventListener("dblclick",e=>{}),window.addEventListener("mousedown",e=>{}),window.addEventListener("mousemove",e=>{}),window.addEventListener("mouseup",e=>{}),window.addEventListener("touchstart",e=>{e.stopPropagation(),0==ge?(ge++,setTimeout(()=>{ge=0},500)):ge=0}),window.addEventListener("touchmove",e=>{e.stopPropagation()}),window.addEventListener("touchend",e=>{e.stopPropagation()}),window.addEventListener("touchcancel",e=>{e.stopPropagation()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmIiwiZSIsImEiLCJhcHBlbmRDaGlsZCIsImRvbSIsInUiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsIlBhbmVsIiwiaCIsInNlbGYiLCJtZW1vcnkiLCJSRVZJU0lPTiIsImFkZFBhbmVsIiwic2hvd1BhbmVsIiwiYmVnaW4iLCJlbmQiLCJ1cGRhdGUiLCJ1c2VkSlNIZWFwU2l6ZSIsImpzSGVhcFNpemVMaW1pdCIsInRoaXMiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJsb29wQmVnaW4iLCJjaGFuZ2VCZWdpbiIsImNoYW5nZSIsImNoYW5nZUNvbXBsZXRlIiwibG9vcENvbXBsZXRlIiwiY29tcGxldGUiLCJsb29wIiwiZGlyZWN0aW9uIiwiYXV0b3BsYXkiLCJ0aW1lbGluZU9mZnNldCIsImRlZmF1bHRUd2VlblNldHRpbmdzIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiZWFzaW5nIiwidmFsaWRUcmFuc2Zvcm1zIiwiY2FjaGUiLCJDU1MiLCJzcHJpbmdzIiwibWluTWF4IiwidmFsIiwic3RyaW5nQ29udGFpbnMiLCJzdHIiLCJ0ZXh0IiwiaW5kZXhPZiIsImFwcGx5QXJndW1lbnRzIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsImlzIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJzb2x2ZXIiLCJwcm9ncmVzcyIsImV4cCIsImNvcyIsInNpbiIsImNhY2hlZCIsImVsYXBzZWQiLCJyZXN0Iiwic3RlcHMiLCJjZWlsIiwiZWFzZXMiLCJmdW5jdGlvbkVhc2luZ3MiLCJiZXppZXIiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsIngiLCJnZXRURm9yWCIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJhYnMiLCJiaW5hcnlTdWJkaXZpZGUiLCJwZW5uZXIiLCJsaW5lYXIiLCJTaW5lIiwiUEkiLCJDaXJjIiwiQmFjayIsIkJvdW5jZSIsInBvdzIiLCJwb3ciLCJFbGFzdGljIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiYXNpbiIsImZvckVhY2giLCJrZXlzIiwiZWFzZUluIiwicGFyc2VFYXNpbmdzIiwiZWFzZSIsInNlbGVjdFN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWx0ZXJBcnJheSIsImNhbGxiYWNrIiwibGVuIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsInJlc3VsdCIsInB1c2giLCJmbGF0dGVuQXJyYXkiLCJyZWR1Y2UiLCJjb25jYXQiLCJ0b0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsInNsaWNlIiwiYXJyYXlDb250YWlucyIsInNvbWUiLCJjbG9uZU9iamVjdCIsImNsb25lIiwicmVwbGFjZU9iamVjdFByb3BzIiwibzEiLCJvMiIsIm1lcmdlT2JqZWN0cyIsImNvbG9yVG9SZ2IiLCJyZ2JWYWx1ZSIsImhleFZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwiaGV4VG9SZ2JhIiwiaHNsVmFsdWUiLCJodWUycmdiIiwiaHNsVG9SZ2JhIiwiZ2V0VW5pdCIsImdldEZ1bmN0aW9uVmFsdWUiLCJhbmltYXRhYmxlIiwidGFyZ2V0IiwiaWQiLCJ0b3RhbCIsImdldEF0dHJpYnV0ZSIsImVsIiwicHJvcCIsImNvbnZlcnRQeFRvVW5pdCIsInVuaXQiLCJ0ZW1wRWwiLCJ0YWdOYW1lIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiYm9keSIsInBvc2l0aW9uIiwiZmFjdG9yIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImNvbnZlcnRlZFVuaXQiLCJnZXRDU1NWYWx1ZSIsInVwcGVyY2FzZVByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldEFuaW1hdGlvblR5cGUiLCJnZXRFbGVtZW50VHJhbnNmb3JtcyIsInRyYW5zZm9ybSIsInJlZyIsInRyYW5zZm9ybXMiLCJNYXAiLCJzZXQiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInByb3BOYW1lIiwiZGVmYXVsdFZhbCIsImdldFRyYW5zZm9ybVVuaXQiLCJsaXN0IiwiZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSIsImdldFJlbGF0aXZlVmFsdWUiLCJ0byIsImZyb20iLCJvcGVyYXRvciIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwidmlld0JveCIsInZXIiwidkgiLCJnZXRQYXRoUHJvZ3Jlc3MiLCJwYXRoIiwiaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHIiwicG9pbnQiLCJvZmZzZXQiLCJnZXRQb2ludEF0TGVuZ3RoIiwicDAiLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImRlY29tcG9zZVZhbHVlIiwicmd4Iiwib3JpZ2luYWwiLCJudW1iZXJzIiwiTnVtYmVyIiwic3RyaW5ncyIsInBhcnNlVGFyZ2V0cyIsInRhcmdldHMiLCJpdGVtIiwicG9zIiwiZ2V0QW5pbWF0YWJsZXMiLCJwYXJzZWQiLCJub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyIsInR3ZWVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsInByb3BBcnJheSIsImdldFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwia2V5ZnJhbWVzIiwicHJvcGVydHlOYW1lcyIsIm5ld0tleSIsImZsYXR0ZW5LZXlmcmFtZXMiLCJ0d2VlbnMiLCJub3JtYWxpemVUd2VlbnMiLCJwcmV2aW91c1R3ZWVuIiwidHdlZW4iLCJub3JtYWxpemVUd2VlblZhbHVlcyIsInR3ZWVuVmFsdWUiLCJ0b1VuaXQiLCJvcmlnaW5hbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZyb21Vbml0Iiwic3RhcnQiLCJpc1BhdGgiLCJpc0NvbG9yIiwic2V0UHJvZ3Jlc3NWYWx1ZSIsImNzcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1hbnVhbCIsImxhc3QiLCJzZXRUYXJnZXRzVmFsdWUiLCJ2YWx1ZVVuaXQiLCJhbmltVHlwZSIsImdldEFuaW1hdGlvbnMiLCJhbmltYXRhYmxlcyIsImxhc3RUd2VlbiIsInR5cGUiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRJbnN0YW5jZVRpbWluZ3MiLCJhbmltYXRpb25zIiwiYW5pbUxlbmd0aCIsImdldFRsT2Zmc2V0IiwiYW5pbSIsInRpbWluZ3MiLCJpbnN0YW5jZUlEIiwiYWN0aXZlSW5zdGFuY2VzIiwiZW5naW5lIiwicmFmIiwic3RlcCIsImFjdGl2ZUluc3RhbmNlc0xlbmd0aCIsImFjdGl2ZUluc3RhbmNlIiwicGF1c2VkIiwic3BsaWNlIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVuZGVmaW5lZCIsImFuaW1lIiwic3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiIsImlzRG9jdW1lbnRIaWRkZW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImluc3RhbmNlIiwiX29uRG9jdW1lbnRWaXNpYmlsaXR5IiwiaGlkZGVuIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJjaGlsZHJlbkxlbmd0aCIsInJlc29sdmUiLCJtYWtlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJmaW5pc2hlZCIsImluc3RhbmNlU2V0dGluZ3MiLCJjcmVhdGVOZXdJbnN0YW5jZSIsInRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uIiwicmV2ZXJzZWQiLCJjaGlsZCIsImFkanVzdFRpbWUiLCJ0aW1lIiwicmVzZXRUaW1lIiwiY3VycmVudFRpbWUiLCJzcGVlZCIsInNlZWtDaGlsZCIsInNlZWsiLCJzZXRBbmltYXRpb25zUHJvZ3Jlc3MiLCJpbnNUaW1lIiwiYW5pbWF0aW9uc0xlbmd0aCIsInR3ZWVuTGVuZ3RoIiwiZWFzZWQiLCJpc05hTiIsInRvTnVtYmVyc0xlbmd0aCIsInRvTnVtYmVyIiwiZnJvbU51bWJlciIsInN0cmluZ3NMZW5ndGgiLCJuJDEiLCJjdXJyZW50VmFsdWUiLCJzZXRDYWxsYmFjayIsImNiIiwicGFzc1Rocm91Z2giLCJzZXRJbnN0YW5jZVByb2dyZXNzIiwiZW5naW5lVGltZSIsImluc0R1cmF0aW9uIiwiaW5zRGVsYXkiLCJpbnNFbmREZWxheSIsInJldmVyc2VQbGF5YmFjayIsImkkMSIsInN5bmNJbnN0YW5jZUNoaWxkcmVuIiwiYmVnYW4iLCJsb29wQmVnYW4iLCJjaGFuZ2VCZWdhbiIsImNoYW5nZUNvbXBsZXRlZCIsInJlbWFpbmluZyIsImNvbXBsZXRlZCIsInJlc2V0IiwicGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInJlc3RhcnQiLCJyZW1vdmUiLCJyZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlIiwicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zIiwidGFyZ2V0c0FycmF5IiwiY2hpbGRBbmltYXRpb25zIiwidmVyc2lvbiIsInJ1bm5pbmciLCJjb252ZXJ0UHgiLCJwZXJjZW50Iiwic2V0RGFzaG9mZnNldCIsInBhdGhMZW5ndGgiLCJzdGFnZ2VyIiwiZ3JpZCIsImF4aXMiLCJmcm9tSW5kZXgiLCJmcm9tRmlyc3QiLCJmcm9tQ2VudGVyIiwiZnJvbUxhc3QiLCJpc1JhbmdlIiwidmFsMSIsInZhbDIiLCJ2YWx1ZXMiLCJtYXhWYWx1ZSIsImluZGV4IiwiZnJvbVgiLCJmcm9tWSIsImZsb29yIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwidGltZWxpbmUiLCJ0bCIsImFkZCIsImluc3RhbmNlUGFyYW1zIiwidGxJbmRleCIsImlucyIsImluc1BhcmFtcyIsInRsRHVyYXRpb24iLCJyYW5kb20iLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhbmFseXRpY3MiLCJkZWJ1ZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImRhdGFiYXNlIiwic3RvcmFnZSIsInN0YXRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiY2xhc3NMaXN0IiwiaWRsZVRpbWUiLCJhY3RpdmF0ZVRpbWUiLCJ0YXBDb3VudCIsImV2ZW50IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIm9udXBkYXRlZm91bmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY29udHJvbGxlciIsImRhdGEiLCJjb21tYW5kIiwicG9zdE1lc3NhZ2UiLCJjYWNoZXMiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJpc0RlYnVnIiwiaXNEYXJrTW9kZSIsImlzTXV0ZWQiLCJpc0xvYWRpbmciLCJpc1VwZGF0aW5nIiwiaXNMb2NhdGluZyIsImlzUmV2ZWFsZWQiLCJpc092ZXJsYXllZCIsImlzQmxpbmRlZCIsImlzUG9wdXAiLCJpc0V4cGFuZGVkIiwiaXNMZWFybmluZyIsImlzQW5pbWF0aW5nIiwiaXNIYW5naW5nT24iLCJpc1N1Ym1pdHRpbmciLCJpc0Rpc2NvdmVyaW5nIiwiaXNTdGFyZWQiLCJpc0xvY2tlZCIsImNhbnZhc1NpemUiLCJkZXZpY2VXaWR0aCIsImRldmljZUhlaWdodCIsImFsdGVybmF0aXZlIiwiY2FjaGVkSW1hZ2VzIiwiY2FjaGVkU3ByaXRlcyIsImFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlcyIsImFuaW1hdGlvblF1ZXVlIiwibGF5ZXIiLCJxdWVyeVF1ZXVlIiwicXVlcnlDYWNoZSIsImNhY2hlZFRyYWNrcyIsImNhY2hlZERvY3VtZW50cyIsImRvY3VtZW50UXVldWUiLCJzZXF1ZW5jZVF1ZXVlIiwidXNlciIsImlucHV0IiwiYW5pbWF0ZWRJbnB1dExlbmd0aCIsIm1heElucHV0TGVuZ3RoIiwiaW5wdXRIYXNFcnJvciIsIm1lc3NhZ2VzIiwibWF4TWVzc2FnZXMiLCJ3b3JkIiwicmVjZW50V29yZHMiLCJ0YWdzIiwibWF4VGFncyIsInNjcm9sbFRpbWVvdXRJRCIsInRpY2tJbnRlcnZhbElEIiwic3RhcnMiLCJhbmltYXRlZFN0YXJzIiwiaXNTdGVwcGluZyIsImFuaW1hdGVkU3RlcHMiLCJzY3JlZW5zaG90Iiwibm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbkhlaWdodCIsImFuaW1hdGVkTm90aWZpY2F0aW9uSGVpZ2h0IiwicmVjZW50SW1hZ2VzIiwiYmFja2dyb3VuZEltYWdlc1F1ZXVlIiwiYmFja2dyb3VuZEltYWdlcyIsInByZWxvYWRJbWFnZXMiLCJpc1VwbG9hZGluZyIsImN1cnJlbnRBbmltYXRpb25zIiwiYmxlbmRTaGFwZUFuaW1hdGlvbnMiLCJpbnNldFRvcCIsImluc2V0Qm90dG9tIiwicG9wdXBUZXh0SGVpZ2h0IiwiYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQiLCJ0aWNrZXJXaWR0aCIsImFuaW1hdGVkVGlja2VyV2lkdGgiLCJsZWFkZXJib2FyZCIsImxlYWRlcmJvYXJkSGVpZ2h0IiwiYW5pbWF0ZWRMZWFkZXJib2FyZEhlaWdodCIsInN0YXRlcyIsImNoYXJhY3RlciIsIndvcmREaWN0aW9uYXJ5IiwicmV2ZXJzZVdvcmREaWN0aW9uYXJ5IiwiYXR0cmlidXRlcyIsIndhdGNoIiwibmV3VmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIm11dGUiLCJyZW1vdmVJdGVtIiwid29yZHMiLCJoYW5kbGVyIiwiJG5leHRUaWNrIiwiY2xpcCIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZGVlcCIsImVsZW1lbnRzIiwiZnJhbWVSYXRlIiwidmlzaWJpbGl0eSIsImFuaW1hdGlvbiIsImFuaW1hdGUiLCJmaWxsIiwiaXRlcmF0aW9ucyIsIiRyZWZzIiwicG9wdXBUZXh0IiwiY291bnQiLCJtZXRob2RzIiwic2lnbkluIiwiYXV0aCIsIkdvb2dsZUF1dGhQcm92aWRlciIsIlBST1ZJREVSX0lEIiwic2lnbkluV2l0aFBvcHVwIiwiY3JlZGVudGlhbCIsInByb3ZpZGVyRGF0YSIsImN1cnJlbnRVc2VyIiwidXBkYXRlUHJvZmlsZSIsImRpc3BsYXlOYW1lIiwicGhvdG9VUkwiLCJwcm92aWRlcklkIiwiYWNjZXNzVG9rZW4iLCJpZFRva2VuIiwiRmFjZWJvb2tBdXRoUHJvdmlkZXIiLCJwcm92aWRlciIsImFkZFNjb3BlIiwiVHdpdHRlckF1dGhQcm92aWRlciIsInRpbWVzdGFtcCIsInBob3RvVXJsIiwicmVmIiwidWlkIiwidHJhbnNhY3Rpb24iLCJjdXJyZW50IiwiYWRkaXRpb25hbFVzZXJJbmZvIiwidXNlcm5hbWUiLCJsaW5rIiwic2VjcmV0Iiwic2lnbk91dCIsInJlZnJlc2giLCJhc3luYyIsImlnbm9yZSIsImNlbnRlckxvY2F0aW9uIiwiZ2V0Q2VudGVyIiwidHJhY2tzIiwiZmV0Y2giLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImhhbmRsZXJJZCIsImhhbmRsZXJzIiwiTWljcm9zb2Z0IiwiTWFwcyIsIkV2ZW50cyIsInJlbW92ZUhhbmRsZXIiLCJlbnRpdGllcyIsInB1c2hwaW4iLCJpc1VwZGF0ZWQiLCJnZW9oYXNoIiwidHJhY2siLCJwdXNocGluSWQiLCJQdXNocGluIiwiTG9jYXRpb24iLCJ0aXRsZSIsInN1YlRpdGxlIiwiZm9ybWF0VGltZSIsImljb24iLCJzZXRJbWFnZSIsImFkZEhhbmRsZXIiLCJzZXRMb2NhdGlvbiIsInNldE9wdGlvbnMiLCJpZHMiLCJ0cmFja0RpY3Rpb25hcnkiLCJ0cmFja1JhbmtpbmciLCJhc3NpZ24iLCJzb3J0IiwicmVzdWx0cyIsImVwc2lsb24iLCJkb2N1bWVudHMiLCJ0ZXJtRnJlcXVlbmNpZXMiLCJpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kiLCJzY29yZURpY3Rpb25hcnkiLCJzY29yZXMiLCJtYXhTY29yZSIsInRva2VucyIsInRlcm1TZXQiLCJpbmNsdWRlcyIsImxvZyIsInRmIiwidG9rZW4iLCJ0ZXJtRnJlcXVlbmN5IiwidGZpZGYiLCJ0ZXJtIiwic2NvcmUiLCJub3RpZnkiLCJhY2NlbnQiLCJpbWFnZSIsImNlbnRlckdlb2hhc2giLCJlbmNvZGVHZW9oYXNoIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsImdldFpvb20iLCJnZW9oYXNoZXMiLCJ0ZW1wUmVjZW50IiwicHJpbWl0aXZlcyIsImRlY29kZUdlb2hhc2giLCJ0ZW1wQ2FjaGUiLCJQb2x5Z29uIiwidG9wbGVmdCIsInRvcHJpZ2h0IiwiYm90dG9tcmlnaHQiLCJib3R0b21sZWZ0IiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VUaGlja25lc3MiLCJuZWlnaGJvcnMiLCJnZXROZWlnaGJvcnMiLCJzZXRQcmltaXRpdmVzIiwic25hcHNob3QiLCJkYXRhYmFzZVJvb3QiLCJvcmRlckJ5Q2hpbGQiLCJsaW1pdFRvTGFzdCIsInN0YXJ0QXQiLCJlbmRBdCIsInBhZEVuZCIsIm9uY2UiLCJleGlzdHMiLCJkaWN0aW9uYXJ5Iiwic2hpZnQiLCJyZWNlbnQiLCJ0YWtlIiwibG9jYXRlIiwiRGV2aWNlTW90aW9uRXZlbnQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsInBlcm1pc3Npb25TdGF0ZSIsImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJhZyIsInoiLCJwZXJtaXNzaW9uU3RhdHVzIiwicGVybWlzc2lvbnMiLCJxdWVyeSIsInN0YXRlIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJzZXRWaWV3IiwiY2VudGVyIiwiY29vcmRzIiwiem9vbSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJtYXhpbXVtQWdlIiwic2VuZCIsImxlYXJuIiwic2VsZWN0ZWQiLCJyZWplY3QiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzdGFydHNXaXRoIiwic3JjIiwicmVmRnJvbVVSTCIsImdldERvd25sb2FkVVJMIiwiY3Jvc3NPcmlnaW4iLCJjdHgiLCJpbmxpbmVTdmciLCJ0b0RhdGFVUkwiLCJ1cGxvYWQiLCJnZW5lcmF0ZVV1aWQiLCJjaGFycyIsImpvaW4iLCJzdG9yYWdlUmVmIiwiZmlsZXMiLCJwYXRocyIsImZpbGUiLCJ1cGxvYWRUYXNrIiwicHV0Iiwib24iLCJieXRlc1RyYW5zZmVycmVkIiwidG90YWxCeXRlcyIsImZ1bGxQYXRoIiwiZm9ybWF0Iiwic2VxdWVuY2UiLCJwcmVwYXJlIiwic2VxdWVuY2VzIiwiZmlsdGVyIiwiY2hlY2siLCJkYXRhc2V0IiwiY2hlY2tlZCIsInNoYXJlIiwidXBkYXRlUmVxdWlyZWQiLCJkZWxldGVSZXF1aXJlZCIsImNvbW1pdHRlZCIsInRpbWVzdGFtcHMiLCJzZXRUaW1lb3V0IiwidHdpbmtsZSIsImRpZ2VzdE1lc3NhZ2UiLCJuZXh0IiwidXNlcklkIiwibGltaXQiLCJvcmRlckJ5S2V5IiwibGltaXRUb0ZpcnN0IiwiaW5kZXhlcyIsInBvcCIsInByZXZpb3VzIiwiZGlzY292ZXIiLCJ3b3JkU2V0IiwiYXJyYXkiLCJ0ZW1wIiwic2h1ZmZsZSIsIm1zZ1VpbnQ4IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJoYXNoQnVmZmVyIiwiY3J5cHRvIiwic3VidGxlIiwiZGlnZXN0IiwiVWludDhBcnJheSIsInBhZFN0YXJ0IiwiYWN0aXZhdGUiLCJ0YWxrIiwidGVtcFN0YXRlcyIsInNlZ21lbnRlciIsIlRpbnlTZWdtZW50ZXIiLCJ0b2tlblNldCIsInByZXBhcmVkU2VxdWVuY2UiLCJpc0Fib3J0ZWQiLCJzZWdtZW50IiwiZ2VuZXJhdGUiLCJoaW50cyIsInNvZnRtYXgiLCJNSU5fVkFMVUUiLCJzdW0iLCJoaW50RGljdGlvbmFyeSIsInJlZ2V4IiwiUmVnRXhwIiwiY2FjaERpY3Rpb25hcnkiLCJ0ZXJtcyIsImlzTmV3IiwidGFnIiwicHJvYmFiaWxpdGllcyIsImNhbmRpZGF0ZXMiLCJqIiwiY2FuZGlkYXRlIiwicHJvYmFiaWxpdHkiLCJjaG9pY2UiLCJ1bnNoaWZ0IiwiYmxpbmRlZCIsInVybCIsImxvYWQiLCJpc0NvbXBsZXRlZCIsImlzTG9hZGVkIiwic2Nyb2xsIiwic2Nyb2xsVG9FbmQiLCJjbGVhclRpbWVvdXQiLCJzY3JvbGxUbyIsInNjcm9sbEhlaWdodCIsImZvcm1hdERhdGUiLCJtb21lbnQiLCJsb2NhbGUiLCJsYW5ndWFnZSIsImFuaW1hdGlvblN0YXJ0IiwiYW5pbWF0aW9uRW5kIiwidGlja2VyVXBkYXRlZCIsImFycmFuZ2UiLCJjb2xsZWN0aW9uIiwicm93cyIsImNvbHVtbnMiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwibGF0MSIsImxvbjEiLCJsYXQyIiwibG9uMiIsImRMYXQiLCJkZWcycmFkIiwiZExvbiIsImRlZyIsInByZWNpc2lvbiIsIkJJVFMiLCJpc19ldmVuIiwibGF0IiwibG9uIiwiYml0IiwiY2giLCJtaWQiLCJjZCIsIm1hc2siLCJyaWdodEdlb2hhc2giLCJjYWxjdWxhdGVBZGphY2VudCIsImxlZnRHZW9oYXNoIiwic3JjSGFzaCIsImRpciIsIk5FSUdIQk9SUyIsImV2ZW4iLCJCT1JERVJTIiwib2RkIiwibGFzdENociIsImNoYXJBdCIsImJhc2UiLCJzZWxlY3RlZFNlcXVlbmNlcyIsIl9yYW5kb20iLCJjaG9vc2VkU2VxdWVuY2VzIiwiZmxhdHRlbmVkU2VxdWVuY2UiLCJ0ZW1wU3RhdGUiLCJxdWV1ZSIsInRyYWNlZFNlcXVlbmNlcyIsImNhbGxhYmxlU2VxdWVuY2VzIiwic2VxdWVuY2VTdGFjayIsImdldFNlcXVlbmNlU3RhY2siLCJzdGFjayIsInBvcHBlZFNlcXVlbmNlIiwidGVtcFN0YWNrIiwidGVtcFNlcXVlbmNlIiwic291cmNlU2VxdWVuY2UiLCJ0YXJnZXRTZXF1ZW5jZSIsImRlbHRhVGltZSIsImZyYW1lcyIsImltYWdlcyIsInNwcml0ZXMiLCJidWZmZXIiLCJzb3VyY2UiLCJjaGFyYWN0ZXJzIiwiY2hhckFycmF5IiwicmFuZG9tQnVmZmVyIiwic3ByaXRlIiwicmVuZGVyIiwiY2FudmFzIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJhbHRlcm5hdGl2ZUNhbnZhc1dpZHRoIiwiYWx0ZXJuYXRpdmVDYW52YXNIZWlnaHQiLCJjbGVhclJlY3QiLCJvcGFjaXR5IiwidXBkYXRlZCIsImluZGljYXRvciIsImJsYW5rIiwibW91bnRlZCIsImJvdFN0b3JhZ2VJdGVtIiwiY3JlZGVudGlhbFN0b3JhZ2VJdGVtIiwiYWx0ZXJuYXRpdmVzIiwiYm90IiwicGFyc2UiLCJjb250YWluZXIiLCJhZnRlciIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsImNhbnZhc0xpZ2h0IiwiZW5hYmxlSGlnaERwaSIsInNob3dMb2NhdGVNZUJ1dHRvbiIsInNob3dNYXBUeXBlU2VsZWN0b3IiLCJzaG93Wm9vbUJ1dHRvbnMiLCJzaG93U2NhbGViYXIiLCJzdXBwb3J0ZWRNYXBUeXBlcyIsImdyYXlzY2FsZSIsImNhbnZhc0RhcmsiLCJMYXllciIsInNldFZpc2libGUiLCJsYXllcnMiLCJpbnNlcnQiLCJyZXNwb25zZTEiLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwicmVzcG9uc2UyIiwiRGV2aWNlT3JpZW50YXRpb25FdmVudCIsInNpZ25JbldpdGhDcmVkZW50aWFsIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidGVtcFdvcmRzIiwicmVtb3ZlSW5kZXgiLCJvZmYiLCJ1bm1vdW50ZWQiLCJjbGVhckludGVydmFsIiwidnJtTW9kZWwiLCJzY2VuZSIsIm1vdW50Iiwic3RvcFByb3BhZ2F0aW9uIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FF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LGFBQ0p4QixFQUFJNEIsZUFBZXdVLFFBQVEsQ0FBRTFSLFVBQVcxRSxFQUFJMEUsVUFBVWxELFlBQWFxWixPQUFRLEdBQUcxdUIsT0FBTzZULEVBQUkyQiw4QkF5Q2pHdGYsT0FBT3pCLGlCQUFpQixRQUFTbWUsT0FFakMxYyxPQUFPekIsaUJBQWlCLFdBQVltZSxPQUlwQzFjLE9BQU96QixpQkFBaUIsWUFBYW1lLE9BMkJyQzFjLE9BQU96QixpQkFBaUIsWUFBYW1lLE9BR3JDMWMsT0FBT3pCLGlCQUFpQixVQUFXbWUsT0FPbkMxYyxPQUFPekIsaUJBQWlCLGFBQWNtZSxJQUNsQ0EsRUFBTTJmLGtCQUVVLEdBQVo1ZixJQUNBQSxLQUVBa1UsV0FBVyxLQUNQbFUsR0FBVyxHQUNaLE1BbURIQSxHQUFXLElBR25CemMsT0FBT3pCLGlCQUFpQixZQUFhbWUsSUFDakNBLEVBQU0yZixvQkFJVnI4QixPQUFPekIsaUJBQWlCLFdBQVltZSxJQUNoQ0EsRUFBTTJmLG9CQVFWcjhCLE9BQU96QixpQkFBaUIsY0FBZW1lLElBQ25DQSxFQUFNMmYsb0JBRVZyOEIsT0FBT3M4QixXQUFXLGdDQUFnQy85QixpQkFBaUIsU0FBVVosSUFDckVBLEVBQUU0K0IsUUFDRjVlLEVBQUlJLFlBQWEsRUFFakJKLEVBQUlJLFlBQWEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9qc1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvLyBzdGF0cy5qcyAtIGh0dHA6Ly9naXRodWIuY29tL21yZG9vYi9zdGF0cy5qc1xuKGZ1bmN0aW9uKGYsZSl7XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6Zi5TdGF0cz1lKCl9KSh0aGlzLGZ1bmN0aW9uKCl7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGEpe2MuYXBwZW5kQ2hpbGQoYS5kb20pO3JldHVybiBhfWZ1bmN0aW9uIHUoYSl7Zm9yKHZhciBkPTA7ZDxjLmNoaWxkcmVuLmxlbmd0aDtkKyspYy5jaGlsZHJlbltkXS5zdHlsZS5kaXNwbGF5PWQ9PT1hP1wiYmxvY2tcIjpcIm5vbmVcIjtsPWF9dmFyIGw9MCxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO2N1cnNvcjpwb2ludGVyO29wYWNpdHk6MC45O3otaW5kZXg6MTAwMDBcIjtjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtcbnUoKytsJWMuY2hpbGRyZW4ubGVuZ3RoKX0sITEpO3ZhciBrPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCksZz1rLGE9MCxyPWUobmV3IGYuUGFuZWwoXCJGUFNcIixcIiMwZmZcIixcIiMwMDJcIikpLGg9ZShuZXcgZi5QYW5lbChcIk1TXCIsXCIjMGYwXCIsXCIjMDIwXCIpKTtpZihzZWxmLnBlcmZvcm1hbmNlJiZzZWxmLnBlcmZvcm1hbmNlLm1lbW9yeSl2YXIgdD1lKG5ldyBmLlBhbmVsKFwiTUJcIixcIiNmMDhcIixcIiMyMDFcIikpO3UoMCk7cmV0dXJue1JFVklTSU9OOjE2LGRvbTpjLGFkZFBhbmVsOmUsc2hvd1BhbmVsOnUsYmVnaW46ZnVuY3Rpb24oKXtrPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCl9LGVuZDpmdW5jdGlvbigpe2ErKzt2YXIgYz0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpO2gudXBkYXRlKGMtaywyMDApO2lmKGM+ZysxRTMmJihyLnVwZGF0ZSgxRTMqYS8oYy1nKSwxMDApLGc9YyxhPTAsdCkpe3ZhciBkPXBlcmZvcm1hbmNlLm1lbW9yeTt0LnVwZGF0ZShkLnVzZWRKU0hlYXBTaXplL1xuMTA0ODU3NixkLmpzSGVhcFNpemVMaW1pdC8xMDQ4NTc2KX1yZXR1cm4gY30sdXBkYXRlOmZ1bmN0aW9uKCl7az10aGlzLmVuZCgpfSxkb21FbGVtZW50OmMsc2V0TW9kZTp1fX07Zi5QYW5lbD1mdW5jdGlvbihlLGYsbCl7dmFyIGM9SW5maW5pdHksaz0wLGc9TWF0aC5yb3VuZCxhPWcod2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLHI9ODAqYSxoPTQ4KmEsdD0zKmEsdj0yKmEsZD0zKmEsbT0xNSphLG49NzQqYSxwPTMwKmEscT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Eud2lkdGg9cjtxLmhlaWdodD1oO3Euc3R5bGUuY3NzVGV4dD1cIndpZHRoOjgwcHg7aGVpZ2h0OjQ4cHhcIjt2YXIgYj1xLmdldENvbnRleHQoXCIyZFwiKTtiLmZvbnQ9XCJib2xkIFwiKzkqYStcInB4IEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmXCI7Yi50ZXh0QmFzZWxpbmU9XCJ0b3BcIjtiLmZpbGxTdHlsZT1sO2IuZmlsbFJlY3QoMCwwLHIsaCk7Yi5maWxsU3R5bGU9ZjtiLmZpbGxUZXh0KGUsdCx2KTtcbmIuZmlsbFJlY3QoZCxtLG4scCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPS45O2IuZmlsbFJlY3QoZCxtLG4scCk7cmV0dXJue2RvbTpxLHVwZGF0ZTpmdW5jdGlvbihoLHcpe2M9TWF0aC5taW4oYyxoKTtrPU1hdGgubWF4KGssaCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPTE7Yi5maWxsUmVjdCgwLDAscixtKTtiLmZpbGxTdHlsZT1mO2IuZmlsbFRleHQoZyhoKStcIiBcIitlK1wiIChcIitnKGMpK1wiLVwiK2coaykrXCIpXCIsdCx2KTtiLmRyYXdJbWFnZShxLGQrYSxtLG4tYSxwLGQsbSxuLWEscCk7Yi5maWxsUmVjdChkK24tYSxtLGEscCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPS45O2IuZmlsbFJlY3QoZCtuLWEsbSxhLGcoKDEtaC93KSpwKSl9fX07cmV0dXJuIGZ9KTtcbiIsIi8qXG4gKiBhbmltZS5qcyB2My4yLjFcbiAqIChjKSAyMDIwIEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuLy8gRGVmYXVsdHNcblxudmFyIGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzID0ge1xuICB1cGRhdGU6IG51bGwsXG4gIGJlZ2luOiBudWxsLFxuICBsb29wQmVnaW46IG51bGwsXG4gIGNoYW5nZUJlZ2luOiBudWxsLFxuICBjaGFuZ2U6IG51bGwsXG4gIGNoYW5nZUNvbXBsZXRlOiBudWxsLFxuICBsb29wQ29tcGxldGU6IG51bGwsXG4gIGNvbXBsZXRlOiBudWxsLFxuICBsb29wOiAxLFxuICBkaXJlY3Rpb246ICdub3JtYWwnLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgdGltZWxpbmVPZmZzZXQ6IDBcbn07XG5cbnZhciBkZWZhdWx0VHdlZW5TZXR0aW5ncyA9IHtcbiAgZHVyYXRpb246IDEwMDAsXG4gIGRlbGF5OiAwLFxuICBlbmREZWxheTogMCxcbiAgZWFzaW5nOiAnZWFzZU91dEVsYXN0aWMoMSwgLjUpJyxcbiAgcm91bmQ6IDBcbn07XG5cbnZhciB2YWxpZFRyYW5zZm9ybXMgPSBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICd0cmFuc2xhdGVaJywgJ3JvdGF0ZScsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncm90YXRlWicsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NjYWxlWicsICdza2V3JywgJ3NrZXdYJywgJ3NrZXdZJywgJ3BlcnNwZWN0aXZlJywgJ21hdHJpeCcsICdtYXRyaXgzZCddO1xuXG4vLyBDYWNoaW5nXG5cbnZhciBjYWNoZSA9IHtcbiAgQ1NTOiB7fSxcbiAgc3ByaW5nczoge31cbn07XG5cbi8vIFV0aWxzXG5cbmZ1bmN0aW9uIG1pbk1heCh2YWwsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWwsIG1pbiksIG1heCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ0NvbnRhaW5zKHN0ciwgdGV4dCkge1xuICByZXR1cm4gc3RyLmluZGV4T2YodGV4dCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gYXBwbHlBcmd1bWVudHMoZnVuYywgYXJncykge1xuICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbn1cblxudmFyIGlzID0ge1xuICBhcnI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGEpOyB9LFxuICBvYmo6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBzdHJpbmdDb250YWlucyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSksICdPYmplY3QnKTsgfSxcbiAgcHRoOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMub2JqKGEpICYmIGEuaGFzT3duUHJvcGVydHkoJ3RvdGFsTGVuZ3RoJyk7IH0sXG4gIHN2ZzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50OyB9LFxuICBpbnA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudDsgfSxcbiAgZG9tOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ub2RlVHlwZSB8fCBpcy5zdmcoYSk7IH0sXG4gIHN0cjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnc3RyaW5nJzsgfSxcbiAgZm5jOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7IH0sXG4gIHVuZDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAndW5kZWZpbmVkJzsgfSxcbiAgbmlsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMudW5kKGEpIHx8IGEgPT09IG51bGw7IH0sXG4gIGhleDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaS50ZXN0KGEpOyB9LFxuICByZ2I6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXnJnYi8udGVzdChhKTsgfSxcbiAgaHNsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15oc2wvLnRlc3QoYSk7IH0sXG4gIGNvbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIChpcy5oZXgoYSkgfHwgaXMucmdiKGEpIHx8IGlzLmhzbChhKSk7IH0sXG4gIGtleTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiAhZGVmYXVsdFR3ZWVuU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgYSAhPT0gJ3RhcmdldHMnICYmIGEgIT09ICdrZXlmcmFtZXMnOyB9LFxufTtcblxuLy8gRWFzaW5nc1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKSB7XG4gIHZhciBtYXRjaCA9IC9cXCgoW14pXSspXFwpLy5leGVjKHN0cmluZyk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwYXJzZUZsb2F0KHApOyB9KSA6IFtdO1xufVxuXG4vLyBTcHJpbmcgc29sdmVyIGluc3BpcmVkIGJ5IFdlYmtpdCBDb3B5cmlnaHQgwqkgMjAxNiBBcHBsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIGh0dHBzOi8vd2Via2l0Lm9yZy9kZW1vcy9zcHJpbmcvc3ByaW5nLmpzXG5cbmZ1bmN0aW9uIHNwcmluZyhzdHJpbmcsIGR1cmF0aW9uKSB7XG5cbiAgdmFyIHBhcmFtcyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpO1xuICB2YXIgbWFzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzBdKSA/IDEgOiBwYXJhbXNbMF0sIC4xLCAxMDApO1xuICB2YXIgc3RpZmZuZXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMV0pID8gMTAwIDogcGFyYW1zWzFdLCAuMSwgMTAwKTtcbiAgdmFyIGRhbXBpbmcgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1syXSkgPyAxMCA6IHBhcmFtc1syXSwgLjEsIDEwMCk7XG4gIHZhciB2ZWxvY2l0eSA9ICBtaW5NYXgoaXMudW5kKHBhcmFtc1szXSkgPyAwIDogcGFyYW1zWzNdLCAuMSwgMTAwKTtcbiAgdmFyIHcwID0gTWF0aC5zcXJ0KHN0aWZmbmVzcyAvIG1hc3MpO1xuICB2YXIgemV0YSA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gIHZhciB3ZCA9IHpldGEgPCAxID8gdzAgKiBNYXRoLnNxcnQoMSAtIHpldGEgKiB6ZXRhKSA6IDA7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSB6ZXRhIDwgMSA/ICh6ZXRhICogdzAgKyAtdmVsb2NpdHkpIC8gd2QgOiAtdmVsb2NpdHkgKyB3MDtcblxuICBmdW5jdGlvbiBzb2x2ZXIodCkge1xuICAgIHZhciBwcm9ncmVzcyA9IGR1cmF0aW9uID8gKGR1cmF0aW9uICogdCkgLyAxMDAwIDogdDtcbiAgICBpZiAoemV0YSA8IDEpIHtcbiAgICAgIHByb2dyZXNzID0gTWF0aC5leHAoLXByb2dyZXNzICogemV0YSAqIHcwKSAqIChhICogTWF0aC5jb3Mod2QgKiBwcm9ncmVzcykgKyBiICogTWF0aC5zaW4od2QgKiBwcm9ncmVzcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcyA9IChhICsgYiAqIHByb2dyZXNzKSAqIE1hdGguZXhwKC1wcm9ncmVzcyAqIHcwKTtcbiAgICB9XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgeyByZXR1cm4gdDsgfVxuICAgIHJldHVybiAxIC0gcHJvZ3Jlc3M7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICB2YXIgY2FjaGVkID0gY2FjaGUuc3ByaW5nc1tzdHJpbmddO1xuICAgIGlmIChjYWNoZWQpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICAgIHZhciBmcmFtZSA9IDEvNjtcbiAgICB2YXIgZWxhcHNlZCA9IDA7XG4gICAgdmFyIHJlc3QgPSAwO1xuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIGVsYXBzZWQgKz0gZnJhbWU7XG4gICAgICBpZiAoc29sdmVyKGVsYXBzZWQpID09PSAxKSB7XG4gICAgICAgIHJlc3QrKztcbiAgICAgICAgaWYgKHJlc3QgPj0gMTYpIHsgYnJlYWs7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3QgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZHVyYXRpb24gPSBlbGFwc2VkICogZnJhbWUgKiAxMDAwO1xuICAgIGNhY2hlLnNwcmluZ3Nbc3RyaW5nXSA9IGR1cmF0aW9uO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiBkdXJhdGlvbiA/IHNvbHZlciA6IGdldER1cmF0aW9uO1xuXG59XG5cbi8vIEJhc2ljIHN0ZXBzIGVhc2luZyBpbXBsZW1lbnRhdGlvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9DU1MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cblxuZnVuY3Rpb24gc3RlcHMoc3RlcHMpIHtcbiAgaWYgKCBzdGVwcyA9PT0gdm9pZCAwICkgc3RlcHMgPSAxMDtcblxuICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGguY2VpbCgobWluTWF4KHQsIDAuMDAwMDAxLCAxKSkgKiBzdGVwcykgKiAoMSAvIHN0ZXBzKTsgfTtcbn1cblxuLy8gQmV6aWVyRWFzaW5nIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZ1xuXG52YXIgYmV6aWVyID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIga1NwbGluZVRhYmxlU2l6ZSA9IDExO1xuICB2YXIga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuXG4gIGZ1bmN0aW9uIEEoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEIoYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIGFBMiAtIDYuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEMoYUExKSAgICAgIHsgcmV0dXJuIDMuMCAqIGFBMSB9XG5cbiAgZnVuY3Rpb24gY2FsY0JlemllcihhVCwgYUExLCBhQTIpIHsgcmV0dXJuICgoQShhQTEsIGFBMikgKiBhVCArIEIoYUExLCBhQTIpKSAqIGFUICsgQyhhQTEpKSAqIGFUIH1cbiAgZnVuY3Rpb24gZ2V0U2xvcGUoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBBKGFBMSwgYUEyKSAqIGFUICogYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpIH1cblxuICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQiwgbVgxLCBtWDIpIHtcbiAgICB2YXIgY3VycmVudFgsIGN1cnJlbnRULCBpID0gMDtcbiAgICBkbyB7XG4gICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkgeyBhQiA9IGN1cnJlbnRUOyB9IGVsc2UgeyBhQSA9IGN1cnJlbnRUOyB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gMC4wMDAwMDAxICYmICsraSA8IDEwKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG4gIH1cblxuICBmdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgYUd1ZXNzVCwgbVgxLCBtWDIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkgeyByZXR1cm4gYUd1ZXNzVDsgfVxuICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9XG5cbiAgZnVuY3Rpb24gYmV6aWVyKG1YMSwgbVkxLCBtWDIsIG1ZMikge1xuXG4gICAgaWYgKCEoMCA8PSBtWDEgJiYgbVgxIDw9IDEgJiYgMCA8PSBtWDIgJiYgbVgyIDw9IDEpKSB7IHJldHVybjsgfVxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuXG4gICAgaWYgKG1YMSAhPT0gbVkxIHx8IG1YMiAhPT0gbVkyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtTcGxpbmVUYWJsZVNpemU7ICsraSkge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xuXG4gICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDA7XG4gICAgICB2YXIgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgICB2YXIgbGFzdFNhbXBsZSA9IGtTcGxpbmVUYWJsZVNpemUgLSAxO1xuXG4gICAgICBmb3IgKDsgY3VycmVudFNhbXBsZSAhPT0gbGFzdFNhbXBsZSAmJiBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0gPD0gYVg7ICsrY3VycmVudFNhbXBsZSkge1xuICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIH1cblxuICAgICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICB2YXIgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICB2YXIgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB2YXIgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG5cbiAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gMC4wMDEpIHtcbiAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiaW5hcnlTdWJkaXZpZGUoYVgsIGludGVydmFsU3RhcnQsIGludGVydmFsU3RhcnQgKyBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSB7IHJldHVybiB4OyB9XG4gICAgICBpZiAoeCA9PT0gMCB8fCB4ID09PSAxKSB7IHJldHVybiB4OyB9XG4gICAgICByZXR1cm4gY2FsY0JlemllcihnZXRURm9yWCh4KSwgbVkxLCBtWTIpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIGJlemllcjtcblxufSkoKTtcblxudmFyIHBlbm5lciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgLy8gQmFzZWQgb24galF1ZXJ5IFVJJ3MgaW1wbGVtZW5hdGlvbiBvZiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxuICB2YXIgZWFzZXMgPSB7IGxpbmVhcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07IH0gfTtcblxuICB2YXIgZnVuY3Rpb25FYXNpbmdzID0ge1xuICAgIFNpbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5jb3ModCAqIE1hdGguUEkgLyAyKTsgfTsgfSxcbiAgICBDaXJjOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpOyB9OyB9LFxuICAgIEJhY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ICogdCAqICgzICogdCAtIDIpOyB9OyB9LFxuICAgIEJvdW5jZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHZhciBwb3cyLCBiID0gNDtcbiAgICAgIHdoaWxlICh0IDwgKCggcG93MiA9IE1hdGgucG93KDIsIC0tYikpIC0gMSkgLyAxMSkge31cbiAgICAgIHJldHVybiAxIC8gTWF0aC5wb3coNCwgMyAtIGIpIC0gNy41NjI1ICogTWF0aC5wb3coKCBwb3cyICogMyAtIDIgKSAvIDIyIC0gdCwgMilcbiAgICB9OyB9LFxuICAgIEVsYXN0aWM6IGZ1bmN0aW9uIChhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICAgICAgaWYgKCBhbXBsaXR1ZGUgPT09IHZvaWQgMCApIGFtcGxpdHVkZSA9IDE7XG4gICAgICBpZiAoIHBlcmlvZCA9PT0gdm9pZCAwICkgcGVyaW9kID0gLjU7XG5cbiAgICAgIHZhciBhID0gbWluTWF4KGFtcGxpdHVkZSwgMSwgMTApO1xuICAgICAgdmFyIHAgPSBtaW5NYXgocGVyaW9kLCAuMSwgMik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09PSAwIHx8IHQgPT09IDEpID8gdCA6IFxuICAgICAgICAgIC1hICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSAqIE1hdGguc2luKCgoKHQgLSAxKSAtIChwIC8gKE1hdGguUEkgKiAyKSAqIE1hdGguYXNpbigxIC8gYSkpKSAqIChNYXRoLlBJICogMikpIC8gcCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBiYXNlRWFzaW5ncyA9IFsnUXVhZCcsICdDdWJpYycsICdRdWFydCcsICdRdWludCcsICdFeHBvJ107XG5cbiAgYmFzZUVhc2luZ3MuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaSkge1xuICAgIGZ1bmN0aW9uRWFzaW5nc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLnBvdyh0LCBpICsgMik7IH07IH07XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKGZ1bmN0aW9uRWFzaW5ncykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBlYXNlSW4gPSBmdW5jdGlvbkVhc2luZ3NbbmFtZV07XG4gICAgZWFzZXNbJ2Vhc2VJbicgKyBuYW1lXSA9IGVhc2VJbjtcbiAgICBlYXNlc1snZWFzZU91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIGVhc2VJbihhLCBiKSgxIC0gdCk7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VJbk91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/IGVhc2VJbihhLCBiKSh0ICogMikgLyAyIDogXG4gICAgICAxIC0gZWFzZUluKGEsIGIpKHQgKiAtMiArIDIpIC8gMjsgfTsgfTtcbiAgICBlYXNlc1snZWFzZU91dEluJyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gKDEgLSBlYXNlSW4oYSwgYikoMSAtIHQgKiAyKSkgLyAyIDogXG4gICAgICAoZWFzZUluKGEsIGIpKHQgKiAyIC0gMSkgKyAxKSAvIDI7IH07IH07XG4gIH0pO1xuXG4gIHJldHVybiBlYXNlcztcblxufSkoKTtcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdzKGVhc2luZywgZHVyYXRpb24pIHtcbiAgaWYgKGlzLmZuYyhlYXNpbmcpKSB7IHJldHVybiBlYXNpbmc7IH1cbiAgdmFyIG5hbWUgPSBlYXNpbmcuc3BsaXQoJygnKVswXTtcbiAgdmFyIGVhc2UgPSBwZW5uZXJbbmFtZV07XG4gIHZhciBhcmdzID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKGVhc2luZyk7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ3NwcmluZycgOiByZXR1cm4gc3ByaW5nKGVhc2luZywgZHVyYXRpb24pO1xuICAgIGNhc2UgJ2N1YmljQmV6aWVyJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhiZXppZXIsIGFyZ3MpO1xuICAgIGNhc2UgJ3N0ZXBzJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhzdGVwcywgYXJncyk7XG4gICAgZGVmYXVsdCA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhlYXNlLCBhcmdzKTtcbiAgfVxufVxuXG4vLyBTdHJpbmdzXG5cbmZ1bmN0aW9uIHNlbGVjdFN0cmluZyhzdHIpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHN0cik7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLy8gQXJyYXlzXG5cbmZ1bmN0aW9uIGZpbHRlckFycmF5KGFyciwgY2FsbGJhY2spIHtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIpIHtcbiAgICAgIHZhciB2YWwgPSBhcnJbaV07XG4gICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWwsIGksIGFycikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KGFycikge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoaXMuYXJyKGIpID8gZmxhdHRlbkFycmF5KGIpIDogYik7IH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShvKSB7XG4gIGlmIChpcy5hcnIobykpIHsgcmV0dXJuIG87IH1cbiAgaWYgKGlzLnN0cihvKSkgeyBvID0gc2VsZWN0U3RyaW5nKG8pIHx8IG87IH1cbiAgaWYgKG8gaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBvIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHsgcmV0dXJuIFtdLnNsaWNlLmNhbGwobyk7IH1cbiAgcmV0dXJuIFtvXTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWlucyhhcnIsIHZhbCkge1xuICByZXR1cm4gYXJyLnNvbWUoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgPT09IHZhbDsgfSk7XG59XG5cbi8vIE9iamVjdHNcblxuZnVuY3Rpb24gY2xvbmVPYmplY3Qobykge1xuICB2YXIgY2xvbmUgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBvKSB7IGNsb25lW3BdID0gb1twXTsgfVxuICByZXR1cm4gY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VPYmplY3RQcm9wcyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzEpIHsgb1twXSA9IG8yLmhhc093blByb3BlcnR5KHApID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMikgeyBvW3BdID0gaXMudW5kKG8xW3BdKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbi8vIENvbG9yc1xuXG5mdW5jdGlvbiByZ2JUb1JnYmEocmdiVmFsdWUpIHtcbiAgdmFyIHJnYiA9IC9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhyZ2JWYWx1ZSk7XG4gIHJldHVybiByZ2IgPyAoXCJyZ2JhKFwiICsgKHJnYlsxXSkgKyBcIiwxKVwiKSA6IHJnYlZhbHVlO1xufVxuXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4VmFsdWUpIHtcbiAgdmFyIHJneCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7XG4gIHZhciBoZXggPSBoZXhWYWx1ZS5yZXBsYWNlKHJneCwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHsgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjsgfSApO1xuICB2YXIgcmdiID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIHZhciByID0gcGFyc2VJbnQocmdiWzFdLCAxNik7XG4gIHZhciBnID0gcGFyc2VJbnQocmdiWzJdLCAxNik7XG4gIHZhciBiID0gcGFyc2VJbnQocmdiWzNdLCAxNik7XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLDEpXCIpO1xufVxuXG5mdW5jdGlvbiBoc2xUb1JnYmEoaHNsVmFsdWUpIHtcbiAgdmFyIGhzbCA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGhzbFZhbHVlKSB8fCAvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhoc2xWYWx1ZSk7XG4gIHZhciBoID0gcGFyc2VJbnQoaHNsWzFdLCAxMCkgLyAzNjA7XG4gIHZhciBzID0gcGFyc2VJbnQoaHNsWzJdLCAxMCkgLyAxMDA7XG4gIHZhciBsID0gcGFyc2VJbnQoaHNsWzNdLCAxMCkgLyAxMDA7XG4gIHZhciBhID0gaHNsWzRdIHx8IDE7XG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkgeyB0ICs9IDE7IH1cbiAgICBpZiAodCA+IDEpIHsgdCAtPSAxOyB9XG4gICAgaWYgKHQgPCAxLzYpIHsgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7IH1cbiAgICBpZiAodCA8IDEvMikgeyByZXR1cm4gcTsgfVxuICAgIGlmICh0IDwgMi8zKSB7IHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7IH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICB2YXIgciwgZywgYjtcbiAgaWYgKHMgPT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICB9XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgKHIgKiAyNTUpICsgXCIsXCIgKyAoZyAqIDI1NSkgKyBcIixcIiArIChiICogMjU1KSArIFwiLFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYih2YWwpIHtcbiAgaWYgKGlzLnJnYih2YWwpKSB7IHJldHVybiByZ2JUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaGV4KHZhbCkpIHsgcmV0dXJuIGhleFRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oc2wodmFsKSkgeyByZXR1cm4gaHNsVG9SZ2JhKHZhbCk7IH1cbn1cblxuLy8gVW5pdHNcblxuZnVuY3Rpb24gZ2V0VW5pdCh2YWwpIHtcbiAgdmFyIHNwbGl0ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/KCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWModmFsKTtcbiAgaWYgKHNwbGl0KSB7IHJldHVybiBzcGxpdFsxXTsgfVxufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKSB7XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3RyYW5zbGF0ZScpIHx8IHByb3BOYW1lID09PSAncGVyc3BlY3RpdmUnKSB7IHJldHVybiAncHgnOyB9XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3JvdGF0ZScpIHx8IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2tldycpKSB7IHJldHVybiAnZGVnJzsgfVxufVxuXG4vLyBWYWx1ZXNcblxuZnVuY3Rpb24gZ2V0RnVuY3Rpb25WYWx1ZSh2YWwsIGFuaW1hdGFibGUpIHtcbiAgaWYgKCFpcy5mbmModmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHJldHVybiB2YWwoYW5pbWF0YWJsZS50YXJnZXQsIGFuaW1hdGFibGUuaWQsIGFuaW1hdGFibGUudG90YWwpO1xufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZWwsIHByb3ApIHtcbiAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShwcm9wKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkge1xuICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gIGlmIChhcnJheUNvbnRhaW5zKFt1bml0LCAnZGVnJywgJ3JhZCcsICd0dXJuJ10sIHZhbHVlVW5pdCkpIHsgcmV0dXJuIHZhbHVlOyB9XG4gIHZhciBjYWNoZWQgPSBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XTtcbiAgaWYgKCFpcy51bmQoY2FjaGVkKSkgeyByZXR1cm4gY2FjaGVkOyB9XG4gIHZhciBiYXNlbGluZSA9IDEwMDtcbiAgdmFyIHRlbXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwudGFnTmFtZSk7XG4gIHZhciBwYXJlbnRFbCA9IChlbC5wYXJlbnROb2RlICYmIChlbC5wYXJlbnROb2RlICE9PSBkb2N1bWVudCkpID8gZWwucGFyZW50Tm9kZSA6IGRvY3VtZW50LmJvZHk7XG4gIHBhcmVudEVsLmFwcGVuZENoaWxkKHRlbXBFbCk7XG4gIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHRlbXBFbC5zdHlsZS53aWR0aCA9IGJhc2VsaW5lICsgdW5pdDtcbiAgdmFyIGZhY3RvciA9IGJhc2VsaW5lIC8gdGVtcEVsLm9mZnNldFdpZHRoO1xuICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRWwpO1xuICB2YXIgY29udmVydGVkVW5pdCA9IGZhY3RvciAqIHBhcnNlRmxvYXQodmFsdWUpO1xuICBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XSA9IGNvbnZlcnRlZFVuaXQ7XG4gIHJldHVybiBjb252ZXJ0ZWRVbml0O1xufVxuXG5mdW5jdGlvbiBnZXRDU1NWYWx1ZShlbCwgcHJvcCwgdW5pdCkge1xuICBpZiAocHJvcCBpbiBlbC5zdHlsZSkge1xuICAgIHZhciB1cHBlcmNhc2VQcm9wTmFtZSA9IHByb3AucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdmFsdWUgPSBlbC5zdHlsZVtwcm9wXSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHVwcGVyY2FzZVByb3BOYW1lKSB8fCAnMCc7XG4gICAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvblR5cGUoZWwsIHByb3ApIHtcbiAgaWYgKGlzLmRvbShlbCkgJiYgIWlzLmlucChlbCkgJiYgKCFpcy5uaWwoZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSkgfHwgKGlzLnN2ZyhlbCkgJiYgZWxbcHJvcF0pKSkgeyByZXR1cm4gJ2F0dHJpYnV0ZSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgYXJyYXlDb250YWlucyh2YWxpZFRyYW5zZm9ybXMsIHByb3ApKSB7IHJldHVybiAndHJhbnNmb3JtJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiAocHJvcCAhPT0gJ3RyYW5zZm9ybScgJiYgZ2V0Q1NTVmFsdWUoZWwsIHByb3ApKSkgeyByZXR1cm4gJ2Nzcyc7IH1cbiAgaWYgKGVsW3Byb3BdICE9IG51bGwpIHsgcmV0dXJuICdvYmplY3QnOyB9XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKSB7XG4gIGlmICghaXMuZG9tKGVsKSkgeyByZXR1cm47IH1cbiAgdmFyIHN0ciA9IGVsLnN0eWxlLnRyYW5zZm9ybSB8fCAnJztcbiAgdmFyIHJlZyAgPSAvKFxcdyspXFwoKFteKV0qKVxcKS9nO1xuICB2YXIgdHJhbnNmb3JtcyA9IG5ldyBNYXAoKTtcbiAgdmFyIG07IHdoaWxlIChtID0gcmVnLmV4ZWMoc3RyKSkgeyB0cmFuc2Zvcm1zLnNldChtWzFdLCBtWzJdKTsgfVxuICByZXR1cm4gdHJhbnNmb3Jtcztcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUoZWwsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KSB7XG4gIHZhciBkZWZhdWx0VmFsID0gc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdzY2FsZScpID8gMSA6IDAgKyBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKTtcbiAgdmFyIHZhbHVlID0gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpLmdldChwcm9wTmFtZSkgfHwgZGVmYXVsdFZhbDtcbiAgaWYgKGFuaW1hdGFibGUpIHtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXMubGlzdC5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXNbJ2xhc3QnXSA9IHByb3BOYW1lO1xuICB9XG4gIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0LCBhbmltYXRhYmxlKSB7XG4gIHN3aXRjaCAoZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BOYW1lKSkge1xuICAgIGNhc2UgJ3RyYW5zZm9ybSc6IHJldHVybiBnZXRUcmFuc2Zvcm1WYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KTtcbiAgICBjYXNlICdjc3MnOiByZXR1cm4gZ2V0Q1NTVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCk7XG4gICAgY2FzZSAnYXR0cmlidXRlJzogcmV0dXJuIGdldEF0dHJpYnV0ZSh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gdGFyZ2V0W3Byb3BOYW1lXSB8fCAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pIHtcbiAgdmFyIG9wZXJhdG9yID0gL14oXFwqPXxcXCs9fC09KS8uZXhlYyh0byk7XG4gIGlmICghb3BlcmF0b3IpIHsgcmV0dXJuIHRvOyB9XG4gIHZhciB1ID0gZ2V0VW5pdCh0bykgfHwgMDtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KGZyb20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQodG8ucmVwbGFjZShvcGVyYXRvclswXSwgJycpKTtcbiAgc3dpdGNoIChvcGVyYXRvclswXVswXSkge1xuICAgIGNhc2UgJysnOiByZXR1cm4geCArIHkgKyB1O1xuICAgIGNhc2UgJy0nOiByZXR1cm4geCAtIHkgKyB1O1xuICAgIGNhc2UgJyonOiByZXR1cm4geCAqIHkgKyB1O1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsLCB1bml0KSB7XG4gIGlmIChpcy5jb2wodmFsKSkgeyByZXR1cm4gY29sb3JUb1JnYih2YWwpOyB9XG4gIGlmICgvXFxzL2cudGVzdCh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgdmFyIG9yaWdpbmFsVW5pdCA9IGdldFVuaXQodmFsKTtcbiAgdmFyIHVuaXRMZXNzID0gb3JpZ2luYWxVbml0ID8gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gb3JpZ2luYWxVbml0Lmxlbmd0aCkgOiB2YWw7XG4gIGlmICh1bml0KSB7IHJldHVybiB1bml0TGVzcyArIHVuaXQ7IH1cbiAgcmV0dXJuIHVuaXRMZXNzO1xufVxuXG4vLyBnZXRUb3RhbExlbmd0aCgpIGVxdWl2YWxlbnQgZm9yIGNpcmNsZSwgcmVjdCwgcG9seWxpbmUsIHBvbHlnb24gYW5kIGxpbmUgc2hhcGVzXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vU2ViTGFtYmxhLzNlMDU1MGM0OTZjMjM2NzA5NzQ0XG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSk7XG59XG5cbmZ1bmN0aW9uIGdldENpcmNsZUxlbmd0aChlbCkge1xuICByZXR1cm4gTWF0aC5QSSAqIDIgKiBnZXRBdHRyaWJ1dGUoZWwsICdyJyk7XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIChnZXRBdHRyaWJ1dGUoZWwsICd3aWR0aCcpICogMikgKyAoZ2V0QXR0cmlidXRlKGVsLCAnaGVpZ2h0JykgKiAyKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGluZUxlbmd0aChlbCkge1xuICByZXR1cm4gZ2V0RGlzdGFuY2UoXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gxJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kxJyl9LCBcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDInKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTInKX1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWxpbmVMZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgdmFyIHRvdGFsTGVuZ3RoID0gMDtcbiAgdmFyIHByZXZpb3VzUG9zO1xuICBmb3IgKHZhciBpID0gMCA7IGkgPCBwb2ludHMubnVtYmVyT2ZJdGVtczsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnRQb3MgPSBwb2ludHMuZ2V0SXRlbShpKTtcbiAgICBpZiAoaSA+IDApIHsgdG90YWxMZW5ndGggKz0gZ2V0RGlzdGFuY2UocHJldmlvdXNQb3MsIGN1cnJlbnRQb3MpOyB9XG4gICAgcHJldmlvdXNQb3MgPSBjdXJyZW50UG9zO1xuICB9XG4gIHJldHVybiB0b3RhbExlbmd0aDtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWdvbkxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpICsgZ2V0RGlzdGFuY2UocG9pbnRzLmdldEl0ZW0ocG9pbnRzLm51bWJlck9mSXRlbXMgLSAxKSwgcG9pbnRzLmdldEl0ZW0oMCkpO1xufVxuXG4vLyBQYXRoIGFuaW1hdGlvblxuXG5mdW5jdGlvbiBnZXRUb3RhbExlbmd0aChlbCkge1xuICBpZiAoZWwuZ2V0VG90YWxMZW5ndGgpIHsgcmV0dXJuIGVsLmdldFRvdGFsTGVuZ3RoKCk7IH1cbiAgc3dpdGNoKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2NpcmNsZSc6IHJldHVybiBnZXRDaXJjbGVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3JlY3QnOiByZXR1cm4gZ2V0UmVjdExlbmd0aChlbCk7XG4gICAgY2FzZSAnbGluZSc6IHJldHVybiBnZXRMaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5bGluZSc6IHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWdvbic6IHJldHVybiBnZXRQb2x5Z29uTGVuZ3RoKGVsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXREYXNob2Zmc2V0KGVsKSB7XG4gIHZhciBwYXRoTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGgoZWwpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCBwYXRoTGVuZ3RoKTtcbiAgcmV0dXJuIHBhdGhMZW5ndGg7XG59XG5cbi8vIE1vdGlvbiBwYXRoXG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2Z0VsKGVsKSB7XG4gIHZhciBwYXJlbnRFbCA9IGVsLnBhcmVudE5vZGU7XG4gIHdoaWxlIChpcy5zdmcocGFyZW50RWwpKSB7XG4gICAgaWYgKCFpcy5zdmcocGFyZW50RWwucGFyZW50Tm9kZSkpIHsgYnJlYWs7IH1cbiAgICBwYXJlbnRFbCA9IHBhcmVudEVsLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIHBhcmVudEVsO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmcocGF0aEVsLCBzdmdEYXRhKSB7XG4gIHZhciBzdmcgPSBzdmdEYXRhIHx8IHt9O1xuICB2YXIgcGFyZW50U3ZnRWwgPSBzdmcuZWwgfHwgZ2V0UGFyZW50U3ZnRWwocGF0aEVsKTtcbiAgdmFyIHJlY3QgPSBwYXJlbnRTdmdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHZpZXdCb3hBdHRyID0gZ2V0QXR0cmlidXRlKHBhcmVudFN2Z0VsLCAndmlld0JveCcpO1xuICB2YXIgd2lkdGggPSByZWN0LndpZHRoO1xuICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gIHZhciB2aWV3Qm94ID0gc3ZnLnZpZXdCb3ggfHwgKHZpZXdCb3hBdHRyID8gdmlld0JveEF0dHIuc3BsaXQoJyAnKSA6IFswLCAwLCB3aWR0aCwgaGVpZ2h0XSk7XG4gIHJldHVybiB7XG4gICAgZWw6IHBhcmVudFN2Z0VsLFxuICAgIHZpZXdCb3g6IHZpZXdCb3gsXG4gICAgeDogdmlld0JveFswXSAvIDEsXG4gICAgeTogdmlld0JveFsxXSAvIDEsXG4gICAgdzogd2lkdGgsXG4gICAgaDogaGVpZ2h0LFxuICAgIHZXOiB2aWV3Qm94WzJdLFxuICAgIHZIOiB2aWV3Qm94WzNdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aChwYXRoLCBwZXJjZW50KSB7XG4gIHZhciBwYXRoRWwgPSBpcy5zdHIocGF0aCkgPyBzZWxlY3RTdHJpbmcocGF0aClbMF0gOiBwYXRoO1xuICB2YXIgcCA9IHBlcmNlbnQgfHwgMTAwO1xuICByZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgZWw6IHBhdGhFbCxcbiAgICAgIHN2ZzogZ2V0UGFyZW50U3ZnKHBhdGhFbCksXG4gICAgICB0b3RhbExlbmd0aDogZ2V0VG90YWxMZW5ndGgocGF0aEVsKSAqIChwIC8gMTAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoUHJvZ3Jlc3MocGF0aCwgcHJvZ3Jlc3MsIGlzUGF0aFRhcmdldEluc2lkZVNWRykge1xuICBmdW5jdGlvbiBwb2ludChvZmZzZXQpIHtcbiAgICBpZiAoIG9mZnNldCA9PT0gdm9pZCAwICkgb2Zmc2V0ID0gMDtcblxuICAgIHZhciBsID0gcHJvZ3Jlc3MgKyBvZmZzZXQgPj0gMSA/IHByb2dyZXNzICsgb2Zmc2V0IDogMDtcbiAgICByZXR1cm4gcGF0aC5lbC5nZXRQb2ludEF0TGVuZ3RoKGwpO1xuICB9XG4gIHZhciBzdmcgPSBnZXRQYXJlbnRTdmcocGF0aC5lbCwgcGF0aC5zdmcpO1xuICB2YXIgcCA9IHBvaW50KCk7XG4gIHZhciBwMCA9IHBvaW50KC0xKTtcbiAgdmFyIHAxID0gcG9pbnQoKzEpO1xuICB2YXIgc2NhbGVYID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy53IC8gc3ZnLnZXO1xuICB2YXIgc2NhbGVZID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy5oIC8gc3ZnLnZIO1xuICBzd2l0Y2ggKHBhdGgucHJvcGVydHkpIHtcbiAgICBjYXNlICd4JzogcmV0dXJuIChwLnggLSBzdmcueCkgKiBzY2FsZVg7XG4gICAgY2FzZSAneSc6IHJldHVybiAocC55IC0gc3ZnLnkpICogc2NhbGVZO1xuICAgIGNhc2UgJ2FuZ2xlJzogcmV0dXJuIE1hdGguYXRhbjIocDEueSAtIHAwLnksIHAxLnggLSBwMC54KSAqIDE4MCAvIE1hdGguUEk7XG4gIH1cbn1cblxuLy8gRGVjb21wb3NlIHZhbHVlXG5cbmZ1bmN0aW9uIGRlY29tcG9zZVZhbHVlKHZhbCwgdW5pdCkge1xuICAvLyBjb25zdCByZ3ggPSAvLT9cXGQqXFwuP1xcZCsvZzsgLy8gaGFuZGxlcyBiYXNpYyBudW1iZXJzXG4gIC8vIGNvbnN0IHJneCA9IC9bKy1dP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHJneCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgdmFsdWUgPSB2YWxpZGF0ZVZhbHVlKChpcy5wdGgodmFsKSA/IHZhbC50b3RhbExlbmd0aCA6IHZhbCksIHVuaXQpICsgJyc7XG4gIHJldHVybiB7XG4gICAgb3JpZ2luYWw6IHZhbHVlLFxuICAgIG51bWJlcnM6IHZhbHVlLm1hdGNoKHJneCkgPyB2YWx1ZS5tYXRjaChyZ3gpLm1hcChOdW1iZXIpIDogWzBdLFxuICAgIHN0cmluZ3M6IChpcy5zdHIodmFsKSB8fCB1bml0KSA/IHZhbHVlLnNwbGl0KHJneCkgOiBbXVxuICB9XG59XG5cbi8vIEFuaW1hdGFibGVzXG5cbmZ1bmN0aW9uIHBhcnNlVGFyZ2V0cyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSB0YXJnZXRzID8gKGZsYXR0ZW5BcnJheShpcy5hcnIodGFyZ2V0cykgPyB0YXJnZXRzLm1hcCh0b0FycmF5KSA6IHRvQXJyYXkodGFyZ2V0cykpKSA6IFtdO1xuICByZXR1cm4gZmlsdGVyQXJyYXkodGFyZ2V0c0FycmF5LCBmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7IHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT09IHBvczsgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVzKHRhcmdldHMpIHtcbiAgdmFyIHBhcnNlZCA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgcmV0dXJuIHBhcnNlZC5tYXAoZnVuY3Rpb24gKHQsIGkpIHtcbiAgICByZXR1cm4ge3RhcmdldDogdCwgaWQ6IGksIHRvdGFsOiBwYXJzZWQubGVuZ3RoLCB0cmFuc2Zvcm1zOiB7IGxpc3Q6IGdldEVsZW1lbnRUcmFuc2Zvcm1zKHQpIH0gfTtcbiAgfSk7XG59XG5cbi8vIFByb3BlcnRpZXNcblxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocHJvcCwgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgc2V0dGluZ3MgPSBjbG9uZU9iamVjdCh0d2VlblNldHRpbmdzKTtcbiAgLy8gT3ZlcnJpZGUgZHVyYXRpb24gaWYgZWFzaW5nIGlzIGEgc3ByaW5nXG4gIGlmICgvXnNwcmluZy8udGVzdChzZXR0aW5ncy5lYXNpbmcpKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gc3ByaW5nKHNldHRpbmdzLmVhc2luZyk7IH1cbiAgaWYgKGlzLmFycihwcm9wKSkge1xuICAgIHZhciBsID0gcHJvcC5sZW5ndGg7XG4gICAgdmFyIGlzRnJvbVRvID0gKGwgPT09IDIgJiYgIWlzLm9iaihwcm9wWzBdKSk7XG4gICAgaWYgKCFpc0Zyb21Ubykge1xuICAgICAgLy8gRHVyYXRpb24gZGl2aWRlZCBieSB0aGUgbnVtYmVyIG9mIHR3ZWVuc1xuICAgICAgaWYgKCFpcy5mbmModHdlZW5TZXR0aW5ncy5kdXJhdGlvbikpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSB0d2VlblNldHRpbmdzLmR1cmF0aW9uIC8gbDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcmFuc2Zvcm0gW2Zyb20sIHRvXSB2YWx1ZXMgc2hvcnRoYW5kIHRvIGEgdmFsaWQgdHdlZW4gdmFsdWVcbiAgICAgIHByb3AgPSB7dmFsdWU6IHByb3B9O1xuICAgIH1cbiAgfVxuICB2YXIgcHJvcEFycmF5ID0gaXMuYXJyKHByb3ApID8gcHJvcCA6IFtwcm9wXTtcbiAgcmV0dXJuIHByb3BBcnJheS5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgb2JqID0gKGlzLm9iaih2KSAmJiAhaXMucHRoKHYpKSA/IHYgOiB7dmFsdWU6IHZ9O1xuICAgIC8vIERlZmF1bHQgZGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgZmlyc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5kZWxheSkpIHsgb2JqLmRlbGF5ID0gIWkgPyB0d2VlblNldHRpbmdzLmRlbGF5IDogMDsgfVxuICAgIC8vIERlZmF1bHQgZW5kRGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgbGFzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmVuZERlbGF5KSkgeyBvYmouZW5kRGVsYXkgPSBpID09PSBwcm9wQXJyYXkubGVuZ3RoIC0gMSA/IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXkgOiAwOyB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSkubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBtZXJnZU9iamVjdHMoaywgc2V0dGluZ3MpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICB2YXIgcHJvcGVydHlOYW1lcyA9IGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIE9iamVjdC5rZXlzKGtleSk7IH0pKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIGlzLmtleShwKTsgfSlcbiAgLnJlZHVjZShmdW5jdGlvbiAoYSxiKSB7IGlmIChhLmluZGV4T2YoYikgPCAwKSB7IGEucHVzaChiKTsgfSByZXR1cm4gYTsgfSwgW10pO1xuICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgIHByb3BlcnRpZXNbcHJvcE5hbWVdID0ga2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbmV3S2V5ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGtleSkge1xuICAgICAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICAgICAgaWYgKHAgPT0gcHJvcE5hbWUpIHsgbmV3S2V5LnZhbHVlID0ga2V5W3BdOyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3S2V5W3BdID0ga2V5W3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykgbG9vcCggaSApO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgdmFyIGtleWZyYW1lcyA9IHBhcmFtcy5rZXlmcmFtZXM7XG4gIGlmIChrZXlmcmFtZXMpIHsgcGFyYW1zID0gbWVyZ2VPYmplY3RzKGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSwgcGFyYW1zKTsgfVxuICBmb3IgKHZhciBwIGluIHBhcmFtcykge1xuICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgIHByb3BlcnRpZXMucHVzaCh7XG4gICAgICAgIG5hbWU6IHAsXG4gICAgICAgIHR3ZWVuczogbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocGFyYW1zW3BdLCB0d2VlblNldHRpbmdzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG4vLyBUd2VlbnNcblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5WYWx1ZXModHdlZW4sIGFuaW1hdGFibGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiB0d2Vlbikge1xuICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUodHdlZW5bcF0sIGFuaW1hdGFibGUpO1xuICAgIGlmIChpcy5hcnIodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZ2V0RnVuY3Rpb25WYWx1ZSh2LCBhbmltYXRhYmxlKTsgfSk7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7IHZhbHVlID0gdmFsdWVbMF07IH1cbiAgICB9XG4gICAgdFtwXSA9IHZhbHVlO1xuICB9XG4gIHQuZHVyYXRpb24gPSBwYXJzZUZsb2F0KHQuZHVyYXRpb24pO1xuICB0LmRlbGF5ID0gcGFyc2VGbG9hdCh0LmRlbGF5KTtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKSB7XG4gIHZhciBwcmV2aW91c1R3ZWVuO1xuICByZXR1cm4gcHJvcC50d2VlbnMubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIHR3ZWVuID0gbm9ybWFsaXplVHdlZW5WYWx1ZXModCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHR3ZWVuVmFsdWUgPSB0d2Vlbi52YWx1ZTtcbiAgICB2YXIgdG8gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzFdIDogdHdlZW5WYWx1ZTtcbiAgICB2YXIgdG9Vbml0ID0gZ2V0VW5pdCh0byk7XG4gICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUsIHRvVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi50by5vcmlnaW5hbCA6IG9yaWdpbmFsVmFsdWU7XG4gICAgdmFyIGZyb20gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzBdIDogcHJldmlvdXNWYWx1ZTtcbiAgICB2YXIgZnJvbVVuaXQgPSBnZXRVbml0KGZyb20pIHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgdmFyIHVuaXQgPSB0b1VuaXQgfHwgZnJvbVVuaXQ7XG4gICAgaWYgKGlzLnVuZCh0bykpIHsgdG8gPSBwcmV2aW91c1ZhbHVlOyB9XG4gICAgdHdlZW4uZnJvbSA9IGRlY29tcG9zZVZhbHVlKGZyb20sIHVuaXQpO1xuICAgIHR3ZWVuLnRvID0gZGVjb21wb3NlVmFsdWUoZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSksIHVuaXQpO1xuICAgIHR3ZWVuLnN0YXJ0ID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4uZW5kIDogMDtcbiAgICB0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydCArIHR3ZWVuLmRlbGF5ICsgdHdlZW4uZHVyYXRpb24gKyB0d2Vlbi5lbmREZWxheTtcbiAgICB0d2Vlbi5lYXNpbmcgPSBwYXJzZUVhc2luZ3ModHdlZW4uZWFzaW5nLCB0d2Vlbi5kdXJhdGlvbik7XG4gICAgdHdlZW4uaXNQYXRoID0gaXMucHRoKHR3ZWVuVmFsdWUpO1xuICAgIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyA9IHR3ZWVuLmlzUGF0aCAmJiBpcy5zdmcoYW5pbWF0YWJsZS50YXJnZXQpO1xuICAgIHR3ZWVuLmlzQ29sb3IgPSBpcy5jb2wodHdlZW4uZnJvbS5vcmlnaW5hbCk7XG4gICAgaWYgKHR3ZWVuLmlzQ29sb3IpIHsgdHdlZW4ucm91bmQgPSAxOyB9XG4gICAgcHJldmlvdXNUd2VlbiA9IHR3ZWVuO1xuICAgIHJldHVybiB0d2VlbjtcbiAgfSk7XG59XG5cbi8vIFR3ZWVuIHByb2dyZXNzXG5cbnZhciBzZXRQcm9ncmVzc1ZhbHVlID0ge1xuICBjc3M6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnN0eWxlW3BdID0gdjsgfSxcbiAgYXR0cmlidXRlOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zZXRBdHRyaWJ1dGUocCwgdik7IH0sXG4gIG9iamVjdDogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHRbcF0gPSB2OyB9LFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uICh0LCBwLCB2LCB0cmFuc2Zvcm1zLCBtYW51YWwpIHtcbiAgICB0cmFuc2Zvcm1zLmxpc3Quc2V0KHAsIHYpO1xuICAgIGlmIChwID09PSB0cmFuc2Zvcm1zLmxhc3QgfHwgbWFudWFsKSB7XG4gICAgICB2YXIgc3RyID0gJyc7XG4gICAgICB0cmFuc2Zvcm1zLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIHByb3ApIHsgc3RyICs9IHByb3AgKyBcIihcIiArIHZhbHVlICsgXCIpIFwiOyB9KTtcbiAgICAgIHQuc3R5bGUudHJhbnNmb3JtID0gc3RyO1xuICAgIH1cbiAgfVxufTtcblxuLy8gU2V0IFZhbHVlIGhlbHBlclxuXG5mdW5jdGlvbiBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcykge1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKTtcbiAgYW5pbWF0YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUocHJvcGVydGllc1twcm9wZXJ0eV0sIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHRhcmdldCA9IGFuaW1hdGFibGUudGFyZ2V0O1xuICAgICAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdW5pdCA9IHZhbHVlVW5pdCB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIHRvID0gZ2V0UmVsYXRpdmVWYWx1ZSh2YWxpZGF0ZVZhbHVlKHZhbHVlLCB1bml0KSwgb3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltVHlwZV0odGFyZ2V0LCBwcm9wZXJ0eSwgdG8sIGFuaW1hdGFibGUudHJhbnNmb3JtcywgdHJ1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gQW5pbWF0aW9uc1xuXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCkge1xuICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUpO1xuICBpZiAoYW5pbVR5cGUpIHtcbiAgICB2YXIgdHdlZW5zID0gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpO1xuICAgIHZhciBsYXN0VHdlZW4gPSB0d2VlbnNbdHdlZW5zLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhbmltVHlwZSxcbiAgICAgIHByb3BlcnR5OiBwcm9wLm5hbWUsXG4gICAgICBhbmltYXRhYmxlOiBhbmltYXRhYmxlLFxuICAgICAgdHdlZW5zOiB0d2VlbnMsXG4gICAgICBkdXJhdGlvbjogbGFzdFR3ZWVuLmVuZCxcbiAgICAgIGRlbGF5OiB0d2VlbnNbMF0uZGVsYXksXG4gICAgICBlbmREZWxheTogbGFzdFR3ZWVuLmVuZERlbGF5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShhbmltYXRhYmxlcy5tYXAoZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICByZXR1cm4gcHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIHJldHVybiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCk7XG4gICAgfSk7XG4gIH0pKSwgZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFpcy51bmQoYSk7IH0pO1xufVxuXG4vLyBDcmVhdGUgSW5zdGFuY2VcblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIGFuaW1MZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgdmFyIGdldFRsT2Zmc2V0ID0gZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGFuaW0udGltZWxpbmVPZmZzZXQgPyBhbmltLnRpbWVsaW5lT2Zmc2V0IDogMDsgfTtcbiAgdmFyIHRpbWluZ3MgPSB7fTtcbiAgdGltaW5ncy5kdXJhdGlvbiA9IGFuaW1MZW5ndGggPyBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uOyB9KSkgOiB0d2VlblNldHRpbmdzLmR1cmF0aW9uO1xuICB0aW1pbmdzLmRlbGF5ID0gYW5pbUxlbmd0aCA/IE1hdGgubWluLmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZGVsYXk7XG4gIHRpbWluZ3MuZW5kRGVsYXkgPSBhbmltTGVuZ3RoID8gdGltaW5ncy5kdXJhdGlvbiAtIE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb24gLSBhbmltLmVuZERlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmVuZERlbGF5O1xuICByZXR1cm4gdGltaW5ncztcbn1cblxudmFyIGluc3RhbmNlSUQgPSAwO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpIHtcbiAgdmFyIGluc3RhbmNlU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciB0d2VlblNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgcHJvcGVydGllcyA9IGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXMocGFyYW1zLnRhcmdldHMpO1xuICB2YXIgYW5pbWF0aW9ucyA9IGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpO1xuICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKTtcbiAgdmFyIGlkID0gaW5zdGFuY2VJRDtcbiAgaW5zdGFuY2VJRCsrO1xuICByZXR1cm4gbWVyZ2VPYmplY3RzKGluc3RhbmNlU2V0dGluZ3MsIHtcbiAgICBpZDogaWQsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGFuaW1hdGFibGVzOiBhbmltYXRhYmxlcyxcbiAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgIGR1cmF0aW9uOiB0aW1pbmdzLmR1cmF0aW9uLFxuICAgIGRlbGF5OiB0aW1pbmdzLmRlbGF5LFxuICAgIGVuZERlbGF5OiB0aW1pbmdzLmVuZERlbGF5XG4gIH0pO1xufVxuXG4vLyBDb3JlXG5cbnZhciBhY3RpdmVJbnN0YW5jZXMgPSBbXTtcblxudmFyIGVuZ2luZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciByYWY7XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoIXJhZiAmJiAoIWlzRG9jdW1lbnRIaWRkZW4oKSB8fCAhYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgJiYgYWN0aXZlSW5zdGFuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RlcCh0KSB7XG4gICAgLy8gbWVtbyBvbiBhbGdvcml0aG0gaXNzdWU6XG4gICAgLy8gZGFuZ2Vyb3VzIGl0ZXJhdGlvbiBvdmVyIG11dGFibGUgYGFjdGl2ZUluc3RhbmNlc2BcbiAgICAvLyAodGhhdCBjb2xsZWN0aW9uIG1heSBiZSB1cGRhdGVkIGZyb20gd2l0aGluIGNhbGxiYWNrcyBvZiBgdGlja2AtZWQgYW5pbWF0aW9uIGluc3RhbmNlcylcbiAgICB2YXIgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhY3RpdmVJbnN0YW5jZXNMZW5ndGgpIHtcbiAgICAgIHZhciBhY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICAgIGlmICghYWN0aXZlSW5zdGFuY2UucGF1c2VkKSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlLnRpY2sodCk7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlc0xlbmd0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICByYWYgPSBpID4gMCA/IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgaWYgKCFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGlzRG9jdW1lbnRIaWRkZW4oKSkge1xuICAgICAgLy8gc3VzcGVuZCB0aWNrc1xuICAgICAgcmFmID0gY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICB9IGVsc2UgeyAvLyBpcyBiYWNrIHRvIGFjdGl2ZSB0YWJcbiAgICAgIC8vIGZpcnN0IGFkanVzdCBhbmltYXRpb25zIHRvIGNvbnNpZGVyIHRoZSB0aW1lIHRoYXQgdGlja3Mgd2VyZSBzdXNwZW5kZWRcbiAgICAgIGFjdGl2ZUluc3RhbmNlcy5mb3JFYWNoKFxuICAgICAgICBmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlIC5fb25Eb2N1bWVudFZpc2liaWxpdHkoKTsgfVxuICAgICAgKTtcbiAgICAgIGVuZ2luZSgpO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfVxuXG4gIHJldHVybiBwbGF5O1xufSkoKTtcblxuZnVuY3Rpb24gaXNEb2N1bWVudEhpZGRlbigpIHtcbiAgcmV0dXJuICEhZG9jdW1lbnQgJiYgZG9jdW1lbnQuaGlkZGVuO1xufVxuXG4vLyBQdWJsaWMgSW5zdGFuY2VcblxuZnVuY3Rpb24gYW5pbWUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuXG4gIHZhciBzdGFydFRpbWUgPSAwLCBsYXN0VGltZSA9IDAsIG5vdyA9IDA7XG4gIHZhciBjaGlsZHJlbiwgY2hpbGRyZW5MZW5ndGggPSAwO1xuICB2YXIgcmVzb2x2ZSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbWFrZVByb21pc2UoaW5zdGFuY2UpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlICYmIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChfcmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZSA9IF9yZXNvbHZlOyB9KTtcbiAgICBpbnN0YW5jZS5maW5pc2hlZCA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpO1xuICB2YXIgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcblxuICBmdW5jdGlvbiB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGlmIChkaXJlY3Rpb24gIT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICBpbnN0YW5jZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gIT09ICdub3JtYWwnID8gJ25vcm1hbCcgOiAncmV2ZXJzZSc7XG4gICAgfVxuICAgIGluc3RhbmNlLnJldmVyc2VkID0gIWluc3RhbmNlLnJldmVyc2VkO1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC5yZXZlcnNlZCA9IGluc3RhbmNlLnJldmVyc2VkOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdFRpbWUodGltZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIC0gdGltZSA6IHRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWUoKSB7XG4gICAgc3RhcnRUaW1lID0gMDtcbiAgICBsYXN0VGltZSA9IGFkanVzdFRpbWUoaW5zdGFuY2UuY3VycmVudFRpbWUpICogKDEgLyBhbmltZS5zcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWVrQ2hpbGQodGltZSwgY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHsgY2hpbGQuc2Vlayh0aW1lIC0gY2hpbGQudGltZWxpbmVPZmZzZXQpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jSW5zdGFuY2VDaGlsZHJlbih0aW1lKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baV0pOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IGNoaWxkcmVuTGVuZ3RoOyBpJDEtLTspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2kkMV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICAgIHZhciBhbmltYXRpb25zTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPCBhbmltYXRpb25zTGVuZ3RoKSB7XG4gICAgICB2YXIgYW5pbSA9IGFuaW1hdGlvbnNbaV07XG4gICAgICB2YXIgYW5pbWF0YWJsZSA9IGFuaW0uYW5pbWF0YWJsZTtcbiAgICAgIHZhciB0d2VlbnMgPSBhbmltLnR3ZWVucztcbiAgICAgIHZhciB0d2Vlbkxlbmd0aCA9IHR3ZWVucy5sZW5ndGggLSAxO1xuICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3R3ZWVuTGVuZ3RoXTtcbiAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGtleWZyYW1lcyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHR3ZWVuXG4gICAgICBpZiAodHdlZW5MZW5ndGgpIHsgdHdlZW4gPSBmaWx0ZXJBcnJheSh0d2VlbnMsIGZ1bmN0aW9uICh0KSB7IHJldHVybiAoaW5zVGltZSA8IHQuZW5kKTsgfSlbMF0gfHwgdHdlZW47IH1cbiAgICAgIHZhciBlbGFwc2VkID0gbWluTWF4KGluc1RpbWUgLSB0d2Vlbi5zdGFydCAtIHR3ZWVuLmRlbGF5LCAwLCB0d2Vlbi5kdXJhdGlvbikgLyB0d2Vlbi5kdXJhdGlvbjtcbiAgICAgIHZhciBlYXNlZCA9IGlzTmFOKGVsYXBzZWQpID8gMSA6IHR3ZWVuLmVhc2luZyhlbGFwc2VkKTtcbiAgICAgIHZhciBzdHJpbmdzID0gdHdlZW4udG8uc3RyaW5ncztcbiAgICAgIHZhciByb3VuZCA9IHR3ZWVuLnJvdW5kO1xuICAgICAgdmFyIG51bWJlcnMgPSBbXTtcbiAgICAgIHZhciB0b051bWJlcnNMZW5ndGggPSB0d2Vlbi50by5udW1iZXJzLmxlbmd0aDtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICh2b2lkIDApO1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0b051bWJlcnNMZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgdmFsdWUgPSAodm9pZCAwKTtcbiAgICAgICAgdmFyIHRvTnVtYmVyID0gdHdlZW4udG8ubnVtYmVyc1tuXTtcbiAgICAgICAgdmFyIGZyb21OdW1iZXIgPSB0d2Vlbi5mcm9tLm51bWJlcnNbbl0gfHwgMDtcbiAgICAgICAgaWYgKCF0d2Vlbi5pc1BhdGgpIHtcbiAgICAgICAgICB2YWx1ZSA9IGZyb21OdW1iZXIgKyAoZWFzZWQgKiAodG9OdW1iZXIgLSBmcm9tTnVtYmVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRQYXRoUHJvZ3Jlc3ModHdlZW4udmFsdWUsIGVhc2VkICogdG9OdW1iZXIsIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgaWYgKCEodHdlZW4uaXNDb2xvciAmJiBuID4gMikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIHJvdW5kKSAvIHJvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWFudWFsIEFycmF5LnJlZHVjZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlc1xuICAgICAgdmFyIHN0cmluZ3NMZW5ndGggPSBzdHJpbmdzLmxlbmd0aDtcbiAgICAgIGlmICghc3RyaW5nc0xlbmd0aCkge1xuICAgICAgICBwcm9ncmVzcyA9IG51bWJlcnNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmVzcyA9IHN0cmluZ3NbMF07XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3RyaW5nc0xlbmd0aDsgcysrKSB7XG4gICAgICAgICAgdmFyIGEgPSBzdHJpbmdzW3NdO1xuICAgICAgICAgIHZhciBiID0gc3RyaW5nc1tzICsgMV07XG4gICAgICAgICAgdmFyIG4kMSA9IG51bWJlcnNbc107XG4gICAgICAgICAgaWYgKCFpc05hTihuJDEpKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgJyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbS50eXBlXShhbmltYXRhYmxlLnRhcmdldCwgYW5pbS5wcm9wZXJ0eSwgcHJvZ3Jlc3MsIGFuaW1hdGFibGUudHJhbnNmb3Jtcyk7XG4gICAgICBhbmltLmN1cnJlbnRWYWx1ZSA9IHByb2dyZXNzO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENhbGxiYWNrKGNiKSB7XG4gICAgaWYgKGluc3RhbmNlW2NiXSAmJiAhaW5zdGFuY2UucGFzc1Rocm91Z2gpIHsgaW5zdGFuY2VbY2JdKGluc3RhbmNlKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gY291bnRJdGVyYXRpb24oKSB7XG4gICAgaWYgKGluc3RhbmNlLnJlbWFpbmluZyAmJiBpbnN0YW5jZS5yZW1haW5pbmcgIT09IHRydWUpIHtcbiAgICAgIGluc3RhbmNlLnJlbWFpbmluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluc3RhbmNlUHJvZ3Jlc3MoZW5naW5lVGltZSkge1xuICAgIHZhciBpbnNEdXJhdGlvbiA9IGluc3RhbmNlLmR1cmF0aW9uO1xuICAgIHZhciBpbnNEZWxheSA9IGluc3RhbmNlLmRlbGF5O1xuICAgIHZhciBpbnNFbmREZWxheSA9IGluc0R1cmF0aW9uIC0gaW5zdGFuY2UuZW5kRGVsYXk7XG4gICAgdmFyIGluc1RpbWUgPSBhZGp1c3RUaW1lKGVuZ2luZVRpbWUpO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gbWluTWF4KChpbnNUaW1lIC8gaW5zRHVyYXRpb24pICogMTAwLCAwLCAxMDApO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGluc1RpbWUgPCBpbnN0YW5jZS5jdXJyZW50VGltZTtcbiAgICBpZiAoY2hpbGRyZW4pIHsgc3luY0luc3RhbmNlQ2hpbGRyZW4oaW5zVGltZSk7IH1cbiAgICBpZiAoIWluc3RhbmNlLmJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UuYmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2JlZ2luJyk7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UubG9vcEJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdsb29wQmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPD0gaW5zRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcygwKTtcbiAgICB9XG4gICAgaWYgKChpbnNUaW1lID49IGluc0VuZERlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSBpbnNEdXJhdGlvbikgfHwgIWluc0R1cmF0aW9uKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zRHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA+IGluc0RlbGF5ICYmIGluc1RpbWUgPCBpbnNFbmREZWxheSkge1xuICAgICAgaWYgKCFpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQmVnaW4nKTtcbiAgICAgIH1cbiAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2UnKTtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VDb21wbGV0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IG1pbk1heChpbnNUaW1lLCAwLCBpbnNEdXJhdGlvbik7XG4gICAgaWYgKGluc3RhbmNlLmJlZ2FuKSB7IHNldENhbGxiYWNrKCd1cGRhdGUnKTsgfVxuICAgIGlmIChlbmdpbmVUaW1lID49IGluc0R1cmF0aW9uKSB7XG4gICAgICBsYXN0VGltZSA9IDA7XG4gICAgICBjb3VudEl0ZXJhdGlvbigpO1xuICAgICAgaWYgKCFpbnN0YW5jZS5yZW1haW5pbmcpIHtcbiAgICAgICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnY29tcGxldGUnKTtcbiAgICAgICAgICBpZiAoIWluc3RhbmNlLnBhc3NUaHJvdWdoICYmICdQcm9taXNlJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZS5kaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICAgICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluc3RhbmNlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpbnN0YW5jZS5wYXNzVGhyb3VnaCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gMDtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IDA7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5iZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSBkaXJlY3Rpb24gPT09ICdyZXZlcnNlJztcbiAgICBpbnN0YW5jZS5yZW1haW5pbmcgPSBpbnN0YW5jZS5sb29wO1xuICAgIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuTGVuZ3RoOyBpLS07KSB7IGluc3RhbmNlLmNoaWxkcmVuW2ldLnJlc2V0KCk7IH1cbiAgICBpZiAoaW5zdGFuY2UucmV2ZXJzZWQgJiYgaW5zdGFuY2UubG9vcCAhPT0gdHJ1ZSB8fCAoZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJyAmJiBpbnN0YW5jZS5sb29wID09PSAxKSkgeyBpbnN0YW5jZS5yZW1haW5pbmcrKzsgfVxuICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIDogMCk7XG4gIH07XG5cbiAgLy8gaW50ZXJuYWwgbWV0aG9kIChmb3IgZW5naW5lKSB0byBhZGp1c3QgYW5pbWF0aW9uIHRpbWluZ3MgYmVmb3JlIHJlc3RvcmluZyBlbmdpbmUgdGlja3MgKHJBRilcbiAgaW5zdGFuY2UuX29uRG9jdW1lbnRWaXNpYmlsaXR5ID0gcmVzZXRUaW1lO1xuXG4gIC8vIFNldCBWYWx1ZSBoZWxwZXJcblxuICBpbnN0YW5jZS5zZXQgPSBmdW5jdGlvbih0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICBpbnN0YW5jZS50aWNrID0gZnVuY3Rpb24odCkge1xuICAgIG5vdyA9IHQ7XG4gICAgaWYgKCFzdGFydFRpbWUpIHsgc3RhcnRUaW1lID0gbm93OyB9XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcygobm93ICsgKGxhc3RUaW1lIC0gc3RhcnRUaW1lKSkgKiBhbmltZS5zcGVlZCk7XG4gIH07XG5cbiAgaW5zdGFuY2Uuc2VlayA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKGFkanVzdFRpbWUodGltZSkpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5wYXVzZWQpIHsgcmV0dXJuOyB9XG4gICAgaWYgKGluc3RhbmNlLmNvbXBsZXRlZCkgeyBpbnN0YW5jZS5yZXNldCgpOyB9XG4gICAgaW5zdGFuY2UucGF1c2VkID0gZmFsc2U7XG4gICAgYWN0aXZlSW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xuICAgIHJlc2V0VGltZSgpO1xuICAgIGVuZ2luZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGluc3RhbmNlLnJldmVyc2VkID8gZmFsc2UgOiB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgIGluc3RhbmNlLnBsYXkoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZW1vdmUgPSBmdW5jdGlvbih0YXJnZXRzKSB7XG4gICAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc2V0KCk7XG5cbiAgaWYgKGluc3RhbmNlLmF1dG9wbGF5KSB7IGluc3RhbmNlLnBsYXkoKTsgfVxuXG4gIHJldHVybiBpbnN0YW5jZTtcblxufVxuXG4vLyBSZW1vdmUgdGFyZ2V0cyBmcm9tIGFuaW1hdGlvblxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKSB7XG4gIGZvciAodmFyIGEgPSBhbmltYXRpb25zLmxlbmd0aDsgYS0tOykge1xuICAgIGlmIChhcnJheUNvbnRhaW5zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9uc1thXS5hbmltYXRhYmxlLnRhcmdldCkpIHtcbiAgICAgIGFuaW1hdGlvbnMuc3BsaWNlKGEsIDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpIHtcbiAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICB2YXIgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucyk7XG4gIGZvciAodmFyIGMgPSBjaGlsZHJlbi5sZW5ndGg7IGMtLTspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltjXTtcbiAgICB2YXIgY2hpbGRBbmltYXRpb25zID0gY2hpbGQuYW5pbWF0aW9ucztcbiAgICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBjaGlsZEFuaW1hdGlvbnMpO1xuICAgIGlmICghY2hpbGRBbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSB7IGNoaWxkcmVuLnNwbGljZShjLCAxKTsgfVxuICB9XG4gIGlmICghYW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkcmVuLmxlbmd0aCkgeyBpbnN0YW5jZS5wYXVzZSgpOyB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgZm9yICh2YXIgaSA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7IGktLTspIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfVxufVxuXG4vLyBTdGFnZ2VyIGhlbHBlcnNcblxuZnVuY3Rpb24gc3RhZ2dlcih2YWwsIHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIGRpcmVjdGlvbiA9IHBhcmFtcy5kaXJlY3Rpb24gfHwgJ25vcm1hbCc7XG4gIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nID8gcGFyc2VFYXNpbmdzKHBhcmFtcy5lYXNpbmcpIDogbnVsbDtcbiAgdmFyIGdyaWQgPSBwYXJhbXMuZ3JpZDtcbiAgdmFyIGF4aXMgPSBwYXJhbXMuYXhpcztcbiAgdmFyIGZyb21JbmRleCA9IHBhcmFtcy5mcm9tIHx8IDA7XG4gIHZhciBmcm9tRmlyc3QgPSBmcm9tSW5kZXggPT09ICdmaXJzdCc7XG4gIHZhciBmcm9tQ2VudGVyID0gZnJvbUluZGV4ID09PSAnY2VudGVyJztcbiAgdmFyIGZyb21MYXN0ID0gZnJvbUluZGV4ID09PSAnbGFzdCc7XG4gIHZhciBpc1JhbmdlID0gaXMuYXJyKHZhbCk7XG4gIHZhciB2YWwxID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzBdKSA6IHBhcnNlRmxvYXQodmFsKTtcbiAgdmFyIHZhbDIgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMV0pIDogMDtcbiAgdmFyIHVuaXQgPSBnZXRVbml0KGlzUmFuZ2UgPyB2YWxbMV0gOiB2YWwpIHx8IDA7XG4gIHZhciBzdGFydCA9IHBhcmFtcy5zdGFydCB8fCAwICsgKGlzUmFuZ2UgPyB2YWwxIDogMCk7XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgdmFyIG1heFZhbHVlID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgaSwgdCkge1xuICAgIGlmIChmcm9tRmlyc3QpIHsgZnJvbUluZGV4ID0gMDsgfVxuICAgIGlmIChmcm9tQ2VudGVyKSB7IGZyb21JbmRleCA9ICh0IC0gMSkgLyAyOyB9XG4gICAgaWYgKGZyb21MYXN0KSB7IGZyb21JbmRleCA9IHQgLSAxOyB9XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWdyaWQpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChNYXRoLmFicyhmcm9tSW5kZXggLSBpbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmcm9tWCA9ICFmcm9tQ2VudGVyID8gZnJvbUluZGV4JWdyaWRbMF0gOiAoZ3JpZFswXS0xKS8yO1xuICAgICAgICAgIHZhciBmcm9tWSA9ICFmcm9tQ2VudGVyID8gTWF0aC5mbG9vcihmcm9tSW5kZXgvZ3JpZFswXSkgOiAoZ3JpZFsxXS0xKS8yO1xuICAgICAgICAgIHZhciB0b1ggPSBpbmRleCVncmlkWzBdO1xuICAgICAgICAgIHZhciB0b1kgPSBNYXRoLmZsb29yKGluZGV4L2dyaWRbMF0pO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVggPSBmcm9tWCAtIHRvWDtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VZID0gZnJvbVkgLSB0b1k7XG4gICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5zcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd4JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVg7IH1cbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3knKSB7IHZhbHVlID0gLWRpc3RhbmNlWTsgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoZWFzaW5nKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gZWFzaW5nKHZhbCAvIG1heFZhbHVlKSAqIG1heFZhbHVlOyB9KTsgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gYXhpcyA/ICh2YWwgPCAwKSA/IHZhbCAqIC0xIDogLXZhbCA6IE1hdGguYWJzKG1heFZhbHVlIC0gdmFsKTsgfSk7IH1cbiAgICB9XG4gICAgdmFyIHNwYWNpbmcgPSBpc1JhbmdlID8gKHZhbDIgLSB2YWwxKSAvIG1heFZhbHVlIDogdmFsMTtcbiAgICByZXR1cm4gc3RhcnQgKyAoc3BhY2luZyAqIChNYXRoLnJvdW5kKHZhbHVlc1tpXSAqIDEwMCkgLyAxMDApKSArIHVuaXQ7XG4gIH1cbn1cblxuLy8gVGltZWxpbmVcblxuZnVuY3Rpb24gdGltZWxpbmUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgdGwgPSBhbmltZShwYXJhbXMpO1xuICB0bC5kdXJhdGlvbiA9IDA7XG4gIHRsLmFkZCA9IGZ1bmN0aW9uKGluc3RhbmNlUGFyYW1zLCB0aW1lbGluZU9mZnNldCkge1xuICAgIHZhciB0bEluZGV4ID0gYWN0aXZlSW5zdGFuY2VzLmluZGV4T2YodGwpO1xuICAgIHZhciBjaGlsZHJlbiA9IHRsLmNoaWxkcmVuO1xuICAgIGlmICh0bEluZGV4ID4gLTEpIHsgYWN0aXZlSW5zdGFuY2VzLnNwbGljZSh0bEluZGV4LCAxKTsgfVxuICAgIGZ1bmN0aW9uIHBhc3NUaHJvdWdoKGlucykgeyBpbnMucGFzc1Rocm91Z2ggPSB0cnVlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgeyBwYXNzVGhyb3VnaChjaGlsZHJlbltpXSk7IH1cbiAgICB2YXIgaW5zUGFyYW1zID0gbWVyZ2VPYmplY3RzKGluc3RhbmNlUGFyYW1zLCByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcykpO1xuICAgIGluc1BhcmFtcy50YXJnZXRzID0gaW5zUGFyYW1zLnRhcmdldHMgfHwgcGFyYW1zLnRhcmdldHM7XG4gICAgdmFyIHRsRHVyYXRpb24gPSB0bC5kdXJhdGlvbjtcbiAgICBpbnNQYXJhbXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICBpbnNQYXJhbXMuZGlyZWN0aW9uID0gdGwuZGlyZWN0aW9uO1xuICAgIGluc1BhcmFtcy50aW1lbGluZU9mZnNldCA9IGlzLnVuZCh0aW1lbGluZU9mZnNldCkgPyB0bER1cmF0aW9uIDogZ2V0UmVsYXRpdmVWYWx1ZSh0aW1lbGluZU9mZnNldCwgdGxEdXJhdGlvbik7XG4gICAgcGFzc1Rocm91Z2godGwpO1xuICAgIHRsLnNlZWsoaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0KTtcbiAgICB2YXIgaW5zID0gYW5pbWUoaW5zUGFyYW1zKTtcbiAgICBwYXNzVGhyb3VnaChpbnMpO1xuICAgIGNoaWxkcmVuLnB1c2goaW5zKTtcbiAgICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhjaGlsZHJlbiwgcGFyYW1zKTtcbiAgICB0bC5kZWxheSA9IHRpbWluZ3MuZGVsYXk7XG4gICAgdGwuZW5kRGVsYXkgPSB0aW1pbmdzLmVuZERlbGF5O1xuICAgIHRsLmR1cmF0aW9uID0gdGltaW5ncy5kdXJhdGlvbjtcbiAgICB0bC5zZWVrKDApO1xuICAgIHRsLnJlc2V0KCk7XG4gICAgaWYgKHRsLmF1dG9wbGF5KSB7IHRsLnBsYXkoKTsgfVxuICAgIHJldHVybiB0bDtcbiAgfTtcbiAgcmV0dXJuIHRsO1xufVxuXG5hbmltZS52ZXJzaW9uID0gJzMuMi4xJztcbmFuaW1lLnNwZWVkID0gMTtcbi8vIFRPRE86I3JldmlldzogbmFtaW5nLCBkb2N1bWVudGF0aW9uXG5hbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuID0gdHJ1ZTtcbmFuaW1lLnJ1bm5pbmcgPSBhY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5yZW1vdmUgPSByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLmdldCA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWU7XG5hbmltZS5zZXQgPSBzZXRUYXJnZXRzVmFsdWU7XG5hbmltZS5jb252ZXJ0UHggPSBjb252ZXJ0UHhUb1VuaXQ7XG5hbmltZS5wYXRoID0gZ2V0UGF0aDtcbmFuaW1lLnNldERhc2hvZmZzZXQgPSBzZXREYXNob2Zmc2V0O1xuYW5pbWUuc3RhZ2dlciA9IHN0YWdnZXI7XG5hbmltZS50aW1lbGluZSA9IHRpbWVsaW5lO1xuYW5pbWUuZWFzaW5nID0gcGFyc2VFYXNpbmdzO1xuYW5pbWUucGVubmVyID0gcGVubmVyO1xuYW5pbWUucmFuZG9tID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7IHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyB9O1xuXG5leHBvcnQgZGVmYXVsdCBhbmltZTtcbiIsImltcG9ydCAqIGFzIFN0YXRzIGZyb20gJ3N0YXRzLmpzJ1xyXG5pbXBvcnQgYW5pbWUgZnJvbSAnYW5pbWVqcy9saWIvYW5pbWUuZXMuanMnO1xyXG5cclxuLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxyXG52YXIgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5RFRWeERKajdycUc5TC1DbHZiYTJUYW85QjBoa2N4amNFXCIsXHJcbiAgICBhdXRoRG9tYWluOiBcIm1pbGNoY2hhbi5maXJlYmFzZWFwcC5jb21cIixcclxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vbWlsY2hjaGFuLmZpcmViYXNlaW8uY29tXCIsXHJcbiAgICBwcm9qZWN0SWQ6IFwibWlsY2hjaGFuXCIsXHJcbiAgICBzdG9yYWdlQnVja2V0OiBcIm1pbGNoY2hhbi5hcHBzcG90LmNvbVwiLFxyXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMzU1Njk4OTcxODg5XCIsXHJcbiAgICBhcHBJZDogXCIxOjM1NTY5ODk3MTg4OTp3ZWI6ZTM2NTNjNWMzMWJkNzI4OWNkNDU1MFwiLFxyXG4gICAgbWVhc3VyZW1lbnRJZDogXCJHLTM5OThGSllOV1hcIlxyXG59O1xyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXHJcbmZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG5maXJlYmFzZS5hbmFseXRpY3MoKTtcclxuXHJcbmNvbnN0IGRlYnVnID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSkgPT09IFwiZGVidWdcIjtcclxuLy9jb25zdCBjaGFubmVsID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7XHJcbmNvbnN0IGRhdGFiYXNlUm9vdCA9IFwid29uZGVybGFuZFwiO1xyXG4vL2NvbnN0IGRhdGFiYXNlQ2hhbm5lbCA9IGNoYW5uZWwubGVuZ3RoID4gMCA/IGRhdGFiYXNlUm9vdCArICcvY2hhbm5lbHMvJyArIGNoYW5uZWwgOiBkYXRhYmFzZVJvb3Q7XHJcbmNvbnN0IGRhdGFiYXNlTWVzc2FnZXMgPSBkYXRhYmFzZVJvb3QgKyBcIi9mZWVkXCI7XHJcbmxldCBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7XHJcbmxldCBzdG9yYWdlID0gZmlyZWJhc2Uuc3RvcmFnZSgpO1xyXG5jb25zdCBtaWxjaCA9IHsgbmFtZTogXCLjg5/jg6vjg5LjgaHjgoPjgpNcIiwgYWNjZW50OiBcIiNmZmE2YmJcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NaWxjaC5wbmdcIiB9O1xyXG5jb25zdCBtZXJrdSA9IHsgbmFtZTogXCLjg6Hjg6vjgq/jgaHjgoPjgpNcIiwgYWNjZW50OiBcIiM1YmNiZTFcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NZXJrdS5wbmdcIiB9O1xyXG5jb25zdCBzdGF0cyA9IG5ldyBTdGF0cygpO1xyXG5cclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSBcImF1dG9cIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5ib3R0b20gPSBcIjBcIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gXCJhdXRvXCI7XHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucmlnaHQgPSBcIjBcIjtcclxuXHJcbmlmICghZGVidWcpIHtcclxuICAgIHN0YXRzLmRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlzLWhpZGRlblwiKTtcclxufVxyXG5cclxubGV0IGlkbGVUaW1lID0gMC4wO1xyXG5jb25zdCBibGlua1RocmVzaG9sZCA9IDUuMDtcclxubGV0IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuY29uc3QgYWN0aXZhdGVUaHJlc2hvbGQgPSAxMC4wO1xyXG5sZXQgdGFwQ291bnQgPSAwO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldmVudCkgPT4ge1xyXG4gICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKFwic3cuanNcIikudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICByZWdpc3RyYXRpb24ub251cGRhdGVmb3VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyICE9PSBudWxsICYmIFwiY29tbWFuZFwiIGluIGV2ZW50LmRhdGEgJiYgZXZlbnQuZGF0YS5jb21tYW5kID09PSBcImNhY2hlc1wiKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogXCJjbGVhclwiLCBjYWNoZXM6IGV2ZW50LmRhdGEuY2FjaGVzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFwcCA9IFZ1ZS5jcmVhdGVBcHAoe1xyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc0RlYnVnOiBkZWJ1ZyxcclxuICAgICAgICAgICAgICAgIGlzRGFya01vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNNdXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1VwZGF0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTG9jYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNSZXZlYWxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc092ZXJsYXllZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0JsaW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTGVhcm5pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNBbmltYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNIYW5naW5nT246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzRGlzY292ZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdGFyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2NrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzU2l6ZTogeyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBkZXZpY2VXaWR0aDogMCwgZGV2aWNlSGVpZ2h0OiAwLCBhbHRlcm5hdGl2ZTogeyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBkZXZpY2VXaWR0aDogMCwgZGV2aWNlSGVpZ2h0OiAwIH0gfSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZEltYWdlczoge30sXHJcbiAgICAgICAgICAgICAgICBjYWNoZWRTcHJpdGVzOiBbXSxcclxuICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlczogW10sXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25RdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBlbGFwc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWFwOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtb2RlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVlcnlRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBxdWVyeUNhY2hlOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZFRyYWNrczoge30sXHJcbiAgICAgICAgICAgICAgICBjYWNoZWREb2N1bWVudHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZVF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIGlucHV0OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRJbnB1dExlbmd0aDogMCxcclxuICAgICAgICAgICAgICAgIG1heElucHV0TGVuZ3RoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEhhc0Vycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1heE1lc3NhZ2VzOiAxMCxcclxuICAgICAgICAgICAgICAgIHdvcmQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZWNlbnRXb3JkczogW10sXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1heFRhZ3M6IDEwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dElEOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB0aWNrSW50ZXJ2YWxJRDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgc3RhcnM6IC0xLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRTdGFyczogMCxcclxuICAgICAgICAgICAgICAgIHN0ZXBzOiAwLFxyXG4gICAgICAgICAgICAgICAgaXNTdGVwcGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFN0ZXBzOiAwLFxyXG4gICAgICAgICAgICAgICAgc2NyZWVuc2hvdDogbnVsbCxcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWROb3RpZmljYXRpb25IZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICByZWNlbnRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlc1F1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJlbG9hZEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBpc1VwbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmxlbmRTaGFwZUFuaW1hdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgaW5zZXRUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICBpbnNldEJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgcG9wdXBUZXh0SGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0aWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkVGlja2VyV2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBsZWFkZXJib2FyZDogW10sXHJcbiAgICAgICAgICAgICAgICBsZWFkZXJib2FyZEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkTGVhZGVyYm9hcmRIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhdGVzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgd29yZERpY3Rpb25hcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgcmV2ZXJzZVdvcmREaWN0aW9uYXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcIuWQjeWJjVwiLCBcIuaJgOWxnlwiLCBcIuaZgumWk1wiLCBcIuWgtOaJgFwiLCBcIuOBmeOCi+S6i1wiLCBcIueUn+OBjeeJqVwiLCBcIumjn+OBueeJqVwiLCBcIumjsuOBv+eJqVwiLCBcIuiBnuOBj+OCguOBrlwiLCBcIuimi+OCi+OCguOBrlwiLCBcIuiqreOCgOOCguOBrlwiLCBcIuS9v+OBhueJqVwiLCBcIui6q+OBq+OBpOOBkeOCi+OCguOBrlwiLCBcIuS5l+OCiueJqVwiLCBcIumDqOS9jVwiLCBcIueXheawl1wiXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB3YXRjaDoge1xyXG4gICAgICAgICAgICBpc011dGVkKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYm90XCIsIEpTT04uc3RyaW5naWZ5KHsgbXV0ZTogbmV3VmFsdWUgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYm90XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3b3Jkczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJXaWR0aChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IHdpZHRoOiB0aGlzLmFuaW1hdGVkVGlja2VyV2lkdGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbmltYXRlZFRpY2tlcldpZHRoID0gb2JqLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2FwcD4uYmFja2dyb3VuZD5kaXZcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWxlbWVudHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lUmF0ZSA9IDE1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKHsgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gZWxlbWVudC5hbmltYXRlKGtleWZyYW1lcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdzdGVwcygnICsgb2Zmc2V0ICsgJyknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCAvIGZyYW1lUmF0ZSAqIGVsZW1lbnRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBhbmltYXRpb24uc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHAuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnBvcHVwVGV4dEhlaWdodCA9IGFwcC4kcmVmcy5wb3B1cFRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3B1cFRleHRIZWlnaHQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgaGVpZ2h0OiB0aGlzLmFuaW1hdGVkUG9wdXBUZXh0SGVpZ2h0IH07XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkUG9wdXBUZXh0SGVpZ2h0ID0gb2JqLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5ub3RpZmljYXRpb25IZWlnaHQgPSBhcHAuJHJlZnMubm90aWZpY2F0aW9ucy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25IZWlnaHQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgaGVpZ2h0OiB0aGlzLmFuaW1hdGVkTm90aWZpY2F0aW9uSGVpZ2h0IH07XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkTm90aWZpY2F0aW9uSGVpZ2h0ID0gb2JqLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFkZXJib2FyZDoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubGVhZGVyYm9hcmRIZWlnaHQgPSBhcHAuJHJlZnMubGVhZGVyYm9hcmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhZGVyYm9hcmRIZWlnaHQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgaGVpZ2h0OiB0aGlzLmFuaW1hdGVkTGVhZGVyYm9hcmRIZWlnaHQgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRMZWFkZXJib2FyZEhlaWdodCA9IG9iai5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnMobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IHRoaXMuYW5pbWF0ZWRTdGFycyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkU3RhcnMgPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RlcHMobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IHRoaXMuYW5pbWF0ZWRTdGVwcyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVkU3RlcHMgPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5wdXQ6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBjb3VudDogYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBhcHAuaW5wdXQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmFuaW1hdGVkSW5wdXRMZW5ndGggPSBvYmouY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNpZ25JbjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIGlkVG9rZW46IGNyZWRlbnRpYWwuaWRUb2tlbiB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoXCJwdWJsaWNfcHJvZmlsZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGRhdGEucGhvdG9VUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4gfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAobmV3IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlcigpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtmaXJlYmFzZS5hdXRoLk9BdXRoQ3JlZGVudGlhbH0gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSByZXN1bHQuY3JlZGVudGlhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG90b1VybCA9IGRhdGEucGhvdG9VUkwucmVwbGFjZSgvX25vcm1hbFxcLmpwZyQvLCAnLmpwZycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogcGhvdG9VcmxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYCR7ZGF0YWJhc2VSb290fS91c2Vycy8ke3Jlc3VsdC51c2VyLnVpZH1gKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJsaW5rXCJdID0gYGh0dHBzOi8vdHdpdHRlci5jb20vJHtyZXN1bHQuYWRkaXRpb25hbFVzZXJJbmZvLnVzZXJuYW1lfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHsgbGluazogYGh0dHBzOi8vdHdpdHRlci5jb20vJHtyZXN1bHQuYWRkaXRpb25hbFVzZXJJbmZvLnVzZXJuYW1lfWAsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsXCIsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgc2VjcmV0OiBjcmVkZW50aWFsLnNlY3JldCB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaWduT3V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6IFwiY2FjaGVzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTogYXN5bmMgZnVuY3Rpb24gKGlnbm9yZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gYXdhaXQgdGhpcy5mZXRjaChpZ25vcmUsIGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpZ25vcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlcklkIG9mIHNlbGYuY2FjaGVkVHJhY2tzW2tleV0uaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnJlbW92ZShzZWxmLmNhY2hlZFRyYWNrc1trZXldLnB1c2hwaW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHB1c2hwaW5JZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHdvcmRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmNhY2hlZFRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay5pZCA9PT0gdGhpcy5jYWNoZWRUcmFja3NbaWRdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW5JZCA9IGlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXNocGluSWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gbmV3IE1pY3Jvc29mdC5NYXBzLlB1c2hwaW4obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHRyYWNrLmxvY2F0aW9uLmxhdGl0dWRlLCB0cmFjay5sb2NhdGlvbi5sb25naXR1ZGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiL2ltYWdlcy9NYXJrZXItU3Rhci5zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbi5pZF0gPSB0cmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluLmlkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW4uaWRdW1wiaGFuZGxlcnNcIl0gPSBbTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2NsaWNrJywgYXN5bmMgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2RlID0gdGhpcy5jYWNoZWRUcmFja3NbYXJncy50YXJnZXQuaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnZGJsY2xpY2snLCAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuY2FjaGVkVHJhY2tzW2FyZ3MudGFyZ2V0LmlkXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZW50aXRpZXMucHVzaChwdXNocGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmFjay50aW1lc3RhbXAgPiB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdLnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wicHVzaHBpblwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJoYW5kbGVyc1wiXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRMb2NhdGlvbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24odHJhY2subG9jYXRpb24ubGF0aXR1ZGUsIHRyYWNrLmxvY2F0aW9uLmxvbmdpdHVkZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFjay5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogdGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcCAtIHRyYWNrLnRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlKHB1c2hwaW4sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChcImRpY3Rpb25hcnlcIiBpbiB0cmFjayAmJiBcIndvcmRzXCIgaW4gdHJhY2suZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgaW4gdHJhY2suZGljdGlvbmFyeS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkV29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLmRpY3Rpb25hcnkud29yZHNbd29yZF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZFdvcmRbXCJuYW1lXCJdID0gd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY2xvbmVkV29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnNvcnQoKHgsIHkpID0+IHkudGltZXN0YW1wIC0geC50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1tcIndvcmRzXCJdID0gd29yZHM7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXSA9IHRyYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wiaGFuZGxlcnNcIl0gPSBoYW5kbGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1tnZW9oYXNoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2godHJhY2suaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZFRyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaWRzLnNvbWUoeCA9PiB4ID09PSBzZWxmLmNhY2hlZFRyYWNrc1trZXldLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVySWQgb2Ygc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5oYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5yZW1vdmVIYW5kbGVyKGhhbmRsZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuZW50aXRpZXMucmVtb3ZlKHNlbGYuY2FjaGVkVHJhY2tzW2tleV0ucHVzaHBpbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkVHJhY2tzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4ID0gMTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmQgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tSYW5raW5nID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2sudXNlci5pZCBpbiB0cmFja0RpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrRGljdGlvbmFyeVt0cmFjay51c2VyLmlkXS5jb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLnVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJjb3VudFwiXSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja0RpY3Rpb25hcnlbdHJhY2sudXNlci5pZF0gPSB0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRyYWNrRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrUmFua2luZy5wdXNoKHRyYWNrRGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja1Jhbmtpbmcuc29ydCgoeCwgeSkgPT4geS5jb3VudCAtIHguY291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJhY2tSYW5raW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYWRlcmJvYXJkLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiBsZWFkZXJib2FyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFkZXJib2FyZC5wdXNoKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xldCBmaWx0ZXJlZERvY3VtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtRnJlcXVlbmNpZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBiYXNlVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMjQgKiA2MCAqIDYwICogMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBlcHNpbG9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybVNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godHJhY2submFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtU2V0LmluY2x1ZGVzKHRyYWNrLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLm5hbWUgaW4gaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0cmFjay5uYW1lXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3RyYWNrLm5hbWVdID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybVNldC5wdXNoKHRyYWNrLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaCh0b2tlbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50cy5wdXNoKHsgdG9rZW5zOiB0b2tlbnMsIHRpbWVzdGFtcDogdXNlci50aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSwgaW1hZ2U6IFwiaW1hZ2VcIiBpbiB1c2VyID8gdXNlci5pbWFnZSA6IG51bGwgfSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB1c2VyICYmIHVzZXIud29yZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gPSBNYXRoLmxvZyhkb2N1bWVudHMubGVuZ3RoIC8gKGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldICsgZXBzaWxvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQudGltZXN0YW1wICogMTAwMCA+IGJhc2VUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gbWluOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGYgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSArPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW3Rva2VuXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRmW2tleV0gLz0gZG9jdW1lbnQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBzY29yZURpY3Rpb25hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaWN0aW9uYXJ5W2tleV0gPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1GcmVxdWVuY2llcy5wdXNoKHRmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm1GcmVxdWVuY3kgb2YgdGVybUZyZXF1ZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZmlkZiA9IHRlcm1GcmVxdWVuY3lba2V5XSAqIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGZpZGYgPiBzY29yZURpY3Rpb25hcnlba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMSAmJiBrZXkgIT0gXCIuLi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goeyB0ZXJtOiBrZXksIHZhbHVlOiBzY29yZURpY3Rpb25hcnlba2V5XSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHkudmFsdWUgLSB4LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3Jlcy5sZW5ndGggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNwbGljZShtYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlLnZhbHVlID4gbWF4U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc2NvcmUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2Ygc2NvcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlLnZhbHVlIC89IG1heFNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNvcnQoKHgsIHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgudGVybSA+IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeC50ZXJtIDwgeS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtkb2N1bWVudHMsIHNjb3Jlc10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWREb2N1bWVudHMuc3BsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3Muc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2YgcmVzdWx0c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0c1sxXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5wdXNoKHsgaW5kZXg6IGksIG5hbWU6IHJlc3VsdHNbMV1baV0udGVybSwgc2NvcmU6IHJlc3VsdHNbMV1baV0udmFsdWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmlzQmxpbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvL2FjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbiAoaWdub3JlLCBsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZWNpc2lvbnMgPSB7IDE6IDIsIDI6IDIsIDM6IDIsIDQ6IDIsIDU6IDIsIDY6IDIsIDc6IDIsIDg6IDIsIDk6IDIsIDEwOiAzLCAxMTogMywgMTI6IDQsIDEzOiA0LCAxNDogNCwgMTU6IDUsIDE2OiA1LCAxNzogNSwgMTg6IDYsIDE5OiA2LCAyMDogNiB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyR2VvaGFzaCA9IHRoaXMuZW5jb2RlR2VvaGFzaChsYXRpdHVkZSwgbG9uZ2l0dWRlLCBwcmVjaXNpb25zW3RoaXMubWFwLmdldFpvb20oKV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdlb2hhc2hlcyA9IFtjZW50ZXJHZW9oYXNoXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBSZWNlbnQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmltaXRpdmVzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZGVjb2RlR2VvaGFzaChjZW50ZXJHZW9oYXNoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcENhY2hlID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5wdXNoKG5ldyBNaWNyb3NvZnQuTWFwcy5Qb2x5Z29uKFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3ByaWdodC5sYXRpdHVkZSwgcmVjdC50b3ByaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbXJpZ2h0LmxhdGl0dWRlLCByZWN0LmJvdHRvbXJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tbGVmdC5sYXRpdHVkZSwgcmVjdC5ib3R0b21sZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wbGVmdC5sYXRpdHVkZSwgcmVjdC50b3BsZWZ0LmxvbmdpdHVkZSldLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmVkJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDFcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2VudGVyR2VvaGFzaC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5nZXROZWlnaGJvcnMoY2VudGVyR2VvaGFzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5laWdoYm9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9oYXNoZXMucHVzaChuZWlnaGJvcnNba2V5XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5kZWNvZGVHZW9oYXNoKG5laWdoYm9yc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMucHVzaChuZXcgTWljcm9zb2Z0Lk1hcHMuUG9seWdvbihbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcHJpZ2h0LmxhdGl0dWRlLCByZWN0LnRvcHJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21yaWdodC5sYXRpdHVkZSwgcmVjdC5ib3R0b21yaWdodC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tbGVmdC5sYXRpdHVkZSwgcmVjdC5ib3R0b21sZWZ0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKV0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIuc2V0UHJpbWl0aXZlcyhwcmltaXRpdmVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5UXVldWUucHVzaChjZW50ZXJHZW9oYXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdlb2hhc2ggb2YgZ2VvaGFzaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZ25vcmUgJiYgZ2VvaGFzaCBpbiB0aGlzLnF1ZXJ5Q2FjaGUgJiYgdGltZXN0YW1wIC0gdGhpcy5xdWVyeUNhY2hlW2dlb2hhc2hdLnRpbWVzdGFtcCA8IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB1c2VyIG9mIHRoaXMucXVlcnlDYWNoZVtnZW9oYXNoXS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUmVjZW50LnB1c2godXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlb2hhc2ggaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0ucHVzaCh1c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXSA9IFt1c2VyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3NcIikub3JkZXJCeUNoaWxkKFwia2V5XCIpLmxpbWl0VG9MYXN0KDUwKS5zdGFydEF0KGdlb2hhc2gpLmVuZEF0KGdlb2hhc2gucGFkRW5kKDEyLCBcInpcIikgKyBcIlxcdWY4ZmZcIikub25jZSgndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENhY2hlW2dlb2hhc2hdID0geyB0aW1lc3RhbXA6IHRpbWVzdGFtcCwgZGF0YTogW10gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XVtcImlkXCJdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFJlY2VudC5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ2FjaGVbZ2VvaGFzaF0uZGF0YS5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlb2hhc2ggaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0ucHVzaChkaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdID0gW2RpY3Rpb25hcnlba2V5XV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVlcnlRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBnZW9oYXNoIGluIHRlbXBDYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlDYWNoZVtnZW9oYXNoXSA9IHRlbXBDYWNoZVtnZW9oYXNoXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5Q2FjaGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgLSBzZWxmLnF1ZXJ5Q2FjaGVba2V5XS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5xdWVyeUNhY2hlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZW50ID0gdGhpcy50YWtlKHRlbXBSZWNlbnQuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcCksIDEwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRhdGFba2V5XS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVjZW50LmluY2x1ZGVzKGRhdGFba2V5XVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFba2V5XS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2tleV0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvY2F0ZTogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4ocGVybWlzc2lvblN0YXRlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0ZSA9PT0gXCJncmFudGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlbW90aW9uXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFnID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChhZy54ICogYWcueCArIGFnLnkgKiBhZy55ICsgYWcueiAqIGFnLnopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNTdGVwcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCA5LjgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N0ZXBwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA+IDEyLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGVwcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcInBlcm1pc3Npb25zXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJncmFudGVkXCIgfHwgcGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcInByb21wdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2F0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0xvY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2NhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcImdyYW50ZWRcIiB8fCBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwicHJvbXB0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8qdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wia2V5XCJdID0gZ2VvaGFzaCArIHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcIm5hbWVcIl0gPSBzZWxmLnVzZXIuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJpbWFnZVwiXSA9IHNlbGYudXNlci5waG90b1VSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvKn0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VuZDogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RlYnVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFncyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0aGlzLmlucHV0LnNwbGl0KC9cXHMvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlcy5zb21lKCh4KSA9PiB4LmlkID09PSB0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiAwICYmIHRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9pbWFnZXMvXCIgKyBrZXkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcInRhZ3NcIl0gPSB0YWdzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMZWFybmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFybih7IG5hbWU6IHRoaXMuaW5wdXQsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMuYmFja2dyb3VuZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGltYWdlLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5pbnB1dC5sZW5ndGggPD0gdGhpcy5tYXhJbnB1dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhcm4oeyBuYW1lOiB0aGlzLmlucHV0LCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEltYWdlOiBhc3luYyBmdW5jdGlvbiAocHVzaHBpbiwgdXNlciwgc2VsZWN0ZWQgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnN0IGhvdXJzID0gbmV3IERhdGUodHJhY2sucG9zaXRpb24udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZVwiIGluIHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLypwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMTggMThcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEsMCwwLDEsLTE3LjcwNzcsLTE4Ljc1MzgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yNi43MDgsMTkuNzU0QzMxLjEyMywxOS43NTQgMzQuNzA4LDIzLjMzOSAzNC43MDgsMjcuNzU0QzM0LjcwOCwzMi4xNjkgMzEuMTIzLDM1Ljc1NCAyNi43MDgsMzUuNzU0QzIyLjI5MiwzNS43NTQgMTguNzA4LDMyLjE2OSAxOC43MDgsMjcuNzU0QzE4LjcwOCwyMy4zMzkgMjIuMjkyLDE5Ljc1NCAyNi43MDgsMTkuNzU0Wk0yNi43MDgsMjMuNzU0QzI4LjkxNSwyMy43NTQgMzAuNzA4LDI1LjU0NiAzMC43MDgsMjcuNzU0QzMwLjcwOCwyOS45NjIgMjguOTE1LDMxLjc1NCAyNi43MDgsMzEuNzU0QzI0LjUsMzEuNzU0IDIyLjcwOCwyOS45NjIgMjIuNzA4LDI3Ljc1NEMyMi43MDgsMjUuNTQ2IDI0LjUsMjMuNzU0IDI2LjcwOCwyMy43NTRaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmltYWdlLnN0YXJ0c1dpdGgoXCJnczovL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKHVzZXIuaW1hZ2UpLmdldERvd25sb2FkVVJMKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gdXNlci5pbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1NFwiIHZpZXdCb3g9XCIwIDAgNTAgNTRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC40MTA1NzQsMCwwLDAuNDEwNTc0LDM0LjA0OTgsMjYuNzY5NClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCwtNy4yOUMtMC4zMTEsLTguMjQ3IC0xLjEzOCwtOC45NDQgLTIuMTMzLC05LjA4OUwtOS4yMSwtMTAuMTE3TC0xMi4zNzUsLTE2LjUyOUMtMTIuODE5LC0xNy40MzIgLTEzLjczOCwtMTguMDAzIC0xNC43NDQsLTE4LjAwM0MtMTUuNzUsLTE4LjAwMyAtMTYuNjcsLTE3LjQzMiAtMTcuMTE0LC0xNi41M0wtMjAuMjc5LC0xMC4xMTdMLTI3LjM1NSwtOS4wODlDLTI4LjM1MiwtOC45NDQgLTI5LjE3OSwtOC4yNDcgLTI5LjQ5LC03LjI5Qy0yOS44MDEsLTYuMzMzIC0yOS41NDEsLTUuMjgzIC0yOC44MiwtNC41ODFMLTIzLjcsMC40MUwtMjQuOTA4LDcuNDU5Qy0yNS4wNzgsOC40NSAtMjQuNjcyLDkuNDUyIC0yMy44NTcsMTAuMDQzQy0yMy4wNDMsMTAuNjM1IC0yMS45NjUsMTAuNzEzIC0yMS4wNzQsMTAuMjQ0TC0xNC43NDQsNi45MTdMLTguNDE1LDEwLjI0NEMtOC4wMjgsMTAuNDQ3IC03LjYwNiwxMC41NDggLTcuMTg2LDEwLjU0OEMtNi42MzgsMTAuNTQ4IC02LjA5MiwxMC4zNzcgLTUuNjMyLDEwLjA0M0MtNC44MTgsOS40NTIgLTQuNDEsOC40NSAtNC41OCw3LjQ1OEwtNS43ODksMC40MUwtMC42NjgsLTQuNTgxQzAuMDUyLC01LjI4MyAwLjMxMiwtNi4zMzMgMCwtNy4yOVwiIHN0eWxlPVwiZmlsbDp3aGl0ZTtmaWxsLXJ1bGU6bm9uemVybztcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBvcGFjaXR5ID0gaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIwLjA1XCIgOiBcIjFcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGFjY2VudENvbG9yID0gc2VsZi51c2VyLnVpZCA9PT0gd29yZC5pZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHNlbGVjdGVkQ29sb3IgPSBzZWxlY3RlZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICdyZ2IoMjU0LDIyMSw4MCknO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubGluZVN2ZyA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjU0XCIgdmlld0JveD1cIjAgMCA1MCA1NFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxuczpzZXJpZj1cImh0dHA6Ly93d3cuc2VyaWYuY29tL1wiIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC45OTk5OTksMCwwLDAuOTk5OTk5LDE3LjAwMTEsLTEzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLjk2NDkxLDAsMCwxLjk2NDkxLC0zMC4wMDk5LC0yNC41OTMxKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjc5MTY2NywwLDAsMC43OTE2NjcsNS44MzI0OSw1LjI1ODIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIgc3R5bGU9XCJmaWxsOndoaXRlO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NsaXBQYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJCYWNrZ3JvdW5kXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMDIzODU2LDAsMCwwLjAyMzg1NiwtMi41Mzk2NCwtNS4yOTY1OClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI19JbWFnZTNcIiB4PVwiNzY3XCIgeT1cIjc2N1wiIHdpZHRoPVwiMTAyNnB4XCIgaGVpZ2h0PVwiMTAyNnB4XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpZD1cIl9JbWFnZTNcIiB3aWR0aD1cIjEwMjZweFwiIGhlaWdodD1cIjEwMjZweFwiIHhsaW5rOmhyZWY9XCJgICsgYy50b0RhdGFVUkwoKSArIGBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGlubGluZVN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBsb2FkOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlVXVpZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2Nocm9tZS1wbGF0Zm9ybS1hbmFseXRpY3MvYmxvYi9tYXN0ZXIvc3JjL2ludGVybmFsL2lkZW50aWZpZXIuanNcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBGT1JNQVQ6IHN0cmluZyA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJzID0gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnNbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNikudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1tpXSA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDgpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBldmVudC50YXJnZXQuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubmFtZSA+IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgubmFtZSA8IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYuY2hpbGQoYGltYWdlcy8ke2dlbmVyYXRlVXVpZCgpfWApLnB1dChmaWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkVGFzay5vbihcInN0YXRlX2NoYW5nZWRcIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzIC8gZmlsZXMubGVuZ3RoICsgcGF0aHMubGVuZ3RoIC8gZmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhzLnB1c2godXBsb2FkVGFzay5zbmFwc2hvdC5yZWYuZnVsbFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9pbWFnZXNcIikucHVzaCh7IHBhdGhzOiBwYXRocywgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhcm46IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImF0dHJpYnV0ZXNcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB3b3JkLm5hbWUpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB3LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmQgPSB7IG5hbWU6IHdvcmQubmFtZSwgYXR0cmlidXRlczogYXR0cmlidXRlcyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImxvY2F0aW9uXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcImxvY2F0aW9uXCJdID0gd29yZC5sb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcInVzZXJcIl0gPSB3b3JkLnVzZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hhcmU6IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gXCJsb2NhdGlvblwiIGluIHdvcmQgPyB3b3JkLmxvY2F0aW9uIDogdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxvY2F0aW9uLmxhdGl0dWRlLCBsb2NhdGlvbi5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHsgaWQ6IHRoaXMudXNlci51aWQsIG5hbWU6IHRoaXMudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHRoaXMudXNlci5waG90b1VSTCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5wcm92aWRlckRhdGFbMF0ucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGF3YWl0IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3VzZXJzLyR7dGhpcy51c2VyLnVpZH0vbGlua2ApLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImxpbmtcIl0gPSBsaW5rLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHdvcmQubmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIGN1cnJlbnQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxldGVSZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0geyBhdHRyaWJ1dGVzOiB7fSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIGN1cnJlbnQuYXR0cmlidXRlcyAmJiBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gdGltZXN0YW1wIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGF0dHJpYnV0ZXM6IHt9LCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widXNlclwiXSA9IHsgaWQ6IHdvcmQudXNlci5pZCwgbmFtZTogd29yZC51c2VyLm5hbWUsIGltYWdlOiB3b3JkLnVzZXIuaW1hZ2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9LCBhc3luYyBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPT09IFwibnVtYmVyXCIgJiYgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPiAwICYmIHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChkaWN0aW9uYXJ5LmF0dHJpYnV0ZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSBkaWN0aW9uYXJ5LnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQpXFx9L2csIGZ1bmN0aW9uIChtLCBjKSB7IHJldHVybiBhcmdzW3BhcnNlSW50KGMpICsgMV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlbGYucHJlcGFyZShzZWxmLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIHdvcmQubmFtZSksIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGFyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGFyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy50d2lua2xlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIHdvcmQgPT09IGZhbHNlIHx8IHdvcmQudXNlci5pZCA9PT0gc2VsZi51c2VyLnVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wia2V5XCJdID0gYCR7Z2VvaGFzaH0ke3RpbWVzdGFtcH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHsga2V5OiBgJHtnZW9oYXNofSR7dGltZXN0YW1wfWAsIG5hbWU6IHdvcmQubmFtZSwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IGRpY3Rpb25hcnkuYXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiYXR0cmlidXRlc1wiXSA9IGF0dHJpYnV0ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdHJhY2tzYCkucHVzaCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuc2V0KHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IHdvcmQuYXR0cmlidXRlcywgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wLCB1c2VyOiB7IGlkOiBzZWxmLnVzZXIudWlkLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwgfSB9LCBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ICYmIGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInVzZXJcIiBpbiB3b3JkID09PSBmYWxzZSB8fCB3b3JkLnVzZXIuaWQgPT09IHNlbGYudXNlci51aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrcy9cIiArIGF3YWl0IHNlbGYuZGlnZXN0TWVzc2FnZShgJHtzZWxmLnVzZXIudWlkfSYke3dvcmQubmFtZX1gKSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImtleVwiXSA9IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wibG9jYXRpb25cIl0gPSB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInVzZXJcIl0gPSB1c2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gdGltZXN0YW1wIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBrZXk6IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YCwgbmFtZTogd29yZC5uYW1lLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIGF0dHJpYnV0ZXM6IHt9LCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jIGZ1bmN0aW9uICh1c2VySWQsIHN0YXJ0QXQsIGxpbWl0ID0gNTApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRBdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkubGltaXRUb0ZpcnN0KGxpbWl0ICsgMSkub25jZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLnN0YXJ0QXQoc3RhcnRBdCkubGltaXRUb0ZpcnN0KGxpbWl0ICsgMSkub25jZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdGhpcy5tb2RlICYmIHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZS53b3JkcyAhPT0gbnVsbCAmJiB0aGlzLm1vZGUud29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUuaW5kZXhlcy5wdXNoKHRoaXMubW9kZS53b3Jkc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3Jkcy5wdXNoKFwidXNlclwiIGluIHdvcmRzW25hbWVdID8geyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzLCB1c2VyOiB3b3Jkc1tuYW1lXS51c2VyIH0gOiB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzLmxlbmd0aCA9PT0gbGltaXQgKyAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gdGhpcy5tb2RlLndvcmRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiBhc3luYyBmdW5jdGlvbiAodXNlcklkLCBzdGFydEF0LCBsaW1pdCA9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlLZXkoKS5zdGFydEF0KHN0YXJ0QXQpLmxpbWl0VG9GaXJzdChsaW1pdCkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdGhpcy5tb2RlICYmIHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZS53b3JkcyAhPT0gbnVsbCAmJiB0aGlzLm1vZGUud29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUubmV4dCA9IHRoaXMubW9kZS53b3Jkc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLndvcmRzLnB1c2goXCJ1c2VyXCIgaW4gd29yZHNbbmFtZV0gPyB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMsIHVzZXI6IHdvcmRzW25hbWVdLnVzZXIgfSA6IHsgbmFtZTogbmFtZSwgYXR0cmlidXRlczogd29yZHNbbmFtZV0uYXR0cmlidXRlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpc2NvdmVyOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkU2V0ID0ge307XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJlY2VudFdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci51aWQgIT09IHdvcmQudXNlci5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkU2V0W3dvcmQubmFtZV0gPSB3b3JkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhY2hlZFRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIudWlkICE9PSB0aGlzLmNhY2hlZFRyYWNrc1trZXldLnVzZXIuaWQgJiYgdGhpcy5jYWNoZWRUcmFja3Nba2V5XS5uYW1lIGluIHdvcmRTZXQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2godGhpcy5jYWNoZWRUcmFja3Nba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEaXNjb3ZlcmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHNodWZmbGUod29yZHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgd29yZC5uYW1lKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHdvcmQubmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4geyBrZXk6IHdvcmQua2V5LCBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IHdvcmQuYXR0cmlidXRlcywgbG9jYXRpb246IHdvcmQubG9jYXRpb24sIGdlb2hhc2g6IHdvcmQuZ2VvaGFzaCwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzbmFwc2hvdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEaXNjb3ZlcmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJEaXNjb3ZlclwiKSwgd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIHdvcmQubmFtZSksIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLmFsdGVybmF0aXZlLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJEaXNjb3ZlclwiKSwgd29yZC5uYW1lLCB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS5zZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIGNoYXJhY3RlcjogdGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUsIHRleHQ6IGZvcm1hdChvYmoudGV4dCwgd29yZC5uYW1lKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJjaGFyYWN0ZXJcIl0gPSB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXJuKHsgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiB3b3JkLmF0dHJpYnV0ZXMsIGxvY2F0aW9uOiB3b3JkLmxvY2F0aW9uLCB1c2VyOiB3b3JkLnVzZXIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbih3b3JkLmxvY2F0aW9uLmxhdGl0dWRlLCB3b3JkLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rpc2NvdmVyaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkRpc2NvdmVyXCIpLCBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBvYmoudGV4dCwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkRpc2NvdmVyXCIpLCBcIlwiLCB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS5zZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIGNoYXJhY3RlcjogdGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUsIHRleHQ6IG9iai50ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcImNoYXJhY3RlclwiXSA9IHRoaXMuY2hhcmFjdGVyLmFsdGVybmF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaWdlc3RNZXNzYWdlOiBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVWludDggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFjdGl2YXRlOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZGxlVGltZSA9IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWREb2N1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50UXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IFtdLmNvbmNhdChhcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gX3JhbmRvbSgwLCBuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtuXSA9IGFba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2Ygc2h1ZmZsZSh0aGlzLmNhY2hlZERvY3VtZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRRdWV1ZS5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50UXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnRhbGsodGhpcy51c2VyLnVpZCwgZG9jdW1lbnQuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWxrOiBhc3luYyBmdW5jdGlvbiAodXNlcklkLCB0b2tlbnMgPSBbXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJBY3RpdmF0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IFtdLmNvbmNhdChhcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gX3JhbmRvbSgwLCBuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtuXSA9IGFba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjAgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3RhdGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRlciA9IG5ldyBUaW55U2VnbWVudGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuU2V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXSA9IHsgYXR0cmlidXRlczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2h1ZmZsZShzZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXBhcmVkU2VxdWVuY2UgPSB0aGlzLnByZXBhcmUoW3NdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzQWJvcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHByZXBhcmVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIEFycmF5LmlzQXJyYXkoby50ZXh0KSA/IG8udGV4dCA6IHNlZ21lbnRlci5zZWdtZW50KG8udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBwcmVwYXJlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0ZXh0LCBjYWNoZV0gPSB0ZW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogdGV4dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmxlbmd0aCA+IDEgJiYgIXRva2VuU2V0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRoaXMud29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUodXNlcklkLCBvYmoudGV4dCwgdG9rZW5zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogdGV4dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWJvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5TZXQucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWJvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzID0gdGVtcFN0YXRlcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUoc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUodXNlcklkLCBvYmoudGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZW5lcmF0ZTogYXN5bmMgZnVuY3Rpb24gKHVzZXJJZCwgbWVzc2FnZSwgaGludHMgPSBbXSkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hvaWNlKHByb2JhYmlsaXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHByb2JhYmlsaXR5IG9mIHByb2JhYmlsaXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1bSA8PSByICYmIHIgPCBzdW0gKyBwcm9iYWJpbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwcm9iYWJpbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzb2Z0bWF4KHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeFtpXSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0geFtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBNYXRoLmV4cCh4W2ldIC0gbWF4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5LnB1c2goTWF0aC5leHAoeFtpXSAtIG1heCkgLyBzdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjAgKiA2MDtcclxuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ZXIgPSBuZXcgVGlueVNlZ21lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IEFycmF5LmlzQXJyYXkobWVzc2FnZSkgPyBtZXNzYWdlIDogc2VnbWVudGVyLnNlZ21lbnQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGludERpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlblNldCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChcIlsuIyRcXFxcW1xcXFxdXVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBjYWNoRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmVhbVdpZHRoID0gMTA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VzID0gW3sgc2VxdWVuY2U6IFtdLCBzY29yZTogMS4wIH1dXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBoaW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB0b2tlbikub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pID09PSBcIm51bWJlclwiICYmIHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCAmJiB0aGlzLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiBoaW50RGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludERpY3Rpb25hcnlbYXR0cmlidXRlXS5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0gPSBbdG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlblNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IHRhZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh0YWcuc2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGVwc2lsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoYGF0dHJpYnV0ZXMvJHthdHRyaWJ1dGV9YCkubGltaXRUb0xhc3QoMTAwKS5zdGFydEF0KDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdID0geyB3b3JkczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmluY2x1ZGVzKHdvcmQpICYmICF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlZ2V4LnRlc3QodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB0b2tlbikub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXSA9IHsgYXR0cmlidXRlczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBpbiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiBoaW50RGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1zLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUNoaWxkKGBhdHRyaWJ1dGVzLyR7YXR0cmlidXRlfWApLmxpbWl0VG9MYXN0KDEwMCkuc3RhcnRBdCgxKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXSA9IHsgd29yZHM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmluY2x1ZGVzKHdvcmQpICYmICF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gc2VxdWVuY2VzW2Nob2ljZShzb2Z0bWF4KHNlcXVlbmNlcy5tYXAoeCA9PiB4LnNjb3JlKSkpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gaW4gY2FjaERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoRGljdGlvbmFyeVt0b2tlbnNbaV1dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcy5zZXF1ZW5jZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VxdWVuY2Vbal0uaW5kZXggPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gPT0gcy5zZXF1ZW5jZVtqXS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hEaWN0aW9uYXJ5W3Rva2Vuc1tpXV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXSA9IHMuc2VxdWVuY2Vbal0udGVybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzLnNlcXVlbmNlW2pdLnRlcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0ZXh0LCBjYWNoRGljdGlvbmFyeV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtcImlkXCJdID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09PSBkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24sIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiBzaHVmZmxlKHRoaXMucmVjZW50SW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5wdXNoKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBpbWFnZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHsgaWQ6IGltYWdlLmlkLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQocGF0aCkuZ2V0RG93bmxvYWRVUkwoKSwgdGltZXN0YW1wOiBpbWFnZS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGltYWdlLnRhZ3MuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbWFnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGltYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltYWdlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogaW1hZ2UudGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxUaW1lb3V0SUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0SUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGV2ZW50KS5mb3JtYXQoXCJMVFwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25IZWlnaHQgPSBzZWxmLiRyZWZzLm5vdGlmaWNhdGlvbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVhZGVyYm9hcmRIZWlnaHQgPSBzZWxmLiRyZWZzLmxlYWRlcmJvYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpY2tlclVwZGF0ZWQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXJyYW5nZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24sIGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm93cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA8IGxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2goY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnMgPSBbaXRlbV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaChjb2x1bW5zKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93cztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFrZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24sIGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5sZW5ndGggPiBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gW10uY29uY2F0KGNvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShjb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXZlcnNlOiBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChjb2xsZWN0aW9uKS5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcih0aW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHQgLyA4NjQwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodCAvIDM2MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodCAvIDYwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSB0ICUgNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRheXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKyBcImRcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWludXRlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBob3VycyArIFwiaFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyBcIm1cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vjb25kcyArIFwic1wiO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaWdlc3RNZXNzYWdlOiBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVWludDggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLCBtc2dVaW50OCk7ICAgICAgICAgICAvLyBoYXNoIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTsgICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNoSGV4ID0gaGFzaEFycmF5Lm1hcChiID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldERpc3RhbmNlOiBmdW5jdGlvbiAobGF0MSwgbG9uMSwgbGF0MiwgbG9uMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIFIgPSA2MzcxOyAvLyBSYWRpdXMgb2YgdGhlIGVhcnRoIGluIGttXHJcbiAgICAgICAgICAgICAgICB2YXIgZExhdCA9IHRoaXMuZGVnMnJhZChsYXQyIC0gbGF0MSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZExvbiA9IHRoaXMuZGVnMnJhZChsb24yIC0gbG9uMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYSA9XHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aGlzLmRlZzJyYWQobGF0MSkpICogTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDIpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oZExvbiAvIDIpICogTWF0aC5zaW4oZExvbiAvIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBSICogYzsgLy8gRGlzdGFuY2UgaW4ga21cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVnMnJhZDogZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbmNvZGVHZW9oYXNoOiBmdW5jdGlvbiAobGF0aXR1ZGUsIGxvbmdpdHVkZSwgcHJlY2lzaW9uID0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdlb2hhc2ggPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGxhdFswXSA9IC05MC4wOyBsYXRbMV0gPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgbG9uWzBdID0gLTE4MC4wOyBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZ2VvaGFzaC5sZW5ndGggPCBwcmVjaXNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfZXZlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2l0dWRlID4gbWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaCB8PSBCSVRTW2JpdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMF0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzFdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlzX2V2ZW4gPSAhaXNfZXZlbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdCA8IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvaGFzaCArPSBCQVNFMzJbY2hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW9oYXNoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWNvZGVHZW9oYXNoOiBmdW5jdGlvbiAoZ2VvaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQklUUyA9IFsxNiwgOCwgNCwgMiwgMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNfZXZlbiA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0ID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0X2VyciA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uX2VyciA9IDE4MC4wO1xyXG5cclxuICAgICAgICAgICAgICAgIGxhdFswXSA9IC05MC4wO1xyXG4gICAgICAgICAgICAgICAgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDtcclxuICAgICAgICAgICAgICAgIGxvblsxXSA9IDE4MC4wO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvaGFzaC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZ2VvaGFzaFtpXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2QgPSBCQVNFMzIuaW5kZXhPZihjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA1OyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFzayA9IEJJVFNbal07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNfZXZlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uX2VyciAvPSAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZCAmIG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMF0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdF9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzBdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V2ZW4gPSAhaXNfZXZlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGF0WzJdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgbG9uWzJdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGxhdFsyXSxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGxvblsyXSxcclxuICAgICAgICAgICAgICAgICAgICB0b3BsZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMF0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogeyBsYXRpdHVkZTogbGF0WzFdLCBsb25naXR1ZGU6IGxvblsxXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbWxlZnQ6IHsgbGF0aXR1ZGU6IGxhdFswXSwgbG9uZ2l0dWRlOiBsb25bMV0gfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0TmVpZ2hib3JzOiBmdW5jdGlvbiAoZ2VvaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRHZW9oYXNoID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAncmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRHZW9oYXNoID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAnbGVmdCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2JvdHRvbScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByaWdodEdlb2hhc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdEdlb2hhc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChsZWZ0R2VvaGFzaCwgJ3RvcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KHJpZ2h0R2VvaGFzaCwgJ3RvcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbXJpZ2h0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KHJpZ2h0R2VvaGFzaCwgJ2JvdHRvbScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbWxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICdib3R0b20nKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FsY3VsYXRlQWRqYWNlbnQ6IGZ1bmN0aW9uIChzcmNIYXNoLCBkaXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IE5FSUdIQk9SUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjMDFmZzQ1MjM4OTY3ZGV1dmhqeXpucGttc3Rxcnd4XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMjM4OTY3ZGViYzAxZmc0NWttc3Rxcnd4dXZoanl6bnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInAwcjIxNDM2eDh6YjlkY2Y1aDdram5tcWVzZ3V0d3Z5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHsgZXZlbjogXCIxNDM2NWg3azlkY2Zlc2d1am5tcXAwcjJ0d3Z5eDh6YlwiIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCT1JERVJTID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB7IGV2ZW46IFwiYmNmZ3V2eXpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsgZXZlbjogXCIwMTQ1aGpucFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB7IGV2ZW46IFwicHJ4elwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMDI4YlwiIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLmJvdHRvbS5vZGQgPSBORUlHSEJPUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgTkVJR0hCT1JTLnRvcC5vZGQgPSBORUlHSEJPUlMucmlnaHQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5sZWZ0Lm9kZCA9IE5FSUdIQk9SUy5ib3R0b20uZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5yaWdodC5vZGQgPSBORUlHSEJPUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5ib3R0b20ub2RkID0gQk9SREVSUy5sZWZ0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnRvcC5vZGQgPSBCT1JERVJTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLmxlZnQub2RkID0gQk9SREVSUy5ib3R0b20uZXZlbjtcclxuICAgICAgICAgICAgICAgIEJPUkRFUlMucmlnaHQub2RkID0gQk9SREVSUy50b3AuZXZlbjtcclxuXHJcbiAgICAgICAgICAgICAgICBzcmNIYXNoID0gc3JjSGFzaC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hyID0gc3JjSGFzaC5jaGFyQXQoc3JjSGFzaC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gKHNyY0hhc2gubGVuZ3RoICUgMikgPyAnb2RkJyA6ICdldmVuJztcclxuICAgICAgICAgICAgICAgIHZhciBiYXNlID0gc3JjSGFzaC5zdWJzdHJpbmcoMCwgc3JjSGFzaC5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoQk9SREVSU1tkaXJdW3R5cGVdLmluZGV4T2YobGFzdENocikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gdGhpcy5jYWxjdWxhdGVBZGphY2VudChiYXNlLCBkaXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlICsgQkFTRTMyW05FSUdIQk9SU1tkaXJdW3R5cGVdLmluZGV4T2YobGFzdENocildO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVwYXJlOiBmdW5jdGlvbiAoc2VxdWVuY2VzLCBzdGF0ZSA9IG51bGwsIHNlbGVjdGVkU2VxdWVuY2VzID0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2hvb3NlZFNlcXVlbmNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYXR0ZW5lZFNlcXVlbmNlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTdGF0ZSA9IHN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IG51bGwgJiYgcy5uYW1lIGluIHRoaXMuc3RhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTdGF0ZSA9IHRoaXMuc3RhdGVzW3MubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFN0YXRlICE9PSBudWxsICYmIFwic3RhdGVcIiBpbiBzICYmIHMuc3RhdGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KHRlbXBTdGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob29zZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hvb3NlZFNlcXVlbmNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2VxdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0YXRlXCIgaW4gcyA9PT0gZmFsc2UgfHwgcy5zdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvb3NlZFNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgY2hvb3NlZFNlcXVlbmNlc1tfcmFuZG9tKDAsIGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoKV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlc1tzLm5hbWVdID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBxdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic2VxdWVuY2VcIiBpbiBvYmogPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlZFNlcXVlbmNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWxsYWJsZVNlcXVlbmNlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2VsZWN0ZWRTZXF1ZW5jZXMgPT09IG51bGwgPyB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMgOiBzZWxlY3RlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhzLCBvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3BwZWRTZXF1ZW5jZSA9IHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcFNlcXVlbmNlIG9mIHN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFNlcXVlbmNlID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YWNrLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0ZW1wU3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvcHBlZFNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RhdGVcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbb2JqLm5hbWVdID0gb2JqLnN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRyYWNlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSA9PSBvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChvYmouc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSBpbiB0aGlzLnN0YXRlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRoaXMuc3RhdGVzW3MubmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBjYWxsYWJsZVNlcXVlbmNlc1tfcmFuZG9tKDAsIGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zcGxpY2UoaW5kZXgsIDAsIG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5lZFNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdHRlbmVkU2VxdWVuY2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFNlcXVlbmNlU3RhY2s6IGZ1bmN0aW9uIChzb3VyY2VTZXF1ZW5jZSwgdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZVN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHNvdXJjZVNlcXVlbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFja1tzZXF1ZW5jZVN0YWNrLmxlbmd0aCAtIDFdICE9PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gc291cmNlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNvdXJjZVNlcXVlbmNlLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhvLCB0YXJnZXRTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0ZTogYXN5bmMgZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9ICh0aW1lc3RhbXAgLSB0aGlzLmVsYXBzZWQpIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXF1ZW5jZVF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgKz0gZGVsdGFUaW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVUaW1lICs9IGRlbHRhVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2YXRlVGltZSA+PSBhY3RpdmF0ZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlZERvY3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50UXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2Ygc2h1ZmZsZSh0aGlzLmNhY2hlZERvY3VtZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50UXVldWUucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy51c2VyLnVpZCwgZG9jdW1lbnQuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWRsZVRpbWUgPj0gYmxpbmtUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaCh0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIklkbGVcIikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9ja2VkICYmIHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZVF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiQW5pbWF0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJmcmFtZXNcIiBpbiBzZXF1ZW5jZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZXF1ZW5jZVswXS5mcmFtZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJjaGFyYWN0ZXJcIiBpbiBzZXF1ZW5jZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlLnB1c2goeyBjaGFyYWN0ZXI6IHNlcXVlbmNlWzBdLmNoYXJhY3RlciwgaW1hZ2VzOiBvYmogfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25RdWV1ZS5wdXNoKHsgY2hhcmFjdGVyOiB0aGlzLmNoYXJhY3RlciwgaW1hZ2VzOiBvYmogfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG9iaikgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJpdGVyYXRpb25zXCIgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImltYWdlc1wiIGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IFwiY2hhcmFjdGVyXCIgaW4gc2VxdWVuY2VbMF0gPyBzZXF1ZW5jZVswXS5jaGFyYWN0ZXIgOiB0aGlzLmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5pdGVyYXRpb25zOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlLnB1c2goeyBjaGFyYWN0ZXI6IGMsIGltYWdlczogb2JqLmltYWdlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInNwcml0ZXNcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBcImNoYXJhY3RlclwiIGluIHNlcXVlbmNlWzBdID8gc2VxdWVuY2VbMF0uY2hhcmFjdGVyIDogdGhpcy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmouaXRlcmF0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25RdWV1ZS5wdXNoKHsgY2hhcmFjdGVyOiBjLCBpbWFnZXM6IG9iai5zcHJpdGVzIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiTWVzc2FnZVwiICYmIHRoaXMubWVzc2FnZSA9PT0gbnVsbCAmJiB0aGlzLmFuaW1hdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImNoYXJhY3RlclwiIGluIHNlcXVlbmNlWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHsgdGltZTogMCwgZHVyYXRpb246IHNlcXVlbmNlWzBdLmR1cmF0aW9uLCB0eXBlOiB7IGVsYXBzZWQ6IC0xLCBzcGVlZDogc2VxdWVuY2VbMF0uc3BlZWQsIHJldmVyc2U6IGZhbHNlLCBidWZmZXI6IFwiXCIsIGNvdW50OiAwIH0sIGNoYXJhY3Rlcjogc2VxdWVuY2VbMF0uY2hhcmFjdGVyLCB0ZXh0OiBzZXF1ZW5jZVswXS50ZXh0IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0geyB0aW1lOiAwLCBkdXJhdGlvbjogc2VxdWVuY2VbMF0uZHVyYXRpb24sIHR5cGU6IHsgZWxhcHNlZDogLTEsIHNwZWVkOiBzZXF1ZW5jZVswXS5zcGVlZCwgcmV2ZXJzZTogZmFsc2UsIGJ1ZmZlcjogXCJcIiwgY291bnQ6IDAgfSwgY2hhcmFjdGVyOiB7IG5hbWU6IHRoaXMuY2hhcmFjdGVyLm5hbWUsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSwgdGV4dDogc2VxdWVuY2VbMF0udGV4dCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2Uuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoIXRoaXMuaXNNdXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5tZXNzYWdlLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYWkubWlsY2hjaGFuLmNvbS9hcGkvc3ludGhlc2l6ZT90ZXh0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChhd2FpdCByZXNwb25zZS5ibG9iKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZSAhPT0gbnVsbCAmJiB0ZXh0ID09PSB0aGlzLm1lc3NhZ2UudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UgPT09IG51bGwgJiYgdGhpcy5hbmltYXRpb25RdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY2FjaGVkSW1hZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuY2FjaGVkU3ByaXRlcy5zb21lKHggPT4geC5zb3VyY2UgPT09IGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2FjaGVkSW1hZ2VzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkICs9IGRlbHRhVGltZSAqIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDEuMCAvIHRoaXMubWVzc2FnZS50eXBlLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubWVzc2FnZS50eXBlLmNvdW50IC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcih0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGggLyAyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCA8PSB3aWR0aCAmJiB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlciA9IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5zdWJzdHJpbmcoMCwgdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQb3B1cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggPCB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkICs9IGRlbHRhVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNBbmltYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmVsYXBzZWQgPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1BvcHVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmVsYXBzZWQgPj0gMS4wIC8gdGhpcy5tZXNzYWdlLnR5cGUuc3BlZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmNvdW50ID49IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlciArPSB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmNvdW50IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50aW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRpbWUgPj0gdGhpcy5tZXNzYWdlLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUucmV2ZXJzZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGggPT09IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSB0aGlzLm1lc3NhZ2UudGV4dC5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYW5kb21CdWZmZXIgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhckFycmF5LmluZGV4T2YodGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpKSA9PSAtMSAmJiB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkgIT0gXCJcXG5cIiAmJiB0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkubWF0Y2goL1xccy8pID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhckFycmF5LnB1c2godGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJBcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudGV4dC5jaGFyQXQoaSkgPT0gXCJcXG5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQnVmZmVyICs9IFwiXFxuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb21CdWZmZXIgKz0gY2hhckFycmF5W35+X3JhbmRvbSgwLCBjaGFyQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbUJ1ZmZlci5sZW5ndGggPiB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9ICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgKyByYW5kb21CdWZmZXIuc3Vic3RyaW5nKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgsIHJhbmRvbUJ1ZmZlci5sZW5ndGgpKS5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGV4dC5sZW5ndGggIT09IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLnNwbGl0KFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnB1c2goeyBrZXk6IGksIHZhbHVlOiBjaGFyYWN0ZXJzW2ldIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvblF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIHRoaXMuYW5pbWF0aW9uUXVldWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIGFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcml0ZSBvZiBhLmltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNvdXJjZSBpbiB0aGlzLmNhY2hlZEltYWdlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IHNwcml0ZS5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkSW1hZ2VzW3Nwcml0ZS5zb3VyY2VdID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9ja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5jaGFyYWN0ZXIubmFtZSA9PT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlcy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIHRoaXMucmVuZGVyKHRoaXMuJHJlZnMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIGFuaW1hdGlvbi5pbWFnZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlcy5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlID0gdGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZUNhY2hlZFNwcml0ZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcml0ZSBvZiB0aGlzLnJlbmRlcih0aGlzLiRyZWZzLmFsdGVybmF0aXZlLmdldENvbnRleHQoXCIyZFwiKSwgdGhpcy5hbHRlcm5hdGl2ZUNhbnZhc1dpZHRoLCB0aGlzLmFsdGVybmF0aXZlQ2FudmFzSGVpZ2h0LCBhbmltYXRpb24uaW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlcy5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUXVldWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoY3R4LCB3aWR0aCwgaGVpZ2h0LCBhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUuc291cmNlIGluIHRoaXMuY2FjaGVkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIm9wYWNpdHlcIiBpbiBzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHNwcml0ZS5vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmNhY2hlZEltYWdlc1tzcHJpdGUuc291cmNlXSwgc3ByaXRlLnggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgc3ByaXRlLnkgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgc3ByaXRlLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHNwcml0ZS5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGVzLnB1c2goc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvL2xldCBjb250YWluZXIgPSB0aGlzLiRyZWZzLmNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRUb3AgPSB0aGlzLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRCb3R0b20gPSB0aGlzLiRyZWZzLmJsYW5rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy4kcmVmcy50aWNrZXIuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQgLmNvbHVtbnM+LmNvbHVtbiAuY29udHJvbDpudGgtbGFzdC1vZi10eXBlKDEpIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpIGZvcm1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaGVhZGluZz4uY29sdW1ucz4uY29sdW1uPi5jb2x1bW5zOmZpcnN0LWNoaWxkPi5jb2x1bW4+LmNvbHVtbnM6bGFzdC1jaGlsZCAubGV2ZWw6Zmlyc3QtY2hpbGQgLmxldmVsLWl0ZW0gLmZpZWxkIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgLyp0aGlzLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIC8qZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaG9pY2UoY29sbGVjdGlvbiwgZnVuYykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0eSA9IGZ1bmMoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdW0gPD0gciAmJiByIDwgc3VtICsgcHJvYmFiaWxpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gcHJvYmFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbltpbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25zdCBib3RTdG9yYWdlSXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYm90XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsU3RvcmFnZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgIGxldCBjcmVkZW50aWFsID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IFt7IHBhdGg6IFwiL2Fzc2V0cy9taWxjaC5qc29uXCIsIHByb2JhYmlsaXR5OiAxLjAgfV07XHJcbiAgICAgICAgICAgIGNvbnN0IGFsdGVybmF0aXZlcyA9IFt7IHBhdGg6IFwiL2Fzc2V0cy9tZXJrdS5qc29uXCIsIHByb2JhYmlsaXR5OiAxLjAgfV07XHJcblxyXG4gICAgICAgICAgICBpZiAoYm90U3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm90ID0gSlNPTi5wYXJzZShib3RTdG9yYWdlSXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3QgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc011dGVkID0gYm90Lm11dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYm90XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbFN0b3JhZ2VJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBKU09OLnBhcnNlKGNyZWRlbnRpYWxTdG9yYWdlSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRhaW5lci5hZnRlcihzdGF0cy5kb21FbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRUb3AgPSB0aGlzLiRyZWZzLmluZGljYXRvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXRCb3R0b20gPSB0aGlzLiRyZWZzLmJsYW5rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFwID0gbmV3IE1pY3Jvc29mdC5NYXBzLk1hcCh0aGlzLiRyZWZzLm1hcCwge1xyXG4gICAgICAgICAgICAgICAgbWFwVHlwZUlkOiBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzTGlnaHRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlSGlnaERwaTogd2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd0xvY2F0ZU1lQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dNYXBUeXBlU2VsZWN0b3I6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd1pvb21CdXR0b25zOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dTY2FsZWJhcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWRNYXBUeXBlczogW01pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5ncmF5c2NhbGUsIE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNMaWdodCwgTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0RhcmtdXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXllciA9IG5ldyBNaWNyb3NvZnQuTWFwcy5MYXllcigpO1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5sYXllcnMuaW5zZXJ0KHRoaXMubGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIodGhpcy5tYXAsICd2aWV3Y2hhbmdlZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IGZldGNoKGNob2ljZShjaGFyYWN0ZXJzLCAoeCkgPT4geC5wcm9iYWJpbGl0eSkucGF0aCwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UxLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gYXdhaXQgcmVzcG9uc2UxLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IHRoaXMucHJlcGFyZShjaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlN0YXJ0XCIpLCBudWxsLCBjaGFyYWN0ZXIuc2VxdWVuY2VzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IGZldGNoKGNob2ljZShhbHRlcm5hdGl2ZXMsICh4KSA9PiB4LnByb2JhYmlsaXR5KS5wYXRoLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbHRlcm5hdGl2ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlMi5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZSA9IGF3YWl0IHJlc3BvbnNlMi5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlMi5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS53aWR0aCA9IGNoYXJhY3Rlci53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuaGVpZ2h0ID0gY2hhcmFjdGVyLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuZGV2aWNlV2lkdGggPSBjaGFyYWN0ZXIud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuZGV2aWNlSGVpZ2h0ID0gY2hhcmFjdGVyLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS5hbHRlcm5hdGl2ZS53aWR0aCA9IGFsdGVybmF0aXZlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS5hbHRlcm5hdGl2ZS5oZWlnaHQgPSBhbHRlcm5hdGl2ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZVdpZHRoID0gYWx0ZXJuYXRpdmUud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuYWx0ZXJuYXRpdmUuZGV2aWNlSGVpZ2h0ID0gYWx0ZXJuYXRpdmUuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIkFuaW1hdGlvblwiICYmIFwiZnJhbWVzXCIgaW4gb2JqICYmIG9iai5mcmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlcyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLmZyYW1lc1swXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG9iai5mcmFtZXNbMF0pID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaXRlcmF0aW9uc1wiIGluIG9iai5mcmFtZXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaW1hZ2VzXCIgaW4gb2JqLmZyYW1lc1swXSAmJiBvYmouZnJhbWVzWzBdLmltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdLmltYWdlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInNwcml0ZXNcIiBpbiBvYmouZnJhbWVzWzBdICYmIG9iai5mcmFtZXNbMF0uc3ByaXRlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdLnNwcml0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNvdXJjZSBpbiB0aGlzLmNhY2hlZEltYWdlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IHNwcml0ZS5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkSW1hZ2VzW3Nwcml0ZS5zb3VyY2VdID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpdGUgb2YgdGhpcy5yZW5kZXIodGhpcy4kcmVmcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCwgaW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJbXCJhbHRlcm5hdGl2ZVwiXSA9IGFsdGVybmF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlMS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VPcmllbnRhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4ocGVybWlzc2lvblN0YXRlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0ZSA9PT0gXCJncmFudGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlbW90aW9uXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFnID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChhZy54ICogYWcueCArIGFnLnkgKiBhZy55ICsgYWcueiAqIGFnLnopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNTdGVwcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCA5LjgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N0ZXBwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA+IDEyLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGVwcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFnID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBNYXRoLnNxcnQoYWcueCAqIGFnLnggKyBhZy55ICogYWcueSArIGFnLnogKiBhZy56KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNTdGVwcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgOS44KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RlcHMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N0ZXBwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkID4gMTIuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGVwcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWwgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IFwic2lnbi1pblwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhDcmVkZW50aWFsKGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5pZFRva2VuKSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5hY2Nlc3NUb2tlbikpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChjcmVkZW50aWFsLmFjY2Vzc1Rva2VuLCBjcmVkZW50aWFsLnNlY3JldCkpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBcInNpZ24taW5cIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBpcyBzaWduZWQgaW4uXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gdXNlcjtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikub24oXCJ2YWx1ZVwiLCBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFycyA9IGNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrc1wiKS5vcmRlckJ5Q2hpbGQoXCJ0aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTApLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkc1trZXldW1wiaWRcIl0gPSBrZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBXb3Jkcy5wdXNoKHdvcmRzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0ZW1wV29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW2ldLm5hbWUgPT0gd29yZC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dC5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzXCIpLm9mZihcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3dvcmRzXCIpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMDApLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgIC8qbGV0IGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5yZWNlbnRJbWFnZXMuc29tZSh4ID0+IHguaWQgPT09IGtleSAmJiB4LnRpbWVzdGFtcCA9PT0gaW1hZ2VzW2tleV0udGltZXN0YW1wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudEltYWdlcy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXNba2V5XVtcImlkXCJdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudEltYWdlcy5wdXNoKGltYWdlc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHNlbGYucmVjZW50SW1hZ2VzLCBzZWxmLm1heFRhZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgfVxyXG4gICAgICAgICAgICAgICAgLy99KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpY2tJbnRlcnZhbElEID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGlja0ludGVydmFsSUQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodnJtTW9kZWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnJlbW92ZSh2cm1Nb2RlbC5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB2cm1Nb2RlbCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KS5tb3VudChcIiNhcHBcIik7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGFwcC5pbnNldFRvcCA9IGFwcC4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5pbnNldEJvdHRvbSA9IGFwcC4kcmVmcy5ibGFuay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgYXBwLmNhbnZhc1NpemUud2lkdGggPSBhcHAuY2hhcmFjdGVyLndpZHRoO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmRldmljZVdpZHRoID0gYXBwLmNoYXJhY3Rlci53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmRldmljZUhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgYXBwLmNhbnZhc1NpemUuYWx0ZXJuYXRpdmUud2lkdGggPSBhcHAuY2hhcmFjdGVyLmFsdGVybmF0aXZlLndpZHRoO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZVdpZHRoID0gYXBwLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZUhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgYXBwLmFuaW1hdGlvblF1ZXVlLnVuc2hpZnQoeyBjaGFyYWN0ZXI6IGFwcC5jaGFyYWN0ZXIsIGltYWdlczogW10uY29uY2F0KGFwcC5jYWNoZWRTcHJpdGVzKSB9KTtcclxuXHJcbiAgICAgICAgaWYgKGFwcC5hbHRlcm5hdGl2ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBhcHAuYW5pbWF0aW9uUXVldWUudW5zaGlmdCh7IGNoYXJhY3RlcjogYXBwLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZSwgaW1hZ2VzOiBbXS5jb25jYXQoYXBwLmFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlcykgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgT2JqZWN0LmtleXMoYXBwLmNhY2hlZEltYWdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBhcHAuY2FjaGVkSW1hZ2VzW2tleV07XHJcbiAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgLy9hcHAuJHJlZnMudGlja2VyLnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0IC5jb2x1bW5zPi5jb2x1bW4gLmNvbnRyb2w6bnRoLWxhc3Qtb2YtdHlwZSgxKSAubGV2ZWw6bnRoLWxhc3Qtb2YtdHlwZSgxKSBmb3JtXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuXHJcbiAgICAgICAgLypjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5vdXRlckhlaWdodDtcclxuICAgICBcclxuICAgICAgICBibG9vbVBhc3Muc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBmeGFhU2hhZGVyLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUuc2V0KDEgLyAod2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksIDEgLyAoaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pKTtcclxuICAgICBcclxuICAgICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxuICAgICAgICByZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgIFxyXG4gICAgICAgIGNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDtcclxuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgIFxyXG4gICAgICAgIGNvbXBvc2VyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIGNvbXBvc2VyLnNldFNpemUod2lkdGgsIGhlaWdodCk7Ki9cclxuXHJcbiAgICAgICAgLyphcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAvL2FwcC5hY3RpdmF0ZSgpO1xyXG4gICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLyppZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChiZXN0SW50ZXJzZWN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaW5nQm9uZUluZGV4ID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZSA9IHsgcG9pbnQ6IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBkaXJlY3Rpb246IHsgeDogMCwgeTogMCwgfSwgZGlzdGFuY2U6IDAsIGluZGV4OiAtMSB9O1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lR3JvdXAgb2YgdnJtTW9kZWwuc3ByaW5nQm9uZU1hbmFnZXIuc3ByaW5nQm9uZUdyb3VwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZSBvZiBzcHJpbmdCb25lR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzcHJpbmdCb25lLmJvbmUuZ2V0V29ybGRQb3NpdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5kaXN0YW5jZVRvKGJlc3RJbnRlcnNlY3QucG9pbnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lLmluZGV4ID0gc3ByaW5nQm9uZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoU3RhcnRcIiksIGJlc3RJbnRlcnNlY3Qub2JqZWN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0qL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBldmVudCA9PiB7XHJcblxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIC8qaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaEVuZFwiKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICh0YXBDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRhcENvdW50Kys7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcENvdW50ID0gMDtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8qbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIGxldCBiZXN0SW50ZXJzZWN0ID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgICAgICBtb3VzZS54ID0gKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiAyLjAgLSAxLjA7XHJcbiAgICAgICAgICAgIG1vdXNlLnkgPSAtKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLyB3aW5kb3cub3V0ZXJIZWlnaHQpICogMi4wICsgMS4wO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG1vdXNlLCBjYW1lcmEpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGludGVyc2VjdCBvZiByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QuZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3RJbnRlcnNlY3QgPSBpbnRlcnNlY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBpbnRlcnNlY3QuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoYmVzdEludGVyc2VjdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwcmluZ0JvbmVJbmRleCA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZUJvbmUgPSB7IHBvaW50OiB7IHg6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgfSwgZGlyZWN0aW9uOiB7IHg6IDAsIHk6IDAsIH0sIGRpc3RhbmNlOiAwLCBpbmRleDogLTEgfTtcclxuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZUdyb3VwIG9mIHZybU1vZGVsLnNwcmluZ0JvbmVNYW5hZ2VyLnNwcmluZ0JvbmVHcm91cExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0JvbmUgb2Ygc3ByaW5nQm9uZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3ByaW5nQm9uZS5ib25lLmdldFdvcmxkUG9zaXRpb24obmV3IFRIUkVFLlZlY3RvcjMoKSkuZGlzdGFuY2VUbyhiZXN0SW50ZXJzZWN0LnBvaW50KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZS5pbmRleCA9IHNwcmluZ0JvbmVJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpbmdCb25lSW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaFN0YXJ0XCIpLCBiZXN0SW50ZXJzZWN0Lm9iamVjdC5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobW91c2UsIGNhbWVyYSk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIChyYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvL2FwcC50YWxrKGFwcC51c2VyLnVpZCk7XHJcbiAgICAgICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIHRhcENvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgLy9sb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgLypsb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaEVuZFwiKSkpO1xyXG4gICAgICAgIH0qL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZSA9PiB7XHJcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xyXG4gICAgICAgICAgICBhcHAuaXNEYXJrTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==