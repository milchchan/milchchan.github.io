!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=1)}([function(e,t,n){var i;e.exports=((i=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),t(++n%r.children.length)}),!1);var a=(performance||Date).now(),s=a,o=0,c=e(new i.Panel("FPS","#0ff","#002")),u=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new i.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){a=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(u.update(e-a,200),e>s+1e3&&(c.update(1e3*o/(e-s),100),s=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:r,setMode:t}}).Panel=function(e,t,n){var i=1/0,r=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,c=48*s,u=3*s,l=2*s,h=3*s,d=15*s,f=74*s,p=30*s,m=document.createElement("canvas");m.width=o,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,o,c),g.fillStyle=t,g.fillText(e,u,l),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(c,v){i=Math.min(i,c),r=Math.max(r,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,o,d),g.fillStyle=t,g.fillText(a(c)+" "+e+" ("+a(i)+"-"+a(r)+")",u,l),g.drawImage(m,h+s,d,f-s,p,h,d,f-s,p),g.fillRect(h+f-s,d,s,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-s,d,s,a((1-c/v)*p))}}},i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var n=d(e),i=c(h.und(n[0])?1:n[0],.1,100),r=c(h.und(n[1])?100:n[1],.1,100),a=c(h.und(n[2])?10:n[2],.1,100),s=c(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(r/i),l=a/(2*Math.sqrt(r*i)),f=l<1?u*Math.sqrt(1-l*l):0,p=l<1?(l*u-s)/f:-s+u;function m(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=0,i=0;;)if(1===m(n+=1/6)){if(++i>=16)break}else i=0;var r=n*(1/6)*1e3;return o.springs[e]=r,r}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var m,g,v=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function i(i,r,a){return((e(r,a)*i+t(r,a))*i+n(r))*i}function r(i,r,a){return 3*e(r,a)*i*i+2*t(r,a)*i+n(r)}return function(e,t,n,a){if(0<=e&&e<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(e!==t||n!==a)for(var o=0;o<11;++o)s[o]=i(.1*o,e,n);return function(r){return e===t&&n===a||0===r||1===r?r:i(c(r),t,a)}}function c(t){for(var a=0,o=1;10!==o&&s[o]<=t;++o)a+=.1;--o;var c=a+.1*((t-s[o])/(s[o+1]-s[o])),u=r(c,e,n);return u>=.001?function(e,t,n,a){for(var s=0;s<4;++s){var o=r(t,n,a);if(0===o)return t;t-=(i(t,n,a)-e)/o}return t}(t,c,e,n):0===u?c:function(e,t,n,r,a){var s,o,c=0;do{(s=i(o=t+(n-t)/2,r,a)-e)>0?n=o:t=o}while(Math.abs(s)>1e-7&&++c<10);return o}(t,a,a+.1,e,n)}}}(),y=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),i=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},m["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},m["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),m);function w(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],i=y[n],r=d(e);switch(n){case"spring":return f(e,t);case"cubicBezier":return l(v,r);case"steps":return l(p,r);default:return l(i,r)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var s=e[a];t.call(i,s,a,e)&&r.push(s)}return r}function M(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?M(t):t)}),[])}function k(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function I(e,t){return e.some((function(e){return e===t}))}function S(e){var t={};for(var n in e)t[n]=e[n];return t}function T(e,t){var n=S(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function D(e,t){var n=S(e);for(var i in t)n[i]=h.und(e[i])?t[i]:e[i];return n}function L(e){return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,c=r[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=i=o;else{var l=o<.5?o*(1+s):o+s-o*s,h=2*o-l;t=u(h,l,a+1/3),n=u(h,l,a),i=u(h,l,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+c+")"}(e):void 0;var t,n}function P(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){return e.getAttribute(t)}function q(e,t,n){if(I([n,"deg","rad","turn"],P(t)))return t;var i=o.CSS[t+n];if(!h.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;a.removeChild(r);var c=s*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?q(e,r,n):r}}function O(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(C(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&I(s,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function R(e){if(h.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function j(e,t,n,i){var r=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),a=R(e).get(t)||r;return n&&(n.transforms.list.set(t,a),n.transforms.last=t),i?q(e,a,i):a}function W(e,t,n,i){switch(O(e,t)){case"transform":return j(e,t,i,n);case"css":return E(e,t,n);case"attribute":return C(e,t);default:return e[t]||0}}function B(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=P(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function H(e,t){if(h.col(e))return L(e);if(/\s/g.test(e))return e;var n=P(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Q(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=$(t,a)),t=a}return i}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*C(e,"r")}(e);case"rect":return function(e){return 2*C(e,"width")+2*C(e,"height")}(e);case"line":return function(e){return $({x:C(e,"x1"),y:C(e,"y1")},{x:C(e,"x2"),y:C(e,"y2")})}(e);case"polyline":return Q(e);case"polygon":return function(e){var t=e.points;return Q(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function z(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=C(i,"viewBox"),s=r.width,o=r.height,c=n.viewBox||(a?a.split(" "):[0,0,s,o]);return{el:i,viewBox:c,x:c[0]/1,y:c[1]/1,w:s,h:o,vW:c[2],vH:c[3]}}function F(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=z(e.el,e.svg),a=i(),s=i(-1),o=i(1),c=n?1:r.w/r.vW,u=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*c;case"y":return(a.y-r.y)*u;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function U(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=H(h.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:h.str(e)||t?i.split(n):[]}}function G(e){return x(e?M(h.arr(e)?e.map(k):k(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function _(e){var t=G(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:R(e)}}}))}function V(e,t){var n=S(t);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),h.arr(e)){var i=e.length;2===i&&!h.obj(e[0])?e={value:e}:h.fnc(t.duration)||(n.duration=t.duration/i)}var r=h.arr(e)?e:[e];return r.map((function(e,n){var i=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(i.delay)&&(i.delay=n?0:t.delay),h.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i})).map((function(e){return D(e,n)}))}function Z(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=D(function(e){for(var t=x(M(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var r=t[i];n[r]=e.map((function(e){var t={};for(var n in e)h.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)i(r);return n}(i),t)),t)h.key(r)&&n.push({name:r,tweens:V(t[r],e)});return n}function J(e,t){var n;return e.tweens.map((function(i){var r=function(e,t){var n={};for(var i in e){var r=A(e[i],t);h.arr(r)&&1===(r=r.map((function(e){return A(e,t)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),a=r.value,s=h.arr(a)?a[1]:a,o=P(s),c=W(t.target,e.name,o,t),u=n?n.to.original:c,l=h.arr(a)?a[0]:u,d=P(l)||P(c),f=o||d;return h.und(s)&&(s=u),r.from=U(l,f),r.to=U(B(s,l),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=w(r.easing,r.duration),r.isPath=h.pth(a),r.isPathTargetInsideSVG=r.isPath&&h.svg(t.target),r.isColor=h.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function X(e,t){_(e).forEach((function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=P(i),s=W(r,n,a,e),o=B(H(i,a||P(s)),s),c=O(r,n);Y[c](r,n,o,e.transforms,!0)}}))}function K(e,t){return x(M(e.map((function(e){return t.map((function(t){return function(e,t){var n=O(e.target,t.name);if(n){var i=J(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function ee(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,r}var te=0;var ne=[],ie=function(){var e;function t(n){for(var i=ne.length,r=0;r<i;){var a=ne[r];a.paused?(ne.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ae.suspendWhenDocumentHidden&&(re()?e=cancelAnimationFrame(e):(ne.forEach((function(e){return e._onDocumentVisibility()})),ie()))})),function(){e||re()&&ae.suspendWhenDocumentHidden||!(ne.length>0)||(e=requestAnimationFrame(t))}}();function re(){return!!document&&document.hidden}function ae(e){void 0===e&&(e={});var t,n=0,i=0,s=0,o=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var h=function(e){var t=T(r,e),n=T(a,e),i=Z(n,e),s=_(e.targets),o=K(s,i),c=ee(o,n),u=te;return te++,D(t,{id:u,children:[],animatables:s,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(h);function d(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function p(){n=0,i=f(h.currentTime)*(1/ae.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=h.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,s=r.tweens,o=s.length-1,u=s[o];o&&(u=x(s,(function(t){return e<t.end}))[0]||u);for(var l=c(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,v=void 0,y=0;y<g;y++){var w=void 0,b=u.to.numbers[y],M=u.from.numbers[y]||0;w=u.isPath?F(u.value,d*b,u.isPathTargetInsideSVG):M+d*(b-M),p&&(u.isColor&&y>2||(w=Math.round(w*p)/p)),m.push(w)}var k=f.length;if(k){v=f[0];for(var I=0;I<k;I++){f[I];var S=f[I+1],T=m[I];isNaN(T)||(v+=S?T+S:T+" ")}}else v=m[0];Y[r.type](a.target,r.property,v,a.transforms),r.currentValue=v,t++}}function v(e){h[e]&&!h.passThrough&&h[e](h)}function y(e){var r=h.duration,a=h.delay,p=r-h.endDelay,y=f(e);h.progress=c(y/r*100,0,100),h.reversePlayback=y<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=o;n--;)m(e,t[n]);else for(var i=0;i<o;i++)m(e,t[i])}(y),!h.began&&h.currentTime>0&&(h.began=!0,v("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,v("loopBegin")),y<=a&&0!==h.currentTime&&g(0),(y>=p&&h.currentTime!==r||!r)&&g(r),y>a&&y<p?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,v("changeBegin")),v("change"),g(y)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,v("changeComplete")),h.currentTime=c(y,0,r),h.began&&v("update"),e>=r&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=s,v("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&d()):(h.paused=!0,h.completed||(h.completed=!0,v("loopComplete"),v("complete"),!h.passThrough&&"Promise"in window&&(u(),l(h)))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=o=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,g(h.reversed?h.duration:0)},h._onDocumentVisibility=p,h.set=function(e,t){return X(e,t),h},h.tick=function(e){s=e,n||(n=s),y((s+(i-n))*ae.speed)},h.seek=function(e){y(f(e))},h.pause=function(){h.paused=!0,p()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,ne.push(h),p(),ie())},h.reverse=function(){d(),h.completed=!h.reversed,p()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){oe(G(e),h)},h.reset(),h.autoplay&&h.play(),h}function se(e,t){for(var n=t.length;n--;)I(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,i=t.children;se(e,n);for(var r=i.length;r--;){var a=i[r],s=a.animations;se(e,s),s.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}ae.version="3.2.1",ae.speed=1,ae.suspendWhenDocumentHidden=!0,ae.running=ne,ae.remove=function(e){for(var t=G(e),n=ne.length;n--;){oe(t,ne[n])}},ae.get=W,ae.set=X,ae.convertPx=q,ae.path=function(e,t){var n=h.str(e)?b(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:z(n),totalLength:N(n)*(i/100)}}},ae.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?w(t.easing):null,r=t.grid,a=t.axis,s=t.from||0,o="first"===s,c="center"===s,u="last"===s,l=h.arr(e),d=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=P(l?e[1]:e)||0,m=t.start||0+(l?d:0),g=[],v=0;return function(e,t,h){if(o&&(s=0),c&&(s=(h-1)/2),u&&(s=h-1),!g.length){for(var y=0;y<h;y++){if(r){var w=c?(r[0]-1)/2:s%r[0],b=c?(r[1]-1)/2:Math.floor(s/r[0]),x=w-y%r[0],M=b-Math.floor(y/r[0]),k=Math.sqrt(x*x+M*M);"x"===a&&(k=-x),"y"===a&&(k=-M),g.push(k)}else g.push(Math.abs(s-y));v=Math.max.apply(Math,g)}i&&(g=g.map((function(e){return i(e/v)*v}))),"reverse"===n&&(g=g.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return m+(l?(f-d)/v:d)*(Math.round(100*g[t])/100)+p}},ae.timeline=function(e){void 0===e&&(e={});var t=ae(e);return t.duration=0,t.add=function(n,i){var r=ne.indexOf(t),s=t.children;function o(e){e.passThrough=!0}r>-1&&ne.splice(r,1);for(var c=0;c<s.length;c++)o(s[c]);var u=D(n,T(a,e));u.targets=u.targets||e.targets;var l=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=h.und(i)?l:B(i,l),o(t),t.seek(u.timelineOffset);var d=ae(u);o(d),s.push(d);var f=ee(s,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ae.easing=w,ae.penner=y,ae.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ce=ae;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();const ue="debug"===decodeURIComponent(window.location.hash.substring(1));let le=firebase.database(),he=firebase.storage();const de=new i;de.domElement.style.position="fixed",de.domElement.style.top="auto",de.domElement.style.bottom="0",de.domElement.style.left="auto",de.domElement.style.right="0",ue||de.domElement.classList.add("is-hidden");let fe=0;let pe=0;let me=0;window.addEventListener("load",e=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(e=>{e.onupdatefound=function(){e.update()}}).catch(e=>{console.error(e.code,e.message)}),navigator.serviceWorker.addEventListener("message",e=>{null!==navigator.serviceWorker.controller&&"command"in e.data&&"caches"===e.data.command&&navigator.serviceWorker.controller.postMessage({command:"clear",caches:e.data.caches})}));var t=Vue.createApp({data:()=>({isDebug:ue,isDarkMode:!1,isMuted:!0,isLoading:!1,isUpdating:!1,isLocating:!1,isRevealed:!1,isOverlayed:!1,isBlinded:!1,isPopup:!1,isExpanded:!1,isLearning:!1,isAnimating:!1,isHangingOn:!1,isSubmitting:!1,isDiscovering:!1,isStared:!1,isLocked:!1,canvasSize:{width:0,height:0,deviceWidth:0,deviceHeight:0,alternative:{width:0,height:0,deviceWidth:0,deviceHeight:0}},cachedImages:{},cachedSprites:[],alternativeCachedSprites:[],animationQueue:[],elapsed:0,map:null,layer:null,mode:null,queryQueue:[],queryCache:{},cachedTracks:{},cachedDocuments:[],documentQueue:[],sequenceQueue:[],progress:null,user:null,input:"",animatedInputLength:0,maxInputLength:100,inputHasError:!1,messages:[],maxMessages:10,word:null,recentWords:[],tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,stars:-1,animatedStars:0,steps:0,isStepping:!1,animatedSteps:0,deviceMotion:null,stats:[],screenshot:null,notifications:[],notificationHeight:0,animatedNotificationHeight:0,inputHeight:0,animatedInputHeight:0,recentImages:[],backgroundImagesQueue:[],backgroundImages:[],preloadImages:[],isUploading:!1,animations:null,currentAnimations:[],blendShapeAnimations:[],insetTop:0,insetBottom:0,text:[],popupTextHeight:0,animatedPopupTextHeight:0,tickerWidth:0,animatedTickerWidth:0,leaderboard:[],leaderboardHeight:0,animatedLeaderboardHeight:0,message:null,states:{},character:null,alternative:null,wordDictionary:{},reverseWordDictionary:{},attributes:["名前","所属","時間","場所","する事","生き物","食べ物","飲み物","聞くもの","見るもの","読むもの","使う物","身につけるもの","乗り物","部位","病気"],chars:[]}),watch:{isMuted(e){try{localStorage.setItem("character",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("character")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};ce({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll("#app>.background>div");if(e.length>1){const t=e.length-1,n=15;let i=0,r=null;for(const a of e){const s=[];for(let t=0;t<e.length;t++)t===i?s.push({visibility:"visible"}):s.push({visibility:"hidden"});const o=a.animate(s,{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0});null===r?r=o.startTime:o.startTime=r,i++}}})},deep:!0},text:{handler:()=>{t.$nextTick(()=>{t.isPopup&&(t.popupTextHeight=t.$refs.popupText.getBoundingClientRect().height)})},deep:!0},popupTextHeight(e){const t={height:this.animatedPopupTextHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedPopupTextHeight=t.height}})},notifications:{handler:()=>{t.$nextTick(()=>{t.notificationHeight=t.$refs.notifications.getBoundingClientRect().height})},deep:!0},notificationHeight(e){const t={height:this.animatedNotificationHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedNotificationHeight=t.height}})},leaderboard:{handler:()=>{t.$nextTick(()=>{t.leaderboardHeight=t.$refs.leaderboard.getBoundingClientRect().height})},deep:!0},leaderboardHeight(e){const t={height:this.animatedLeaderboardHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedLeaderboardHeight=t.height}})},inputHeight(e){const t={height:this.animatedInputHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedInputHeight=t.height}})},stars(e){const t={count:this.animatedStars};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},steps(e){const t={count:this.animatedSteps};ce({targets:t,count:e,round:100,duration:500,easing:"linear",update:()=>{this.animatedSteps=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};ce({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0},chars:{handler:()=>{const e=[];for(const n of t.chars)for(const t of n)t.count>0&&e.push({set:t.set,count:t.count,timestamp:t.timestamp,checksum:[...String(t.timestamp)].reduce((e,t)=>e+t,0)+[...String(t.count)].reduce((e,t)=>e+t,0)});try{localStorage.setItem("fragments",JSON.stringify(e))}catch(e){localStorage.removeItem("fragments")}},deep:!0}},methods:{signIn:function(e){if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,idToken:t.idToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var t=e.credential;const n=Math.floor(new Date/1e3);for(const t of e.user.providerData){const i=t.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:i}).catch((function(e){console.error(e.code,e.message)})),le.ref("wonderland/users/"+e.user.uid).transaction((function(t){return t?(t.link="https://twitter.com/"+e.additionalUserInfo.username,t.timestamp=n):t={link:"https://twitter.com/"+e.additionalUserInfo.username,timestamp:n},t}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,secret:t.secret}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential"),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"caches"})}).catch(e=>{console.error(e.code,e.message)})},refresh:function(e){this.update(!0)},update:async function(e=!1){this.isLoading=!0;const t=this,n=this.map.getCenter(),i=await this.fetch(e,n.latitude,n.longitude);if(e&&Object.keys(this.cachedTracks).forEach((function(e){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e]})),null!==i){const e=Math.floor(new Date/1e3);let n=!1;for(const r in i)for(const a of i[r]){let i=null;for(const e in this.cachedTracks)if(a.id===this.cachedTracks[e].id){i=e;break}if(null===i){const i=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(a.location.latitude,a.location.longitude),{title:a.name,subTitle:this.formatTime(e-a.timestamp),icon:"/images/Marker-Star.svg"});this.setImage(i,a.user),this.cachedTracks[i.id]=a,this.cachedTracks[i.id].pushpin=i,this.cachedTracks[i.id].handlers=[Microsoft.Maps.Events.addHandler(i,"click",async e=>{t.mode=this.cachedTracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(i,"dblclick",e=>{window.location.hash=t.cachedTracks[e.target.id].id})],this.map.entities.push(i),n=!0}else if(a.timestamp>this.cachedTracks[i].timestamp){const t=this.cachedTracks[i].pushpin,r=this.cachedTracks[i].handlers;t.setLocation(new Microsoft.Maps.Location(a.location.latitude,a.location.longitude)),t.setOptions({title:a.name,subTitle:this.formatTime(e-a.timestamp)}),this.setImage(t,a.user),this.cachedTracks[i]=a,this.cachedTracks[i].pushpin=t,this.cachedTracks[i].handlers=r,n=!0}}const r=[];for(const e in i)for(const t of i[e])r.push(t.id);if(Object.keys(this.cachedTracks).forEach((function(e){if(!r.some(n=>n===t.cachedTracks[e].id)){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e],n=!0}})),n){const e=10;this.isUpdating=!0;const t=await new Promise(e=>{const t={},n=[];for(const e in i)for(const n of i[e])if(n.user.id in t)t[n.user.id].count++;else{const e=Object.assign({},n.user);e.count=1,t[n.user.id]=e}for(const e in t)n.push(t[e]);n.sort((e,t)=>t.count-e.count),e(n)});this.leaderboard.splice(0);for(const e of t)this.leaderboard.push(e);try{const t=await new Promise(t=>{const n=Math.pow(10,-6);let r=[],a=[],s={},o={},c=[],u=n;for(const e in i){let t=[],n=[];for(const r of i[e])t.push(r.name),n.includes(r.name)||(r.name in s?s[r.name]+=1:s[r.name]=1,n.push(r.name));r.push(t)}for(const e in s)s[e]=Math.log(r.length/(s[e]+n));for(const e of r){let t={};for(const n of e)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.length,n in o||(o[n]=0);a.push(t)}for(const e in o)for(const t of a)if(e in t){const n=t[e]*s[e];n>o[e]&&(o[e]=n)}for(const e in o)e.length>1&&"..."!=e&&c.push({term:e,value:o[e]});c.sort((e,t)=>t.value-e.value),c.length>e&&c.splice(e);for(const e of c)e.value>u&&(u=e.value);for(const e of c)e.value/=u;c.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),t([r,c])});this.cachedDocuments.splice(0),this.tags.splice(0);for(const e of t[0])this.cachedDocuments.push(e);for(let e=0;e<t[1].length;e++)this.tags.push({index:e,name:t[1][e].term,score:t[1][e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isUpdating=!1}}this.isLoading=!1},fetch:async function(e,t,n){const i=this,r=this.encodeGeohash(t,n,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]);let a=[r];const s=[],o={};let c=[],u=this.decodeGeohash(r);const l=Math.floor(new Date/1e3),h={};if(c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),r.length>2){const e=this.getNeighbors(r);for(const t in e)a.push(e[t]),u=this.decodeGeohash(e[t]),c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(c),this.queryQueue.push(r);for(const t of a){if(!e&&t in this.queryCache&&l-this.queryCache[t].timestamp<60){for(const e of this.queryCache[t].data)s.push(e),t in o?o[t].push(e):o[t]=[e];continue}const n=await le.ref("wonderland/tracks").orderByChild("key").limitToLast(50).startAt(t).endAt(t.padEnd(12,"z")+"").once("value");if(h[t]={timestamp:l,data:[]},n.exists()){const e=n.val();for(const n in e)e[n].id=n,s.push(e[n]),h[t].data.push(e[n]),t in o?o[t].push(e[n]):o[t]=[e[n]]}}if(this.queryQueue.shift(),this.queryQueue.length>0)return null;for(const e in h)this.queryCache[e]=h[e];Object.keys(this.queryCache).forEach((function(e){l-i.queryCache[e].timestamp>=60&&delete i.queryCache[e]}));const d=this.take(s.sort((e,t)=>t.timestamp-e.timestamp),100);return Object.keys(o).forEach((function(e){for(let t=o[e].length-1;t>0;t--)d.includes(o[e][t])||o[e].splice(t,1);0===o[e].length&&delete o[e]})),o},startPedometer:async function(){const e=this;if(DeviceMotionEvent.requestPermission){if("granted"!==await DeviceMotionEvent.requestPermission())return}this.deviceMotion=t=>{if(t.accelerationIncludingGravity){const a=t.accelerationIncludingGravity,s=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);if(e.isStepping){if(s<9.8){const t=new Date,a=t.getTime()-6048e5,s=[];e.steps++,e.isStepping=!1;for(let n=e.stats.length-1;n>0;n--)e.stats[n].date.getTime()<=a?e.stats.splice(n,1):e.stats[n].date.getFullYear()!==t.getFullYear()&&e.stats[n].date.getMonth()!==t.getMonth()&&e.stats[n].date.getDate()!==t.getDate()&&s.push({date:e.stats[n].date.toISOString(),steps:e.stats[n].steps});s.unshift({date:new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).toISOString(),steps:e.steps});try{localStorage.setItem("stats",JSON.stringify(s))}catch(e){localStorage.removeItem("stats")}if(e.steps%10==0){const t=[];let a=0,s=Number.MAX_SAFE_INTEGER;function n(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}for(const n of e.chars){let e=0;for(const i of n)t.push({path:{row:a,column:e},data:i}),e++,i.count<s&&(s=i.count);a++}for(let e=t.length-1;e>0;e--)t[e].data.count>s&&t.splice(e,1);const o=t[(i=0,r=t.length,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i)].path,c=[];e.chars[o.row][o.column].count++,e.chars[o.row][o.column].timestamp=Math.floor(new Date/1e3);for(const t of this.prepare(this.character.sequences.filter(e=>"Capture"===e.name),e.chars[o.row][o.column].set[0],this.character.sequences))"Message"===t.type?c.push({type:t.type,speed:t.speed,duration:t.duration,character:this.character,text:n(t.text,e.chars[o.row][o.column].set[0])}):(t.character=this.character,c.push(t));c.length>0&&this.sequenceQueue.push(c)}}}else s>12&&(e.isStepping=!0)}var i,r},window.addEventListener("devicemotion",this.deviceMotion,!0)},stopPedometer:function(){window.removeEventListener("devicemotion",this.deviceMotion,!0),this.deviceMotion=null},locate:async function(e){if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});if("granted"==e.state||"prompt"==e.state){const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}}else{const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}},send:async function(e){if(this.isDebug)if(this.input.length>0){let e=[],t=[];for(const n of this.input.split(/\s/))this.backgroundImages.some(e=>e.id===n)?e.push(n):t.push(n);if(e.length>0&&t.length>0){for(const n of e)le.ref("wonderland/images/"+n).transaction((function(e){return e.tags=t,e}));this.isLearning=!1}else if(this.input.length<=this.maxInputLength){const e=this.map.getCenter();this.learn({name:this.input,location:{latitude:e.latitude,longitude:e.longitude}}),this.input="",this.isLearning=!1}}else for(const e of this.backgroundImages){this.input=e.id;break}else if(this.input.length>0&&this.input.length<=this.maxInputLength){const e=this.map.getCenter();this.learn({name:this.input,location:{latitude:e.latitude,longitude:e.longitude}}),this.input="",this.isLearning=!1}else this.shake(this.$refs.input)},setImage:async function(e,t,n=!1){if("image"in t){let n;try{n=await new Promise(async(e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=e=>{n(e)},t.image.startsWith("gs://")?i.src=await he.refFromURL(t.image).getDownloadURL():(i.crossOrigin="Anonymous",i.src=t.image)})}catch(t){return e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                            <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                                <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                    <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                                </g>\n                                <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                    <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                    <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                        <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                    </g>\n                                </g>\n                            </svg>'}),void console.error(t)}const i=document.createElement("canvas"),r=i.getContext("2d");i.width=n.width,i.height=n.height,r.drawImage(n,0,0,n.width,n.height);const a='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+i.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:a})}},change:function(e){this.input.length<=this.maxInputLength?this.inputHasError=!1:this.inputHasError=!0},upload:async function(e){function t(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}const n=this,i=he.ref(),r=[],a=[];for(const t of e.target.files)r.push(t);this.isUploading=!0;for(const e of r.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)){const s=i.child("images/"+t()).put(e);try{await new Promise((function(e,t){s.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes/r.length+a.length/r.length}),(function(e){t(e)}),(function(){e()}))}))}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}a.push(s.snapshot.ref.fullPath)}le.ref("wonderland/images").push({paths:a,timestamp:Math.floor(new Date/1e3)}),this.progress=null,this.isUploading=!1},learn:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=[],i=[];if("attributes"in e)for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i.push({name:t,value:!0}):i.push({name:t,value:!1}));else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).once("value");if(t.exists()){const e=t.val();for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i.push({name:t,value:!0}):i.push({name:t,value:!1}))}else for(const e of this.attributes)i.push({name:e,value:!1})}this.word={name:e.name,attributes:i},"location"in e&&(this.word.location=e.location),"user"in e&&(this.word.user=e.user);for(const i of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===i.type?n.push({type:i.type,speed:i.speed,duration:i.duration,text:t(i.text,e.name)}):n.push(i);n.length>0&&this.sequenceQueue.push(n)},check:function(e){for(const t of this.word.attributes)t===e.target.dataset.attribute&&(t.value=e.target.checked)},share:async function(e){const t=this,n="location"in e?e.location:this.map.getCenter(),i=this.encodeGeohash(n.latitude,n.longitude),r={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL},a=Math.floor(new Date/1e3);if(e.name in this.wordDictionary&&delete this.wordDictionary[e.name],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.name)&&delete this.reverseWordDictionary[t]}),this.isSubmitting=!0,this.user.providerData[0].providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID){const e=await le.ref(`wonderland/users/${this.user.uid}/link`).once("value");e.exists()&&(r.link=e.val())}le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).transaction((function(t){if(!t){t={attributes:{},timestamp:a};for(const n of e.attributes)n.value?t.attributes[n.name]=a:t.attributes[n.name]=0;return"user"in e&&(t.user={id:e.user.id,name:e.user.name,image:e.user.image}),t}{let n=!1;for(const i of e.attributes){if(!(i.name in t.attributes)){n=!0;break}if(t.attributes[i.name]>0){if(!i.value){n=!0;break}}else if(i.value){n=!0;break}}if(n){let n=!0;const i={attributes:{}};for(const r of e.attributes)r.value?(r.name in t.attributes&&t.attributes[r.name]>0?i.attributes[r.name]=t.attributes[r.name]:i.attributes[r.name]=a-1,n=!1):i.attributes[r.name]=0;return n?null:(i.timestamp=a,i)}}}),(async function(s,o,c){if(o)if(c.exists()){const s=c.val(),o=[];for(const e in s.attributes)"number"==typeof s.attributes[e]&&s.attributes[e]>0&&t.attributes.includes(e)&&o.push(s.attributes[e]);if(1===o.length&&o[0]===s.timestamp){function u(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const n of t.prepare(t.character.sequences.filter(e=>"Learned"===e.name)))"Message"===n.type&&t.notify({text:u(n.text,e.name),accent:t.character.accent,image:t.character.image});t.isStared=!0,window.setTimeout(()=>{t.isStared=!1},3e3),t.isMuted||t.$refs.twinkle.play()}"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(o){const c={};o?(o.key=`${i}${a}`,o.location={latitude:n.latitude,longitude:n.longitude},o.geohash=i,o.timestamp=a):o={key:`${i}${a}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:i,user:r,timestamp:a};for(const e in s.attributes)t.attributes.includes(e)&&(c[e]=s.attributes[e]);return o.attributes=c,o}),(function(e,n,i){n?i.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}else le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return e&&e>1?e-1:null})),le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(e){return null}),(function(e,n,i){n?i.exists()||t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1}));else s?(t.notify({text:s.message,accent:t.character.accent,image:t.character.image}),console.error(s),t.isSubmitting=!1):"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(t){if(t){t.key=`${i}${a}`,t.location={latitude:n.latitude,longitude:n.longitude},t.geohash=i,t.user=r,t.timestamp=a;for(const n of e.attributes)n.value?t.attributes[n.name]=a-1:t.attributes[n.name]=0}else{t={key:`${i}${a}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:i,attributes:{},user:r,timestamp:a};for(const n of e.attributes)n.value?t.attributes[n.name]=a:t.attributes[n.name]=0}return t}),(function(e,n,i){n?i.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}))},next:async function(e,t,n=50){let i;if(i=null===t?await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().limitToFirst(n+1).once("value"):await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().startAt(t).limitToFirst(n+1).once("value"),"words"in this.mode&&i.exists()){const e=i.val();null!==this.mode.words&&this.mode.words.length>0&&this.mode.indexes.push(this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes});this.mode.words.length===n+1?this.mode.next=this.mode.words.pop():this.mode.next=null}},previous:async function(e,t,n=50){let i=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByKey().startAt(t).limitToFirst(n).once("value");if("words"in this.mode&&i.exists()){const e=i.val();null!==this.mode.words&&this.mode.words.length>0&&(this.mode.next=this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes})}},discover:async function(){const e=this,t=[],n={},i=[];for(const e of this.recentWords)this.user.uid!==e.user.id&&(t.push(e),n[e.name]=e);for(const e in this.cachedTracks)this.user.uid!==this.cachedTracks[e].user.id&&this.cachedTracks[e].name in n==!1&&t.push(this.cachedTracks[e]);this.isDiscovering=!0;for(const n of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(t))try{if(null!==await new Promise((t,i)=>{le.ref("wonderland/users/"+e.user.uid+"/dictionary/words/"+n.name).transaction((function(e){if(!e)return e}),(function(e,n,r){n?t(r):e?i(e):t(null)}))})){function r(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}this.isDiscovering=!1;for(const e of this.prepare(this.character.alternative.sequences.filter(e=>"Discover"===e.name),n.name,this.character.alternative.sequences))"Message"===e.type?i.push({type:e.type,speed:e.speed,duration:e.duration,character:this.character.alternative,text:r(e.text,n.name)}):(e.character=this.character.alternative,i.push(e));return i.length>0&&this.sequenceQueue.push(i),this.learn({name:n.name,attributes:n.attributes,location:n.location,user:n.user}),void this.map.setView({center:new Microsoft.Maps.Location(n.location.latitude,n.location.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})}}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isDiscovering=!1;for(const e of this.prepare(this.character.alternative.sequences.filter(e=>"Discover"===e.name),"",this.character.alternative.sequences))"Message"===e.type?i.push({type:e.type,speed:e.speed,duration:e.duration,character:this.character.alternative,text:e.text}):(e.character=this.character.alternative,i.push(e));i.length>0&&this.sequenceQueue.push(i)},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},activate:async function(){if(fe=pe=0,this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();await this.talk(this.user.uid,e.filter(e=>e!==this.character.name))||this.talk(this.user.uid)}else this.talk(this.user.uid)},talk:async function(e,t=[]){let n=this.character.sequences.filter(e=>"Activate"===e.name),i=[];if(this.isLoading=!0,t.length>0){const r=Math.floor(new Date/1e3),a=3600,s=Object.assign({},this.states),o=new TinySegmenter,c=[],u=[];for(const n of t){if(n in this.wordDictionary==!1||r-this.wordDictionary[n].timestamp>=a){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+n).once("value");if(this.wordDictionary[n]={attributes:[],timestamp:r},t.exists()){const e=t.val();for(let t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[n].attributes.push(t)}}for(const e of this.wordDictionary[n].attributes)c.includes(e)||c.push(e)}for(const l of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(n)){const n=this.prepare([l]);let h=!1;for(const s of n){if("Message"==s.type)for(const l of Array.isArray(s.text)?s.text:o.segment(s.text)){if(Array.isArray(l)){for(const r of n)if("Message"==r.type){const n=await this.generate(e,r.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,i.push({type:r.type,speed:r.speed,duration:r.duration,text:e})}}else i.push(r);if(h)break;return i.length>0&&this.sequenceQueue.push(i),this.isLoading=!1,!0}if(l.length>1&&!u.includes(l)){if(l in this.wordDictionary==!1||r-this.wordDictionary[l].timestamp>=a){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+l).once("value");if(this.wordDictionary[l]={attributes:[],timestamp:r},t.exists()){const e=t.val();for(const t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[l].attributes.push(t)}}for(const r of this.wordDictionary[l].attributes)if(c.includes(r)){for(const r of n)if("Message"==r.type){const n=await this.generate(e,r.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,i.push({type:r.type,speed:r.speed,duration:r.duration,text:e})}}else i.push(r);if(h)break;return i.length>0&&this.sequenceQueue.push(i),this.isLoading=!1,!0}u.push(l)}}if(h){i.splice(0);break}}this.states=s}return this.isLoading=!1,!1}for(const t of this.prepare(n))if("Message"===t.type){const n=await this.generate(e,t.text);if(null===n)return this.isLoading=!1,!1;{let e,r;[e,r]=n,i.push({type:t.type,speed:t.speed,duration:t.duration,text:e})}}else i.push(t);return i.length>0?(this.sequenceQueue.push(i),this.isLoading=!1,!0):(this.isLoading=!1,!1)},generate:async function(e,t,n=[]){function i(e){let t=[],n=Number.MIN_VALUE,i=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);for(let t=0;t<e.length;t++)i+=Math.exp(e[t]-n);for(let r=0;r<e.length;r++)t.push(Math.exp(e[r]-n)/i);return t}const r=Math.floor(new Date/1e3);let a=new TinySegmenter,s=Array.isArray(t)?t:a.segment(t),o={},c=[],u=new RegExp("[.#$\\[\\]]"),l={},h="",d=0;const f=Math.pow(10,-6);let p=[{sequence:[],score:1}];for(const t of n){if(t in this.wordDictionary==!1||r-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:r},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const e of this.wordDictionary[t].attributes)e in o?o[e].push(t):o[e]=[t]}for(const t of s){if(!c.includes(t)){if(Array.isArray(t)){let n=[],a=[];for(const i of t)if(i in o){for(const e of o[i])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}else{if(i in this.reverseWordDictionary==!1||r-this.reverseWordDictionary[i].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+i).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[i]={words:[],timestamp:r},t.exists()){const e=t.val();for(const t in e)this.reverseWordDictionary[i].words.push(t)}}for(const e of this.reverseWordDictionary[i].words)if(s.includes(e)&&!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}if(n.length>0&&a.length>0){const e=i(a);let t=[];for(let i=0;i<p.length;i++)for(let r=0;r<e.length;r++){let a=[].concat(p[i].sequence);a.push({index:d,term:n[r]}),t.push({sequence:a,score:p[i].score*e[r]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}else if(!u.test(t)){let n=[],a=[];if(t in this.wordDictionary==!1||r-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:r},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const i of this.wordDictionary[t].attributes)if(i in o){for(const e of o[i])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}else{if(i in this.reverseWordDictionary==!1||r-this.reverseWordDictionary[i].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+i).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[i]={words:[],timestamp:r},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[i].words.push(t)}}for(const e of this.reverseWordDictionary[i].words)if(s.includes(e)&&!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){a.push(n.score),t=!1;break}t&&a.push(f)}}if(n.length>0&&a.length>0){const e=i(a);let t=[];for(let i=0;i<p.length;i++)for(let r=0;r<e.length;r++){let a=[].concat(p[i].sequence);a.push({index:d,term:n[r]}),t.push({sequence:a,score:p[i].score*e[r]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}c.push(t)}d++}const m=p[function(e){const t=Math.random();let n=0,i=0;for(let r of e){if(n<=t&&t<n+r)break;n+=r,i++}return i}(i(p.map(e=>e.score)))];for(let e=0;e<s.length;e++)if(s[e]in l)void 0===l[s[e]]?h+=s[e]:h+=l[s[e]];else{let t=!0;for(let n=0;n<m.sequence.length;n++)if(m.sequence[n].index==e){s[e]==m.sequence[n].term?l[s[e]]=void 0:(l[s[e]]=m.sequence[n].term,h+=m.sequence[n].term,t=!1);break}if(t){if(Array.isArray(s[e]))return null;h+=s[e]}}return[h,l]},notify:function(e,t=3e3){const n=this;e.id=window.setTimeout(e=>{for(let t=0;t<n.notifications.length;t++)if(n.notifications[t].id===e.id){n.notifications.splice(t,1);break}},t,e),this.notifications.unshift(e)},blinded:async function(){if(0==this.backgroundImagesQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.recentImages))this.backgroundImagesQueue.push(e)}const e=this.backgroundImagesQueue.shift();this.preloadImages.splice(0),this.backgroundImages.splice(0);for(const t of e.paths)try{this.preloadImages.push({id:e.id,url:await he.ref().child(t).getDownloadURL(),timestamp:e.timestamp})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}"tags"in e&&this.talk(this.user.uid,e.tags.filter(e=>e!==this.character.name))},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},shake:function(e){e.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(8px, 0, 0)"},{transform:"translate3d(-8px, 0, 0)"},{transform:"translate3d(7px, 0, 0)"},{transform:"translate3d(-7px, 0, 0)"},{transform:"translate3d(6px, 0, 0)"},{transform:"translate3d(-6px, 0, 0)"},{transform:"translate3d(5px, 0, 0)"},{transform:"translate3d(-5px, 0, 0)"},{transform:"translate3d(4px, 0, 0)"},{transform:"translate3d(-4px, 0, 0)"},{transform:"translate3d(3px, 0, 0)"},{transform:"translate3d(-3px, 0, 0)"},{transform:"translate3d(2px, 0, 0)"},{transform:"translate3d(-2px, 0, 0)"},{transform:"translate3d(1px, 0, 0)"},{transform:"translate3d(-1px, 0, 0)"},{transform:"translate3d(0, 0, 0)"}],{duration:1e3,iterations:1})},scrollToTop(){this.$nextTick(()=>{window.scroll(0,0)})},scrollToEnd:function(){"number"==typeof this.scrollTimeoutID&&clearTimeout(this.scrollTimeoutID),this.scrollTimeoutID=setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),500)},formatDate:function(e){return moment.locale(window.navigator.language),moment(e).format("LT")},animationStart:function(e){this.isAnimating=!0},animationEnd:function(e){const t=this;this.$nextTick(()=>{t.notificationHeight=t.$refs.notifications.getBoundingClientRect().height,t.leaderboardHeight=t.$refs.leaderboard.getBoundingClientRect().height}),this.isPopup||(this.message=null),this.isAnimating=!1},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},range:function(e,t){const n=[];for(const i of t)n.push(new Date(new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).getTime()+24*i*60*60*1e3));return n},arrange:function(e,t){let n=[],i=[];for(const r of e)i.length<t?i.push(r):(n.push(i),i=[r]);return n.push(i),n},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),i=Math.floor(t/3600),r=Math.floor(t/60);return n>0?n+"d":r>0?i>0?i+"h":r+"m":t%60+"s"},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},getDistance:function(e,t,n,i){var r=this.deg2rad(n-e),a=this.deg2rad(i-t),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const i=[16,8,4,2,1];var r=1,a=[],s=[],o=0,c=0;let u="";for(a[0]=-90,a[1]=90,s[0]=-180,s[1]=180;u.length<n;){if(r){const e=(s[0]+s[1])/2;t>e?(c|=i[o],s[0]=e):s[1]=e}else{const t=(a[0]+a[1])/2;e>t?(c|=i[o],a[0]=t):a[1]=t}r=!r,o<4?o++:(u+="0123456789bcdefghjkmnpqrstuvwxyz"[c],o=0,c=0)}return u},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,i=[],r=[];i[0]=-90,i[1]=90,r[0]=-180,r[1]=180;for(var a=0;a<e.length;a++)for(var s=e[a],o="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(s),c=0;c<5;c++){const e=t[c];n?(2,o&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2):(2,o&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2),n=!n}return i[2]=(i[0]+i[1])/2,r[2]=(r[0]+r[1])/2,{latitude:i[2],longitude:r[2],topleft:{latitude:i[0],longitude:r[0]},topright:{latitude:i[1],longitude:r[0]},bottomright:{latitude:i[1],longitude:r[1]},bottomleft:{latitude:i[0],longitude:r[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},i={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,i.bottom.odd=i.left.even,i.top.odd=i.right.even,i.left.odd=i.bottom.even,i.right.odd=i.top.even;var r=(e=e.toLowerCase()).charAt(e.length-1),a=e.length%2?"odd":"even",s=e.substring(0,e.length-1);return-1!=i[t][a].indexOf(r)&&(s=this.calculateAdjacent(s,t)),s+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][a].indexOf(r)]},prepare:function(e,t=null,n=null){function i(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let r=[],a=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n&&null!==n.state){new RegExp(n.state).test(e)&&r.push(n)}}if(0===r.length){for(const t of e)"state"in t!=!1&&null!==t.state||r.push(t);t=null}if(r.length>0){let e=[];for(const n of r[i(0,r.length)].sequence)null!==t&&(this.states[n.name]=t),e.push(n);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let r=[],a=[];for(const e of null===n?this.character.sequences:n){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let i=[];for(const r of n[n.length-1].sequence)if("Sequence"==r.type){if("sequence"in r){let t=!0;for(const n of e)if(n===r){t=!1;break}t&&i.push(r)}if(r===t)break}for(;i.length>0;)e.push(i.pop())}if("sequence"in t){let n=!0;for(const i of e)if(i===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)r.push(e.pop())}else r.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of r)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;a.push(e)}}else for(const e of r)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}a.push(e)}if(a.length>0){let t=0;for(const n of a[i(0,a.length)].sequence)e.splice(t,0,n),t++}}}else a.push(t)}}return a},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const i of e.sequence)if("Sequence"==i.type){let e=this.getSequenceStack(i,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n},animate:async function(e){if(requestAnimationFrame(this.animate),null!==this.character){const i=(e-this.elapsed)/1e3;if(this.elapsed=e,this.sequenceQueue.length>0)fe=0;else if(fe+=i,this.isLoading||(pe+=i),0==this.sequenceQueue.length)if(pe>=10){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(i=0,r=n,i=Math.ceil(i),r=Math.floor(r),Math.floor(Math.random()*(r-i))+i);n--;const a=t[n];t[n]=t[e],t[e]=a}var i,r;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();this.talk(this.user.uid,e.filter(e=>e!==this.character.name))}fe=pe=0}else fe>=5&&(this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Idle"===e.name))),fe=0);if(!this.isLocked&&this.sequenceQueue.length>0){const e=this.sequenceQueue[0];if(e.length>0)if("Animation"==e[0].type){if("frames"in e[0])for(const t of e[0].frames)if(Array.isArray(t))"character"in e[0]?this.animationQueue.push({character:e[0].character,images:t}):this.animationQueue.push({character:this.character,images:t});else if("object"==typeof t&&"iterations"in t)if("images"in t){const n="character"in e[0]?e[0].character:this.character;for(let e=0;e<t.iterations;e++)this.animationQueue.push({character:n,images:t.images})}else if("sprites"in t){const n="character"in e[0]?e[0].character:this.character;for(let e=0;e<t.iterations;e++)this.animationQueue.push({character:n,images:t.sprites})}e.shift()}else"Message"==e[0].type&&null===this.message&&0===this.animationQueue.length&&("character"in e[0]?this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},character:e[0].character,text:e[0].text}:this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},character:{name:this.character.name,accent:this.character.accent,image:this.character.image},text:e[0].text},e.shift());else if(null===this.message&&0===this.animationQueue.length){const e=this;return Object.keys(this.cachedImages).forEach((function(t){e.cachedSprites.some(e=>e.source===t)||delete e.cachedImages[t]})),this.sequenceQueue.shift(),void(this.alternative=null)}}if(null!==this.message){if(this.message.type.reverse)if(this.message.type.count>0){if(this.message.type.elapsed+=2*i,this.message.type.elapsed>=1/this.message.type.speed){if(this.message.type.count-1<this.message.text.length){let e=Math.floor(this.message.text.length/2);this.message.type.buffer.length<=e&&this.message.type.count>0&&(this.message.type.count-=1),this.message.type.buffer.length>0&&(this.message.type.buffer=this.message.type.buffer.substring(0,this.message.type.buffer.length-1))}this.message.type.elapsed=0}}else this.isPopup=!1;else if(this.message.type.buffer.length<this.message.text.length){if(this.message.type.elapsed>=0?this.message.type.elapsed+=i:this.isAnimating||(this.isPopup?this.message.type.elapsed=i:this.isPopup=!0),this.message.type.elapsed>=1/this.message.type.speed){let e=this.message.type.buffer.length,t=Math.floor(this.message.text.length/2),n=this.message.text.length;this.message.type.count>=t&&(this.message.type.buffer+=this.message.text.charAt(e)),this.message.type.count<n&&(this.message.type.count+=1),this.message.type.elapsed=0}}else this.message.time+=i,this.message.time>=this.message.duration&&(this.message.type.reverse=!0);if(this.message.text.length===this.message.type.buffer.length){const e=this.message.text.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else{let e=new Array,i="";for(let t=0;t<this.message.text.length;t++)-1==e.indexOf(this.message.text.charAt(t))&&"\n"!=this.message.text.charAt(t)&&null==this.message.text.charAt(t).match(/\s/)&&e.push(this.message.text.charAt(t));if(e.length>0)for(let r=0;r<this.message.type.count;r++)"\n"==this.message.text.charAt(r)?i+="\n":i+=e[(t=0,n=e.length,t=Math.ceil(t),n=Math.floor(n),~~(Math.floor(Math.random()*(n-t))+t))];if(i.length>this.message.type.buffer.length){const e=(this.message.type.buffer+i.substring(this.message.type.buffer.length,i.length)).split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else if(this.text.length!==this.message.type.buffer.length){const e=this.message.type.buffer.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}}}if(this.animationQueue.length>0){const e=this.animationQueue[0];if(!this.isLocked){const t=[];for(const e of this.animationQueue)t.push(e);this.isLocked=!0;for(const e of t)for(const t of e.images)if(t.source in this.cachedImages==!1)try{const e=await new Promise(async(e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=e=>{n(e)},i.crossOrigin="Anonymous",i.src=t.source});this.cachedImages[t.source]=e}catch(e){console.error(e)}if(this.isLocked=!1,e.character.name===this.character.name){this.cachedSprites.splice(0);for(const t of this.render(this.$refs.canvas.getContext("2d"),this.canvasWidth,this.canvasHeight,e.images))this.cachedSprites.push(t)}else{this.alternative=this.character.alternative,this.alternativeCachedSprites.splice(0);for(const t of this.render(this.$refs.alternative.getContext("2d"),this.alternativeCanvasWidth,this.alternativeCanvasHeight,e.images))this.alternativeCachedSprites.push(t)}this.animationQueue.shift()}}}var t,n},render:function(e,t,n,i){const r=[];e.clearRect(0,0,t,n);for(const t of i)t.source in this.cachedImages&&(e.globalAlpha="opacity"in t?t.opacity:1,e.drawImage(this.cachedImages[t.source],t.x*window.devicePixelRatio,t.y*window.devicePixelRatio,t.width*window.devicePixelRatio,t.height*window.devicePixelRatio)),r.push(t);return r}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height},mounted:async function(){function e(e,t){const n=Math.random();let i=0,r=0;for(let a of e){const e=t(a);if(i<=n&&n<i+e)break;i+=e,r++}return e[r]}const t=this,n=localStorage.getItem("character"),i=localStorage.getItem("credential"),r=localStorage.getItem("stats"),a=localStorage.getItem("fragments");let s,o=null;const c=[{path:"/assets/milch.json",probability:1}],u=[{path:"/assets/merku.json",probability:1}];if(n)try{const e=JSON.parse(n);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("character")}if(i)try{o=JSON.parse(i)}catch(e){localStorage.removeItem("credential")}if(r){const e=(new Date).getTime()-6048e5;try{for(const t of JSON.parse(r)){const n=new Date(t.date);n.getTime()>e&&this.stats.push({date:n,steps:t.steps})}}catch(e){localStorage.removeItem("stats")}}if(a)try{s=JSON.parse(a)}catch(e){localStorage.removeItem("fragments"),s=[]}else s=[];this.$refs.container.after(de.domElement),this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height,this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==t.user&&t.update()});try{this.progress=1;const t=await fetch(e(c,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!t.ok)throw new Error(t.statusText);{const n=await t.json(),i=this.prepare(n.sequences.filter(e=>"Start"===e.name),null,n.sequences),r=await fetch(e(u,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});let a;if(!r.ok)throw new Error(r.statusText);a=await r.json();const o=await fetch("/assets/fragments.json",{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!o.ok)throw new Error(o.statusText);{const e=Math.floor(new Date/1e3),t=(new Date).getTime()-864e5;for(const n of await o.json()){const i=[];for(const r of n){const n=s.find(e=>r.some(t=>e.set.includes(t))&&e.count>0&&1e3*e.timestamp>t&&e.checksum===[...String(e.timestamp)].reduce((e,t)=>e+t,0)+[...String(e.count)].reduce((e,t)=>e+t,0));void 0===n?i.push({set:r,index:0,count:0,timestamp:e}):i.push({set:r,index:0,count:n.count,timestamp:n.timestamp})}this.chars.push(i)}}this.progress=null,this.canvasSize.width=n.width,this.canvasSize.height=n.height,this.canvasSize.deviceWidth=n.width*window.devicePixelRatio,this.canvasSize.deviceHeight=n.height*window.devicePixelRatio,this.canvasSize.alternative.width=a.width,this.canvasSize.alternative.height=a.height,this.canvasSize.alternative.deviceWidth=a.width*window.devicePixelRatio,this.canvasSize.alternative.deviceHeight=a.height*window.devicePixelRatio;for(const e of i)if("Animation"==e.type&&"frames"in e&&e.frames.length>0){let t=null;if(Array.isArray(e.frames[0])?t=e.frames[0]:"object"==typeof e.frames[0]&&"iterations"in e.frames[0]&&("images"in e.frames[0]&&e.frames[0].images.length>0?t=e.frames[0].images:"sprites"in e.frames[0]&&e.frames[0].sprites.length>0&&(t=e.frames[0].sprites)),null!==t){for(const e of t)if(e.source in this.cachedImages==!1)try{const t=await new Promise(async(t,n)=>{const i=new Image;i.onload=()=>{t(i)},i.onerror=e=>{n(e)},i.crossOrigin="Anonymous",i.src=e.source});this.cachedImages[e.source]=t}catch(e){console.error(e)}this.cachedSprites.splice(0);for(const e of this.render(this.$refs.canvas.getContext("2d"),this.canvasWidth,this.canvasHeight,t))this.cachedSprites.push(e)}break}this.character=n,this.character.alternative=a,this.sequenceQueue.push(i)}}catch(e){this.progress=null,this.notify({text:e.message}),console.error(e)}this.animate(),null===o?(this.mode="sign-in",this.isRevealed=!0):o.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(o.idToken)).catch(e=>{console.error(e.code,e.message)}):o.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(o.accessToken)).catch(e=>{console.error(e.code,e.message)}):o.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(o.accessToken,o.secret)).catch(e=>{console.error(e.code,e.message)}):(this.mode="sign-in",this.isRevealed=!0),firebase.auth().onAuthStateChanged((function(e){if(e){const n=new Date;t.user=e,t.update();for(const e of t.stats)e.date.getFullYear()===n.getFullYear()&&e.date.getMonth()===n.getMonth()&&e.date.getDate()===n.getDate()&&(t.steps=e.steps);le.ref("wonderland/users/"+e.uid+"/dictionary/count").on("value",e=>{const n=e.val();t.stars=null===n?0:n}),le.ref("wonderland/tracks").orderByChild("timestamp").limitToLast(10).on("value",e=>{if(e.exists()){const n=e.val(),i=[];let r=0;for(const e in n)n[e].id=e,i.push(n[e]);for(const e of i.sort((e,t)=>t.timestamp-e.timestamp)){let n=-1;for(let i=0;i<t.recentWords.length;i++)if(t.recentWords[i].name==e.name){n=i;break}n>=0&&t.recentWords.splice(n,1),t.recentWords.splice(r,0,e),r++}for(let e=t.recentWords.length-1;e>=r;e--)t.recentWords.splice(e,1)}})}else null!==t.user&&(le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").off("value"),le.ref("wonderland/tracks").off("value"),t.user=null,t.stars=0)}))},unmounted:function(){"number"==typeof this.tickIntervalID&&clearInterval(this.tickIntervalID),null!==vrmModel&&(scene.remove(vrmModel.scene),vrmModel=null)}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height,t.insetBottom=t.$refs.blank.getBoundingClientRect().height,t.canvasSize.width=t.character.width,t.canvasSize.height=t.character.height,t.canvasSize.deviceWidth=t.character.width*window.devicePixelRatio,t.canvasSize.deviceHeight=t.character.height*window.devicePixelRatio,t.canvasSize.alternative.width=t.character.alternative.width,t.canvasSize.alternative.height=t.character.alternative.height,t.canvasSize.alternative.deviceWidth=t.character.alternative.width*window.devicePixelRatio,t.canvasSize.alternative.deviceHeight=t.character.alternative.height*window.devicePixelRatio,t.animationQueue.unshift({character:t.character,images:[].concat(t.cachedSprites)}),null!==t.alternative&&t.animationQueue.unshift({character:t.character.alternative,images:[].concat(t.alternativeCachedSprites)})}),window.addEventListener("click",e=>{}),window.addEventListener("dblclick",e=>{}),window.addEventListener("mousedown",e=>{}),window.addEventListener("mousemove",e=>{}),window.addEventListener("mouseup",e=>{}),window.addEventListener("touchstart",e=>{e.stopPropagation(),0==me?(me++,setTimeout(()=>{me=0},500)):me=0}),window.addEventListener("touchmove",e=>{e.stopPropagation()}),window.addEventListener("touchend",e=>{e.stopPropagation()}),window.addEventListener("touchcancel",e=>{e.stopPropagation()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmIiwiZSIsImEiLCJhcHBlbmRDaGlsZCIsImRvbSIsInUiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsIlBhbmVsIiwiaCIsInNlbGYiLCJtZW1vcnkiLCJSRVZJU0lPTiIsImFkZFBhbmVsIiwic2hvd1BhbmVsIiwiYmVnaW4iLCJlbmQiLCJ1cGRhdGUiLCJ1c2VkSlNIZWFwU2l6ZSIsImpzSGVhcFNpemVMaW1pdCIsInRoaXMiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJsb29wQmVnaW4iLCJjaGFuZ2VCZWdpbiIsImNoYW5nZSIsImNoYW5nZUNvbXBsZXRlIiwibG9vcENvbXBsZXRlIiwiY29tcGxldGUiLCJsb29wIiwiZGlyZWN0aW9uIiwiYXV0b3BsYXkiLCJ0aW1lbGluZU9mZnNldCIsImRlZmF1bHRUd2VlblNldHRpbmdzIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiZWFzaW5nIiwidmFsaWRUcmFuc2Zvcm1zIiwiY2FjaGUiLCJDU1MiLCJzcHJpbmdzIiwibWluTWF4IiwidmFsIiwic3RyaW5nQ29udGFpbnMiLCJzdHIiLCJ0ZXh0IiwiaW5kZXhPZiIsImFwcGx5QXJndW1lbnRzIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsImlzIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJzb2x2ZXIiLCJwcm9ncmVzcyIsImV4cCIsImNvcyIsInNpbiIsImNhY2hlZCIsImVsYXBzZWQiLCJyZXN0Iiwic3RlcHMiLCJjZWlsIiwiZWFzZXMiLCJmdW5jdGlvbkVhc2luZ3MiLCJiZXppZXIiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsIngiLCJnZXRURm9yWCIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJhYnMiLCJiaW5hcnlTdWJkaXZpZGUiLCJwZW5uZXIiLCJsaW5lYXIiLCJTaW5lIiwiUEkiLCJDaXJjIiwiQmFjayIsIkJvdW5jZSIsInBvdzIiLCJwb3ciLCJFbGFzdGljIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiYXNpbiIsImZvckVhY2giLCJrZXlzIiwiZWFzZUluIiwicGFyc2VFYXNpbmdzIiwiZWFzZSIsInNlbGVjdFN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWx0ZXJBcnJheSIsImNhbGxiYWNrIiwibGVuIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsInJlc3VsdCIsInB1c2giLCJmbGF0dGVuQXJyYXkiLCJyZWR1Y2UiLCJjb25jYXQiLCJ0b0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsInNsaWNlIiwiYXJyYXlDb250YWlucyIsInNvbWUiLCJjbG9uZU9iamVjdCIsImNsb25lIiwicmVwbGFjZU9iamVjdFByb3BzIiwibzEiLCJvMiIsIm1lcmdlT2JqZWN0cyIsImNvbG9yVG9SZ2IiLCJyZ2JWYWx1ZSIsImhleFZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwiaGV4VG9SZ2JhIiwiaHNsVmFsdWUiLCJodWUycmdiIiwiaHNsVG9SZ2JhIiwiZ2V0VW5pdCIsImdldEZ1bmN0aW9uVmFsdWUiLCJhbmltYXRhYmxlIiwidGFyZ2V0IiwiaWQiLCJ0b3RhbCIsImdldEF0dHJpYnV0ZSIsImVsIiwicHJvcCIsImNvbnZlcnRQeFRvVW5pdCIsInVuaXQiLCJ0ZW1wRWwiLCJ0YWdOYW1lIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiYm9keSIsInBvc2l0aW9uIiwiZmFjdG9yIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImNvbnZlcnRlZFVuaXQiLCJnZXRDU1NWYWx1ZSIsInVwcGVyY2FzZVByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldEFuaW1hdGlvblR5cGUiLCJnZXRFbGVtZW50VHJhbnNmb3JtcyIsInRyYW5zZm9ybSIsInJlZyIsInRyYW5zZm9ybXMiLCJNYXAiLCJzZXQiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInByb3BOYW1lIiwiZGVmYXVsdFZhbCIsImdldFRyYW5zZm9ybVVuaXQiLCJsaXN0IiwiZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSIsImdldFJlbGF0aXZlVmFsdWUiLCJ0byIsImZyb20iLCJvcGVyYXRvciIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwidmlld0JveCIsInZXIiwidkgiLCJnZXRQYXRoUHJvZ3Jlc3MiLCJwYXRoIiwiaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHIiwicG9pbnQiLCJvZmZzZXQiLCJnZXRQb2ludEF0TGVuZ3RoIiwicDAiLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImRlY29tcG9zZVZhbHVlIiwicmd4Iiwib3JpZ2luYWwiLCJudW1iZXJzIiwiTnVtYmVyIiwic3RyaW5ncyIsInBhcnNlVGFyZ2V0cyIsInRhcmdldHMiLCJpdGVtIiwicG9zIiwiZ2V0QW5pbWF0YWJsZXMiLCJwYXJzZWQiLCJub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyIsInR3ZWVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsInByb3BBcnJheSIsImdldFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwia2V5ZnJhbWVzIiwicHJvcGVydHlOYW1lcyIsIm5ld0tleSIsImZsYXR0ZW5LZXlmcmFtZXMiLCJ0d2VlbnMiLCJub3JtYWxpemVUd2VlbnMiLCJwcmV2aW91c1R3ZWVuIiwidHdlZW4iLCJub3JtYWxpemVUd2VlblZhbHVlcyIsInR3ZWVuVmFsdWUiLCJ0b1VuaXQiLCJvcmlnaW5hbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZyb21Vbml0Iiwic3RhcnQiLCJpc1BhdGgiLCJpc0NvbG9yIiwic2V0UHJvZ3Jlc3NWYWx1ZSIsImNzcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1hbnVhbCIsImxhc3QiLCJzZXRUYXJnZXRzVmFsdWUiLCJ2YWx1ZVVuaXQiLCJhbmltVHlwZSIsImdldEFuaW1hdGlvbnMiLCJhbmltYXRhYmxlcyIsImxhc3RUd2VlbiIsInR5cGUiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRJbnN0YW5jZVRpbWluZ3MiLCJhbmltYXRpb25zIiwiYW5pbUxlbmd0aCIsImdldFRsT2Zmc2V0IiwiYW5pbSIsInRpbWluZ3MiLCJpbnN0YW5jZUlEIiwiYWN0aXZlSW5zdGFuY2VzIiwiZW5naW5lIiwicmFmIiwic3RlcCIsImFjdGl2ZUluc3RhbmNlc0xlbmd0aCIsImFjdGl2ZUluc3RhbmNlIiwicGF1c2VkIiwic3BsaWNlIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVuZGVmaW5lZCIsImFuaW1lIiwic3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiIsImlzRG9jdW1lbnRIaWRkZW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImluc3RhbmNlIiwiX29uRG9jdW1lbnRWaXNpYmlsaXR5IiwiaGlkZGVuIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJjaGlsZHJlbkxlbmd0aCIsInJlc29sdmUiLCJtYWtlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJmaW5pc2hlZCIsImluc3RhbmNlU2V0dGluZ3MiLCJjcmVhdGVOZXdJbnN0YW5jZSIsInRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uIiwicmV2ZXJzZWQiLCJjaGlsZCIsImFkanVzdFRpbWUiLCJ0aW1lIiwicmVzZXRUaW1lIiwiY3VycmVudFRpbWUiLCJzcGVlZCIsInNlZWtDaGlsZCIsInNlZWsiLCJzZXRBbmltYXRpb25zUHJvZ3Jlc3MiLCJpbnNUaW1lIiwiYW5pbWF0aW9uc0xlbmd0aCIsInR3ZWVuTGVuZ3RoIiwiZWFzZWQiLCJpc05hTiIsInRvTnVtYmVyc0xlbmd0aCIsInRvTnVtYmVyIiwiZnJvbU51bWJlciIsInN0cmluZ3NMZW5ndGgiLCJuJDEiLCJjdXJyZW50VmFsdWUiLCJzZXRDYWxsYmFjayIsImNiIiwicGFzc1Rocm91Z2giLCJzZXRJbnN0YW5jZVByb2dyZXNzIiwiZW5naW5lVGltZSIsImluc0R1cmF0aW9uIiwiaW5zRGVsYXkiLCJpbnNFbmREZWxheSIsInJldmVyc2VQbGF5YmFjayIsImkkMSIsInN5bmNJbnN0YW5jZUNoaWxkcmVuIiwiYmVnYW4iLCJsb29wQmVnYW4iLCJjaGFuZ2VCZWdhbiIsImNoYW5nZUNvbXBsZXRlZCIsInJlbWFpbmluZyIsImNvbXBsZXRlZCIsInJlc2V0IiwicGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInJlc3RhcnQiLCJyZW1vdmUiLCJyZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlIiwicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zIiwidGFyZ2V0c0FycmF5IiwiY2hpbGRBbmltYXRpb25zIiwidmVyc2lvbiIsInJ1bm5pbmciLCJjb252ZXJ0UHgiLCJwZXJjZW50Iiwic2V0RGFzaG9mZnNldCIsInBhdGhMZW5ndGgiLCJzdGFnZ2VyIiwiZ3JpZCIsImF4aXMiLCJmcm9tSW5kZXgiLCJmcm9tRmlyc3QiLCJmcm9tQ2VudGVyIiwiZnJvbUxhc3QiLCJpc1JhbmdlIiwidmFsMSIsInZhbDIiLCJ2YWx1ZXMiLCJtYXhWYWx1ZSIsImluZGV4IiwiZnJvbVgiLCJmcm9tWSIsImZsb29yIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwidGltZWxpbmUiLCJ0bCIsImFkZCIsImluc3RhbmNlUGFyYW1zIiwidGxJbmRleCIsImlucyIsImluc1BhcmFtcyIsInRsRHVyYXRpb24iLCJyYW5kb20iLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhbmFseXRpY3MiLCJkZWJ1ZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImRhdGFiYXNlIiwic3RvcmFnZSIsInN0YXRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiY2xhc3NMaXN0IiwiaWRsZVRpbWUiLCJhY3RpdmF0ZVRpbWUiLCJ0YXBDb3VudCIsImV2ZW50IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIm9udXBkYXRlZm91bmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY29udHJvbGxlciIsImRhdGEiLCJjb21tYW5kIiwicG9zdE1lc3NhZ2UiLCJjYWNoZXMiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJpc0RlYnVnIiwiaXNEYXJrTW9kZSIsImlzTXV0ZWQiLCJpc0xvYWRpbmciLCJpc1VwZGF0aW5nIiwiaXNMb2NhdGluZyIsImlzUmV2ZWFsZWQiLCJpc092ZXJsYXllZCIsImlzQmxpbmRlZCIsImlzUG9wdXAiLCJpc0V4cGFuZGVkIiwiaXNMZWFybmluZyIsImlzQW5pbWF0aW5nIiwiaXNIYW5naW5nT24iLCJpc1N1Ym1pdHRpbmciLCJpc0Rpc2NvdmVyaW5nIiwiaXNTdGFyZWQiLCJpc0xvY2tlZCIsImNhbnZhc1NpemUiLCJkZXZpY2VXaWR0aCIsImRldmljZUhlaWdodCIsImFsdGVybmF0aXZlIiwiY2FjaGVkSW1hZ2VzIiwiY2FjaGVkU3ByaXRlcyIsImFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlcyIsImFuaW1hdGlvblF1ZXVlIiwibGF5ZXIiLCJxdWVyeVF1ZXVlIiwicXVlcnlDYWNoZSIsImNhY2hlZFRyYWNrcyIsImNhY2hlZERvY3VtZW50cyIsImRvY3VtZW50UXVldWUiLCJzZXF1ZW5jZVF1ZXVlIiwidXNlciIsImlucHV0IiwiYW5pbWF0ZWRJbnB1dExlbmd0aCIsIm1heElucHV0TGVuZ3RoIiwiaW5wdXRIYXNFcnJvciIsIm1lc3NhZ2VzIiwibWF4TWVzc2FnZXMiLCJ3b3JkIiwicmVjZW50V29yZHMiLCJ0YWdzIiwibWF4VGFncyIsInNjcm9sbFRpbWVvdXRJRCIsInRpY2tJbnRlcnZhbElEIiwic3RhcnMiLCJhbmltYXRlZFN0YXJzIiwiaXNTdGVwcGluZyIsImFuaW1hdGVkU3RlcHMiLCJkZXZpY2VNb3Rpb24iLCJzY3JlZW5zaG90Iiwibm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbkhlaWdodCIsImFuaW1hdGVkTm90aWZpY2F0aW9uSGVpZ2h0IiwiaW5wdXRIZWlnaHQiLCJhbmltYXRlZElucHV0SGVpZ2h0IiwicmVjZW50SW1hZ2VzIiwiYmFja2dyb3VuZEltYWdlc1F1ZXVlIiwiYmFja2dyb3VuZEltYWdlcyIsInByZWxvYWRJbWFnZXMiLCJpc1VwbG9hZGluZyIsImN1cnJlbnRBbmltYXRpb25zIiwiYmxlbmRTaGFwZUFuaW1hdGlvbnMiLCJpbnNldFRvcCIsImluc2V0Qm90dG9tIiwicG9wdXBUZXh0SGVpZ2h0IiwiYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQiLCJ0aWNrZXJXaWR0aCIsImFuaW1hdGVkVGlja2VyV2lkdGgiLCJsZWFkZXJib2FyZCIsImxlYWRlcmJvYXJkSGVpZ2h0IiwiYW5pbWF0ZWRMZWFkZXJib2FyZEhlaWdodCIsInN0YXRlcyIsImNoYXJhY3RlciIsIndvcmREaWN0aW9uYXJ5IiwicmV2ZXJzZVdvcmREaWN0aW9uYXJ5IiwiYXR0cmlidXRlcyIsImNoYXJzIiwid2F0Y2giLCJuZXdWYWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibXV0ZSIsInJlbW92ZUl0ZW0iLCJ3b3JkcyIsImhhbmRsZXIiLCIkbmV4dFRpY2siLCJjbGlwIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZWVwIiwiZWxlbWVudHMiLCJmcmFtZVJhdGUiLCJ2aXNpYmlsaXR5IiwiYW5pbWF0aW9uIiwiYW5pbWF0ZSIsImZpbGwiLCJpdGVyYXRpb25zIiwiJHJlZnMiLCJwb3B1cFRleHQiLCJjb3VudCIsImZyYWdtZW50cyIsInJvdyIsImNvbHVtbiIsInRpbWVzdGFtcCIsImNoZWNrc3VtIiwiU3RyaW5nIiwibWV0aG9kcyIsInNpZ25JbiIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJQUk9WSURFUl9JRCIsInNpZ25JbldpdGhQb3B1cCIsImNyZWRlbnRpYWwiLCJwcm92aWRlckRhdGEiLCJjdXJyZW50VXNlciIsInVwZGF0ZVByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwicHJvdmlkZXJJZCIsImFjY2Vzc1Rva2VuIiwiaWRUb2tlbiIsIkZhY2Vib29rQXV0aFByb3ZpZGVyIiwicHJvdmlkZXIiLCJhZGRTY29wZSIsIlR3aXR0ZXJBdXRoUHJvdmlkZXIiLCJwaG90b1VybCIsInJlZiIsInVpZCIsInRyYW5zYWN0aW9uIiwiY3VycmVudCIsImFkZGl0aW9uYWxVc2VySW5mbyIsInVzZXJuYW1lIiwibGluayIsInNlY3JldCIsInNpZ25PdXQiLCJyZWZyZXNoIiwiYXN5bmMiLCJpZ25vcmUiLCJjZW50ZXJMb2NhdGlvbiIsImdldENlbnRlciIsInRyYWNrcyIsImZldGNoIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJoYW5kbGVySWQiLCJoYW5kbGVycyIsIk1pY3Jvc29mdCIsIk1hcHMiLCJFdmVudHMiLCJyZW1vdmVIYW5kbGVyIiwiZW50aXRpZXMiLCJwdXNocGluIiwiaXNVcGRhdGVkIiwiZ2VvaGFzaCIsInRyYWNrIiwicHVzaHBpbklkIiwiUHVzaHBpbiIsIkxvY2F0aW9uIiwidGl0bGUiLCJzdWJUaXRsZSIsImZvcm1hdFRpbWUiLCJpY29uIiwic2V0SW1hZ2UiLCJhZGRIYW5kbGVyIiwic2V0TG9jYXRpb24iLCJzZXRPcHRpb25zIiwiaWRzIiwidHJhY2tEaWN0aW9uYXJ5IiwidHJhY2tSYW5raW5nIiwiYXNzaWduIiwic29ydCIsInJlc3VsdHMiLCJlcHNpbG9uIiwiZG9jdW1lbnRzIiwidGVybUZyZXF1ZW5jaWVzIiwiaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5Iiwic2NvcmVEaWN0aW9uYXJ5Iiwic2NvcmVzIiwibWF4U2NvcmUiLCJ0b2tlbnMiLCJ0ZXJtU2V0IiwiaW5jbHVkZXMiLCJsb2ciLCJ0ZiIsInRva2VuIiwidGVybUZyZXF1ZW5jeSIsInRmaWRmIiwidGVybSIsInNjb3JlIiwibm90aWZ5IiwiYWNjZW50IiwiaW1hZ2UiLCJjZW50ZXJHZW9oYXNoIiwiZW5jb2RlR2VvaGFzaCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiLCIxNSIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMjAiLCJnZXRab29tIiwiZ2VvaGFzaGVzIiwidGVtcFJlY2VudCIsInByaW1pdGl2ZXMiLCJkZWNvZGVHZW9oYXNoIiwidGVtcENhY2hlIiwiUG9seWdvbiIsInRvcGxlZnQiLCJ0b3ByaWdodCIsImJvdHRvbXJpZ2h0IiwiYm90dG9tbGVmdCIsImZpbGxDb2xvciIsInN0cm9rZUNvbG9yIiwic3Ryb2tlVGhpY2tuZXNzIiwibmVpZ2hib3JzIiwiZ2V0TmVpZ2hib3JzIiwic2V0UHJpbWl0aXZlcyIsInNuYXBzaG90IiwiZGF0YWJhc2VSb290Iiwib3JkZXJCeUNoaWxkIiwibGltaXRUb0xhc3QiLCJzdGFydEF0IiwiZW5kQXQiLCJwYWRFbmQiLCJvbmNlIiwiZXhpc3RzIiwiZGljdGlvbmFyeSIsInNoaWZ0IiwicmVjZW50IiwidGFrZSIsInN0YXJ0UGVkb21ldGVyIiwiRGV2aWNlTW90aW9uRXZlbnQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJhZyIsInoiLCJub3dEYXRlIiwiYmFzZURhdGUiLCJnZXRUaW1lIiwiZGF5cyIsImRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwidW5zaGlmdCIsIm1pbkNvdW50IiwiTUFYX1NBRkVfSU5URUdFUiIsImZvcm1hdCIsImdyb3VwIiwiaiIsImluZGV4UGF0aCIsInNlcXVlbmNlIiwicHJlcGFyZSIsInNlcXVlbmNlcyIsImZpbHRlciIsInN0b3BQZWRvbWV0ZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibG9jYXRlIiwicGVybWlzc2lvblN0YXR1cyIsInBlcm1pc3Npb25zIiwicXVlcnkiLCJzdGF0ZSIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2V0VmlldyIsImNlbnRlciIsImNvb3JkcyIsInpvb20iLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsInNlbmQiLCJsZWFybiIsInNoYWtlIiwic2VsZWN0ZWQiLCJyZWplY3QiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzdGFydHNXaXRoIiwic3JjIiwicmVmRnJvbVVSTCIsImdldERvd25sb2FkVVJMIiwiY3Jvc3NPcmlnaW4iLCJjdHgiLCJpbmxpbmVTdmciLCJ0b0RhdGFVUkwiLCJ1cGxvYWQiLCJnZW5lcmF0ZVV1aWQiLCJqb2luIiwic3RvcmFnZVJlZiIsImZpbGVzIiwicGF0aHMiLCJmaWxlIiwidXBsb2FkVGFzayIsInB1dCIsIm9uIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJmdWxsUGF0aCIsImNoZWNrIiwiZGF0YXNldCIsImNoZWNrZWQiLCJzaGFyZSIsInVwZGF0ZVJlcXVpcmVkIiwiZGVsZXRlUmVxdWlyZWQiLCJjb21taXR0ZWQiLCJ0aW1lc3RhbXBzIiwic2V0VGltZW91dCIsInR3aW5rbGUiLCJkaWdlc3RNZXNzYWdlIiwibmV4dCIsInVzZXJJZCIsImxpbWl0Iiwib3JkZXJCeUtleSIsImxpbWl0VG9GaXJzdCIsImluZGV4ZXMiLCJwb3AiLCJwcmV2aW91cyIsImRpc2NvdmVyIiwid29yZFNldCIsImFycmF5IiwidGVtcCIsInNodWZmbGUiLCJtc2dVaW50OCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiaGFzaEJ1ZmZlciIsImNyeXB0byIsInN1YnRsZSIsImRpZ2VzdCIsIlVpbnQ4QXJyYXkiLCJwYWRTdGFydCIsImFjdGl2YXRlIiwidGFsayIsInRlbXBTdGF0ZXMiLCJzZWdtZW50ZXIiLCJUaW55U2VnbWVudGVyIiwidG9rZW5TZXQiLCJwcmVwYXJlZFNlcXVlbmNlIiwiaXNBYm9ydGVkIiwic2VnbWVudCIsImdlbmVyYXRlIiwiaGludHMiLCJzb2Z0bWF4IiwiTUlOX1ZBTFVFIiwic3VtIiwiaGludERpY3Rpb25hcnkiLCJyZWdleCIsIlJlZ0V4cCIsImNhY2hEaWN0aW9uYXJ5IiwidGVybXMiLCJpc05ldyIsInRhZyIsInByb2JhYmlsaXRpZXMiLCJjYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwicHJvYmFiaWxpdHkiLCJjaG9pY2UiLCJibGluZGVkIiwidXJsIiwibG9hZCIsImlzQ29tcGxldGVkIiwiaXNMb2FkZWQiLCJzY3JvbGwiLCJzY3JvbGxUb0VuZCIsImNsZWFyVGltZW91dCIsInNjcm9sbFRvIiwic2Nyb2xsSGVpZ2h0IiwiZm9ybWF0RGF0ZSIsIm1vbWVudCIsImxvY2FsZSIsImxhbmd1YWdlIiwiYW5pbWF0aW9uU3RhcnQiLCJhbmltYXRpb25FbmQiLCJ0aWNrZXJVcGRhdGVkIiwicmFuZ2UiLCJjb2xsZWN0aW9uIiwiZGF5IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsImFycmFuZ2UiLCJyb3dzIiwiY29sdW1ucyIsImhvdXJzIiwibWludXRlcyIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJkZWciLCJwcmVjaXNpb24iLCJCSVRTIiwiaXNfZXZlbiIsImxhdCIsImxvbiIsImJpdCIsImNoIiwibWlkIiwiY2QiLCJtYXNrIiwicmlnaHRHZW9oYXNoIiwiY2FsY3VsYXRlQWRqYWNlbnQiLCJsZWZ0R2VvaGFzaCIsInNyY0hhc2giLCJkaXIiLCJORUlHSEJPUlMiLCJldmVuIiwiQk9SREVSUyIsIm9kZCIsImxhc3RDaHIiLCJjaGFyQXQiLCJiYXNlIiwic2VsZWN0ZWRTZXF1ZW5jZXMiLCJfcmFuZG9tIiwiY2hvb3NlZFNlcXVlbmNlcyIsImZsYXR0ZW5lZFNlcXVlbmNlIiwidGVtcFN0YXRlIiwicXVldWUiLCJ0cmFjZWRTZXF1ZW5jZXMiLCJjYWxsYWJsZVNlcXVlbmNlcyIsInNlcXVlbmNlU3RhY2siLCJnZXRTZXF1ZW5jZVN0YWNrIiwic3RhY2siLCJwb3BwZWRTZXF1ZW5jZSIsInRlbXBTdGFjayIsInRlbXBTZXF1ZW5jZSIsInNvdXJjZVNlcXVlbmNlIiwidGFyZ2V0U2VxdWVuY2UiLCJkZWx0YVRpbWUiLCJmcmFtZXMiLCJpbWFnZXMiLCJzcHJpdGVzIiwiYnVmZmVyIiwic291cmNlIiwiY2hhcmFjdGVycyIsImNoYXJBcnJheSIsInJhbmRvbUJ1ZmZlciIsInNwcml0ZSIsInJlbmRlciIsImNhbnZhcyIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiYWx0ZXJuYXRpdmVDYW52YXNXaWR0aCIsImFsdGVybmF0aXZlQ2FudmFzSGVpZ2h0IiwiY2xlYXJSZWN0Iiwib3BhY2l0eSIsInVwZGF0ZWQiLCJpbmRpY2F0b3IiLCJibGFuayIsIm1vdW50ZWQiLCJib3RTdG9yYWdlSXRlbSIsImNyZWRlbnRpYWxTdG9yYWdlSXRlbSIsInN0YXRzU3RvcmFnZUl0ZW0iLCJmcmFnbWVudHNTdG9yYWdlSXRlbSIsImFsdGVybmF0aXZlcyIsImJvdCIsInBhcnNlIiwiY29udGFpbmVyIiwiYWZ0ZXIiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJjYW52YXNMaWdodCIsImVuYWJsZUhpZ2hEcGkiLCJzaG93TG9jYXRlTWVCdXR0b24iLCJzaG93TWFwVHlwZVNlbGVjdG9yIiwic2hvd1pvb21CdXR0b25zIiwic2hvd1NjYWxlYmFyIiwic3VwcG9ydGVkTWFwVHlwZXMiLCJncmF5c2NhbGUiLCJjYW52YXNEYXJrIiwiTGF5ZXIiLCJzZXRWaXNpYmxlIiwibGF5ZXJzIiwiaW5zZXJ0IiwicmVzcG9uc2UxIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwianNvbiIsInJlc3BvbnNlMiIsInJlc3BvbnNlMyIsImJhc2VUaW1lIiwiZmluZCIsInNpZ25JbldpdGhDcmVkZW50aWFsIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidGVtcFdvcmRzIiwicmVtb3ZlSW5kZXgiLCJvZmYiLCJ1bm1vdW50ZWQiLCJjbGVhckludGVydmFsIiwidnJtTW9kZWwiLCJzY2VuZSIsIm1vdW50Iiwic3RvcFByb3BhZ2F0aW9uIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNK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dkIsRUFBSTZFLFVBQVVyRCxZQUFZOWUsT0FBU0wsT0FBT0MsaUJBQ3BGMGQsRUFBSTRCLGVBQWU4TyxRQUFRLENBQUU3TCxVQUFXN0UsRUFBSTZFLFVBQVc2WCxPQUFRLEdBQUd2d0IsT0FBTzZULEVBQUkwQixpQkFFckQsT0FBcEIxQixFQUFJd0IsYUFDSnhCLEVBQUk0QixlQUFlOE8sUUFBUSxDQUFFN0wsVUFBVzdFLEVBQUk2RSxVQUFVckQsWUFBYWtiLE9BQVEsR0FBR3Z3QixPQUFPNlQsRUFBSTJCLDhCQXlDakd0ZixPQUFPekIsaUJBQWlCLFFBQVNtZSxPQUVqQzFjLE9BQU96QixpQkFBaUIsV0FBWW1lLE9BSXBDMWMsT0FBT3pCLGlCQUFpQixZQUFhbWUsT0EyQnJDMWMsT0FBT3pCLGlCQUFpQixZQUFhbWUsT0FHckMxYyxPQUFPekIsaUJBQWlCLFVBQVdtZSxPQU9uQzFjLE9BQU96QixpQkFBaUIsYUFBY21lLElBQ2xDQSxFQUFNNGhCLGtCQUVVLEdBQVo3aEIsSUFDQUEsS0FFQTRWLFdBQVcsS0FDUDVWLEdBQVcsR0FDWixNQW1ESEEsR0FBVyxJQUduQnpjLE9BQU96QixpQkFBaUIsWUFBYW1lLElBQ2pDQSxFQUFNNGhCLG9CQUlWdCtCLE9BQU96QixpQkFBaUIsV0FBWW1lLElBQ2hDQSxFQUFNNGhCLG9CQVFWdCtCLE9BQU96QixpQkFBaUIsY0FBZW1lLElBQ25DQSxFQUFNNGhCLG9CQUVWdCtCLE9BQU91K0IsV0FBVyxnQ0FBZ0NoZ0MsaUJBQWlCLFNBQVVaLElBQ3JFQSxFQUFFNmdDLFFBQ0Y3Z0IsRUFBSUksWUFBYSxFQUVqQkosRUFBSUksWUFBYSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2pzXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8vIHN0YXRzLmpzIC0gaHR0cDovL2dpdGh1Yi5jb20vbXJkb29iL3N0YXRzLmpzXG4oZnVuY3Rpb24oZixlKXtcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpmLlN0YXRzPWUoKX0pKHRoaXMsZnVuY3Rpb24oKXt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYSl7Yy5hcHBlbmRDaGlsZChhLmRvbSk7cmV0dXJuIGF9ZnVuY3Rpb24gdShhKXtmb3IodmFyIGQ9MDtkPGMuY2hpbGRyZW4ubGVuZ3RoO2QrKyljLmNoaWxkcmVuW2RdLnN0eWxlLmRpc3BsYXk9ZD09PWE/XCJibG9ja1wiOlwibm9uZVwiO2w9YX12YXIgbD0wLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTowLjk7ei1pbmRleDoxMDAwMFwiO2MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO1xudSgrK2wlYy5jaGlsZHJlbi5sZW5ndGgpfSwhMSk7dmFyIGs9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKSxnPWssYT0wLHI9ZShuZXcgZi5QYW5lbChcIkZQU1wiLFwiIzBmZlwiLFwiIzAwMlwiKSksaD1lKG5ldyBmLlBhbmVsKFwiTVNcIixcIiMwZjBcIixcIiMwMjBcIikpO2lmKHNlbGYucGVyZm9ybWFuY2UmJnNlbGYucGVyZm9ybWFuY2UubWVtb3J5KXZhciB0PWUobmV3IGYuUGFuZWwoXCJNQlwiLFwiI2YwOFwiLFwiIzIwMVwiKSk7dSgwKTtyZXR1cm57UkVWSVNJT046MTYsZG9tOmMsYWRkUGFuZWw6ZSxzaG93UGFuZWw6dSxiZWdpbjpmdW5jdGlvbigpe2s9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKX0sZW5kOmZ1bmN0aW9uKCl7YSsrO3ZhciBjPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCk7aC51cGRhdGUoYy1rLDIwMCk7aWYoYz5nKzFFMyYmKHIudXBkYXRlKDFFMyphLyhjLWcpLDEwMCksZz1jLGE9MCx0KSl7dmFyIGQ9cGVyZm9ybWFuY2UubWVtb3J5O3QudXBkYXRlKGQudXNlZEpTSGVhcFNpemUvXG4xMDQ4NTc2LGQuanNIZWFwU2l6ZUxpbWl0LzEwNDg1NzYpfXJldHVybiBjfSx1cGRhdGU6ZnVuY3Rpb24oKXtrPXRoaXMuZW5kKCl9LGRvbUVsZW1lbnQ6YyxzZXRNb2RlOnV9fTtmLlBhbmVsPWZ1bmN0aW9uKGUsZixsKXt2YXIgYz1JbmZpbml0eSxrPTAsZz1NYXRoLnJvdW5kLGE9Zyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkscj04MCphLGg9NDgqYSx0PTMqYSx2PTIqYSxkPTMqYSxtPTE1KmEsbj03NCphLHA9MzAqYSxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cS53aWR0aD1yO3EuaGVpZ2h0PWg7cS5zdHlsZS5jc3NUZXh0PVwid2lkdGg6ODBweDtoZWlnaHQ6NDhweFwiO3ZhciBiPXEuZ2V0Q29udGV4dChcIjJkXCIpO2IuZm9udD1cImJvbGQgXCIrOSphK1wicHggSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZcIjtiLnRleHRCYXNlbGluZT1cInRvcFwiO2IuZmlsbFN0eWxlPWw7Yi5maWxsUmVjdCgwLDAscixoKTtiLmZpbGxTdHlsZT1mO2IuZmlsbFRleHQoZSx0LHYpO1xuYi5maWxsUmVjdChkLG0sbixwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkLG0sbixwKTtyZXR1cm57ZG9tOnEsdXBkYXRlOmZ1bmN0aW9uKGgsdyl7Yz1NYXRoLm1pbihjLGgpO2s9TWF0aC5tYXgoayxoKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9MTtiLmZpbGxSZWN0KDAsMCxyLG0pO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChnKGgpK1wiIFwiK2UrXCIgKFwiK2coYykrXCItXCIrZyhrKStcIilcIix0LHYpO2IuZHJhd0ltYWdlKHEsZCthLG0sbi1hLHAsZCxtLG4tYSxwKTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkK24tYSxtLGEsZygoMS1oL3cpKnApKX19fTtyZXR1cm4gZn0pO1xuIiwiLypcbiAqIGFuaW1lLmpzIHYzLjIuMVxuICogKGMpIDIwMjAgSnVsaWFuIEdhcm5pZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogYW5pbWVqcy5jb21cbiAqL1xuXG4vLyBEZWZhdWx0c1xuXG52YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XG4gIHVwZGF0ZTogbnVsbCxcbiAgYmVnaW46IG51bGwsXG4gIGxvb3BCZWdpbjogbnVsbCxcbiAgY2hhbmdlQmVnaW46IG51bGwsXG4gIGNoYW5nZTogbnVsbCxcbiAgY2hhbmdlQ29tcGxldGU6IG51bGwsXG4gIGxvb3BDb21wbGV0ZTogbnVsbCxcbiAgY29tcGxldGU6IG51bGwsXG4gIGxvb3A6IDEsXG4gIGRpcmVjdGlvbjogJ25vcm1hbCcsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICB0aW1lbGluZU9mZnNldDogMFxufTtcblxudmFyIGRlZmF1bHRUd2VlblNldHRpbmdzID0ge1xuICBkdXJhdGlvbjogMTAwMCxcbiAgZGVsYXk6IDAsXG4gIGVuZERlbGF5OiAwLFxuICBlYXNpbmc6ICdlYXNlT3V0RWxhc3RpYygxLCAuNSknLFxuICByb3VuZDogMFxufTtcblxudmFyIHZhbGlkVHJhbnNmb3JtcyA9IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3RyYW5zbGF0ZVonLCAncm90YXRlJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdyb3RhdGVaJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJywgJ3NrZXcnLCAnc2tld1gnLCAnc2tld1knLCAncGVyc3BlY3RpdmUnLCAnbWF0cml4JywgJ21hdHJpeDNkJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBuaWw6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy51bmQoYSkgfHwgYSA9PT0gbnVsbDsgfSxcbiAgaGV4OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSk7IH0sXG4gIHJnYjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9ecmdiLy50ZXN0KGEpOyB9LFxuICBoc2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXmhzbC8udGVzdChhKTsgfSxcbiAgY29sOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKGlzLmhleChhKSB8fCBpcy5yZ2IoYSkgfHwgaXMuaHNsKGEpKTsgfSxcbiAga2V5OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmICFkZWZhdWx0VHdlZW5TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBhICE9PSAndGFyZ2V0cycgJiYgYSAhPT0gJ2tleWZyYW1lcyc7IH0sXG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlT3V0SW4nICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyAoMSAtIGVhc2VJbihhLCBiKSgxIC0gdCAqIDIpKSAvIDIgOiBcbiAgICAgIChlYXNlSW4oYSwgYikodCAqIDIgLSAxKSArIDEpIC8gMjsgfTsgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpO1xuICB9XG59XG5cbi8vIFN0cmluZ3NcblxuZnVuY3Rpb24gc2VsZWN0U3RyaW5nKHN0cikge1xuICB0cnkge1xuICAgIHZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vLyBBcnJheXNcblxuZnVuY3Rpb24gZmlsdGVyQXJyYXkoYXJyLCBjYWxsYmFjaykge1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpIGluIGFycikge1xuICAgICAgdmFyIHZhbCA9IGFycltpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgYXJyKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChpcy5hcnIoYikgPyBmbGF0dGVuQXJyYXkoYikgOiBiKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG8pIHtcbiAgaWYgKGlzLmFycihvKSkgeyByZXR1cm4gbzsgfVxuICBpZiAoaXMuc3RyKG8pKSB7IG8gPSBzZWxlY3RTdHJpbmcobykgfHwgbzsgfVxuICBpZiAobyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG8gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgeyByZXR1cm4gW10uc2xpY2UuY2FsbChvKTsgfVxuICByZXR1cm4gW29dO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuc29tZShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gdmFsOyB9KTtcbn1cblxuLy8gT2JqZWN0c1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuICBmb3IgKHZhciBwIGluIG8pIHsgY2xvbmVbcF0gPSBvW3BdOyB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMSkgeyBvW3BdID0gbzIuaGFzT3duUHJvcGVydHkocCkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8yKSB7IG9bcF0gPSBpcy51bmQobzFbcF0pID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuLy8gQ29sb3JzXG5cbmZ1bmN0aW9uIHJnYlRvUmdiYShyZ2JWYWx1ZSkge1xuICB2YXIgcmdiID0gL3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHJnYlZhbHVlKTtcbiAgcmV0dXJuIHJnYiA/IChcInJnYmEoXCIgKyAocmdiWzFdKSArIFwiLDEpXCIpIDogcmdiVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiYShoZXhWYWx1ZSkge1xuICB2YXIgcmd4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgdmFyIGhleCA9IGhleFZhbHVlLnJlcGxhY2Uocmd4LCBmdW5jdGlvbiAobSwgciwgZywgYikgeyByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiOyB9ICk7XG4gIHZhciByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgdmFyIHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgdmFyIGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgdmFyIGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcbiAgcmV0dXJuIChcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsMSlcIik7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiYShoc2xWYWx1ZSkge1xuICB2YXIgaHNsID0gL2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMoaHNsVmFsdWUpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGhzbFZhbHVlKTtcbiAgdmFyIGggPSBwYXJzZUludChoc2xbMV0sIDEwKSAvIDM2MDtcbiAgdmFyIHMgPSBwYXJzZUludChoc2xbMl0sIDEwKSAvIDEwMDtcbiAgdmFyIGwgPSBwYXJzZUludChoc2xbM10sIDEwKSAvIDEwMDtcbiAgdmFyIGEgPSBoc2xbNF0gfHwgMTtcbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7IHQgKz0gMTsgfVxuICAgIGlmICh0ID4gMSkgeyB0IC09IDE7IH1cbiAgICBpZiAodCA8IDEvNikgeyByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDsgfVxuICAgIGlmICh0IDwgMS8yKSB7IHJldHVybiBxOyB9XG4gICAgaWYgKHQgPCAyLzMpIHsgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjsgfVxuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciByLCBnLCBiO1xuICBpZiAocyA9PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gIH1cbiAgcmV0dXJuIChcInJnYmEoXCIgKyAociAqIDI1NSkgKyBcIixcIiArIChnICogMjU1KSArIFwiLFwiICsgKGIgKiAyNTUpICsgXCIsXCIgKyBhICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiKHZhbCkge1xuICBpZiAoaXMucmdiKHZhbCkpIHsgcmV0dXJuIHJnYlRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oZXgodmFsKSkgeyByZXR1cm4gaGV4VG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhzbCh2YWwpKSB7IHJldHVybiBoc2xUb1JnYmEodmFsKTsgfVxufVxuXG4vLyBVbml0c1xuXG5mdW5jdGlvbiBnZXRVbml0KHZhbCkge1xuICB2YXIgc3BsaXQgPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyh2YWwpO1xuICBpZiAoc3BsaXQpIHsgcmV0dXJuIHNwbGl0WzFdOyB9XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpIHtcbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAndHJhbnNsYXRlJykgfHwgcHJvcE5hbWUgPT09ICdwZXJzcGVjdGl2ZScpIHsgcmV0dXJuICdweCc7IH1cbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdza2V3JykpIHsgcmV0dXJuICdkZWcnOyB9XG59XG5cbi8vIFZhbHVlc1xuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbHVlKHZhbCwgYW5pbWF0YWJsZSkge1xuICBpZiAoIWlzLmZuYyh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgcmV0dXJuIHZhbChhbmltYXRhYmxlLnRhcmdldCwgYW5pbWF0YWJsZS5pZCwgYW5pbWF0YWJsZS50b3RhbCk7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgcHJvcCkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSB7XG4gIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgaWYgKGFycmF5Q29udGFpbnMoW3VuaXQsICdkZWcnLCAncmFkJywgJ3R1cm4nXSwgdmFsdWVVbml0KSkgeyByZXR1cm4gdmFsdWU7IH1cbiAgdmFyIGNhY2hlZCA9IGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdO1xuICBpZiAoIWlzLnVuZChjYWNoZWQpKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgdmFyIGJhc2VsaW5lID0gMTAwO1xuICB2YXIgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbC50YWdOYW1lKTtcbiAgdmFyIHBhcmVudEVsID0gKGVsLnBhcmVudE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50KSkgPyBlbC5wYXJlbnROb2RlIDogZG9jdW1lbnQuYm9keTtcbiAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGVtcEVsKTtcbiAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgdGVtcEVsLnN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICB2YXIgZmFjdG9yID0gYmFzZWxpbmUgLyB0ZW1wRWwub2Zmc2V0V2lkdGg7XG4gIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gIHZhciBjb252ZXJ0ZWRVbml0ID0gZmFjdG9yICogcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdID0gY29udmVydGVkVW5pdDtcbiAgcmV0dXJuIGNvbnZlcnRlZFVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldENTU1ZhbHVlKGVsLCBwcm9wLCB1bml0KSB7XG4gIGlmIChwcm9wIGluIGVsLnN0eWxlKSB7XG4gICAgdmFyIHVwcGVyY2FzZVByb3BOYW1lID0gcHJvcC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IGVsLnN0eWxlW3Byb3BdIHx8IGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodXBwZXJjYXNlUHJvcE5hbWUpIHx8ICcwJztcbiAgICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9uVHlwZShlbCwgcHJvcCkge1xuICBpZiAoaXMuZG9tKGVsKSAmJiAhaXMuaW5wKGVsKSAmJiAoIWlzLm5pbChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApKSB8fCAoaXMuc3ZnKGVsKSAmJiBlbFtwcm9wXSkpKSB7IHJldHVybiAnYXR0cmlidXRlJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiBhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3JtcywgcHJvcCkpIHsgcmV0dXJuICd0cmFuc2Zvcm0nOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIChwcm9wICE9PSAndHJhbnNmb3JtJyAmJiBnZXRDU1NWYWx1ZShlbCwgcHJvcCkpKSB7IHJldHVybiAnY3NzJzsgfVxuICBpZiAoZWxbcHJvcF0gIT0gbnVsbCkgeyByZXR1cm4gJ29iamVjdCc7IH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpIHtcbiAgaWYgKCFpcy5kb20oZWwpKSB7IHJldHVybjsgfVxuICB2YXIgc3RyID0gZWwuc3R5bGUudHJhbnNmb3JtIHx8ICcnO1xuICB2YXIgcmVnICA9IC8oXFx3KylcXCgoW14pXSopXFwpL2c7XG4gIHZhciB0cmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuICB2YXIgbTsgd2hpbGUgKG0gPSByZWcuZXhlYyhzdHIpKSB7IHRyYW5zZm9ybXMuc2V0KG1bMV0sIG1bMl0pOyB9XG4gIHJldHVybiB0cmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZShlbCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpIHtcbiAgdmFyIGRlZmF1bHRWYWwgPSBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NjYWxlJykgPyAxIDogMCArIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpO1xuICB2YXIgdmFsdWUgPSBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0VmFsO1xuICBpZiAoYW5pbWF0YWJsZSkge1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtcy5saXN0LnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtc1snbGFzdCddID0gcHJvcE5hbWU7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQsIGFuaW1hdGFibGUpIHtcbiAgc3dpdGNoIChnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcE5hbWUpKSB7XG4gICAgY2FzZSAndHJhbnNmb3JtJzogcmV0dXJuIGdldFRyYW5zZm9ybVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpO1xuICAgIGNhc2UgJ2Nzcyc6IHJldHVybiBnZXRDU1NWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0KTtcbiAgICBjYXNlICdhdHRyaWJ1dGUnOiByZXR1cm4gZ2V0QXR0cmlidXRlKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0YXJnZXRbcHJvcE5hbWVdIHx8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSkge1xuICB2YXIgb3BlcmF0b3IgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKHRvKTtcbiAgaWYgKCFvcGVyYXRvcikgeyByZXR1cm4gdG87IH1cbiAgdmFyIHUgPSBnZXRVbml0KHRvKSB8fCAwO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCh0by5yZXBsYWNlKG9wZXJhdG9yWzBdLCAnJykpO1xuICBzd2l0Y2ggKG9wZXJhdG9yWzBdWzBdKSB7XG4gICAgY2FzZSAnKyc6IHJldHVybiB4ICsgeSArIHU7XG4gICAgY2FzZSAnLSc6IHJldHVybiB4IC0geSArIHU7XG4gICAgY2FzZSAnKic6IHJldHVybiB4ICogeSArIHU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgaWYgKGlzLmNvbCh2YWwpKSB7IHJldHVybiBjb2xvclRvUmdiKHZhbCk7IH1cbiAgaWYgKC9cXHMvZy50ZXN0KHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgaWYgKHVuaXQpIHsgcmV0dXJuIHVuaXRMZXNzICsgdW5pdDsgfVxuICByZXR1cm4gdW5pdExlc3M7XG59XG5cbi8vIGdldFRvdGFsTGVuZ3RoKCkgZXF1aXZhbGVudCBmb3IgY2lyY2xlLCByZWN0LCBwb2x5bGluZSwgcG9seWdvbiBhbmQgbGluZSBzaGFwZXNcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9TZWJMYW1ibGEvM2UwNTUwYzQ5NmMyMzY3MDk3NDRcblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBNYXRoLlBJICogMiAqIGdldEF0dHJpYnV0ZShlbCwgJ3InKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdExlbmd0aChlbCkge1xuICByZXR1cm4gKGdldEF0dHJpYnV0ZShlbCwgJ3dpZHRoJykgKiAyKSArIChnZXRBdHRyaWJ1dGUoZWwsICdoZWlnaHQnKSAqIDIpO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBnZXREaXN0YW5jZShcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDEnKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTEnKX0sIFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MicpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MicpfVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5bGluZUxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICB2YXIgdG90YWxMZW5ndGggPSAwO1xuICB2YXIgcHJldmlvdXNQb3M7XG4gIGZvciAodmFyIGkgPSAwIDsgaSA8IHBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICB2YXIgY3VycmVudFBvcyA9IHBvaW50cy5nZXRJdGVtKGkpO1xuICAgIGlmIChpID4gMCkgeyB0b3RhbExlbmd0aCArPSBnZXREaXN0YW5jZShwcmV2aW91c1BvcywgY3VycmVudFBvcyk7IH1cbiAgICBwcmV2aW91c1BvcyA9IGN1cnJlbnRQb3M7XG4gIH1cbiAgcmV0dXJuIHRvdGFsTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5Z29uTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCkgKyBnZXREaXN0YW5jZShwb2ludHMuZ2V0SXRlbShwb2ludHMubnVtYmVyT2ZJdGVtcyAtIDEpLCBwb2ludHMuZ2V0SXRlbSgwKSk7XG59XG5cbi8vIFBhdGggYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIGdldFRvdGFsTGVuZ3RoKGVsKSB7XG4gIGlmIChlbC5nZXRUb3RhbExlbmd0aCkgeyByZXR1cm4gZWwuZ2V0VG90YWxMZW5ndGgoKTsgfVxuICBzd2l0Y2goZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnY2lyY2xlJzogcmV0dXJuIGdldENpcmNsZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncmVjdCc6IHJldHVybiBnZXRSZWN0TGVuZ3RoKGVsKTtcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGdldExpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5Z29uJzogcmV0dXJuIGdldFBvbHlnb25MZW5ndGgoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERhc2hvZmZzZXQoZWwpIHtcbiAgdmFyIHBhdGhMZW5ndGggPSBnZXRUb3RhbExlbmd0aChlbCk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIHBhdGhMZW5ndGgpO1xuICByZXR1cm4gcGF0aExlbmd0aDtcbn1cblxuLy8gTW90aW9uIHBhdGhcblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnRWwoZWwpIHtcbiAgdmFyIHBhcmVudEVsID0gZWwucGFyZW50Tm9kZTtcbiAgd2hpbGUgKGlzLnN2ZyhwYXJlbnRFbCkpIHtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcGFyZW50RWw7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2ZyhwYXRoRWwsIHN2Z0RhdGEpIHtcbiAgdmFyIHN2ZyA9IHN2Z0RhdGEgfHwge307XG4gIHZhciBwYXJlbnRTdmdFbCA9IHN2Zy5lbCB8fCBnZXRQYXJlbnRTdmdFbChwYXRoRWwpO1xuICB2YXIgcmVjdCA9IHBhcmVudFN2Z0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmlld0JveEF0dHIgPSBnZXRBdHRyaWJ1dGUocGFyZW50U3ZnRWwsICd2aWV3Qm94Jyk7XG4gIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgdmFyIHZpZXdCb3ggPSBzdmcudmlld0JveCB8fCAodmlld0JveEF0dHIgPyB2aWV3Qm94QXR0ci5zcGxpdCgnICcpIDogWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgcmV0dXJuIHtcbiAgICBlbDogcGFyZW50U3ZnRWwsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICB4OiB2aWV3Qm94WzBdIC8gMSxcbiAgICB5OiB2aWV3Qm94WzFdIC8gMSxcbiAgICB3OiB3aWR0aCxcbiAgICBoOiBoZWlnaHQsXG4gICAgdlc6IHZpZXdCb3hbMl0sXG4gICAgdkg6IHZpZXdCb3hbM11cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKHBhdGgsIHBlcmNlbnQpIHtcbiAgdmFyIHBhdGhFbCA9IGlzLnN0cihwYXRoKSA/IHNlbGVjdFN0cmluZyhwYXRoKVswXSA6IHBhdGg7XG4gIHZhciBwID0gcGVyY2VudCB8fCAxMDA7XG4gIHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICBlbDogcGF0aEVsLFxuICAgICAgc3ZnOiBnZXRQYXJlbnRTdmcocGF0aEVsKSxcbiAgICAgIHRvdGFsTGVuZ3RoOiBnZXRUb3RhbExlbmd0aChwYXRoRWwpICogKHAgLyAxMDApXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhwYXRoLCBwcm9ncmVzcywgaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKSB7XG4gIGZ1bmN0aW9uIHBvaW50KG9mZnNldCkge1xuICAgIGlmICggb2Zmc2V0ID09PSB2b2lkIDAgKSBvZmZzZXQgPSAwO1xuXG4gICAgdmFyIGwgPSBwcm9ncmVzcyArIG9mZnNldCA+PSAxID8gcHJvZ3Jlc3MgKyBvZmZzZXQgOiAwO1xuICAgIHJldHVybiBwYXRoLmVsLmdldFBvaW50QXRMZW5ndGgobCk7XG4gIH1cbiAgdmFyIHN2ZyA9IGdldFBhcmVudFN2ZyhwYXRoLmVsLCBwYXRoLnN2Zyk7XG4gIHZhciBwID0gcG9pbnQoKTtcbiAgdmFyIHAwID0gcG9pbnQoLTEpO1xuICB2YXIgcDEgPSBwb2ludCgrMSk7XG4gIHZhciBzY2FsZVggPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLncgLyBzdmcudlc7XG4gIHZhciBzY2FsZVkgPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLmggLyBzdmcudkg7XG4gIHN3aXRjaCAocGF0aC5wcm9wZXJ0eSkge1xuICAgIGNhc2UgJ3gnOiByZXR1cm4gKHAueCAtIHN2Zy54KSAqIHNjYWxlWDtcbiAgICBjYXNlICd5JzogcmV0dXJuIChwLnkgLSBzdmcueSkgKiBzY2FsZVk7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID0gdHdlZW4uaXNQYXRoICYmIGlzLnN2ZyhhbmltYXRhYmxlLnRhcmdldCk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhZjtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICghcmFmICYmICghaXNEb2N1bWVudEhpZGRlbigpIHx8ICFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSAmJiBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICAvLyBtZW1vIG9uIGFsZ29yaXRobSBpc3N1ZTpcbiAgICAvLyBkYW5nZXJvdXMgaXRlcmF0aW9uIG92ZXIgbXV0YWJsZSBgYWN0aXZlSW5zdGFuY2VzYFxuICAgIC8vICh0aGF0IGNvbGxlY3Rpb24gbWF5IGJlIHVwZGF0ZWQgZnJvbSB3aXRoaW4gY2FsbGJhY2tzIG9mIGB0aWNrYC1lZCBhbmltYXRpb24gaW5zdGFuY2VzKVxuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgdmFyIGFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJhZiA9IGkgPiAwID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAvLyBzdXNwZW5kIHRpY2tzXG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH0gZWxzZSB7IC8vIGlzIGJhY2sgdG8gYWN0aXZlIHRhYlxuICAgICAgLy8gZmlyc3QgYWRqdXN0IGFuaW1hdGlvbnMgdG8gY29uc2lkZXIgdGhlIHRpbWUgdGhhdCB0aWNrcyB3ZXJlIHN1c3BlbmRlZFxuICAgICAgYWN0aXZlSW5zdGFuY2VzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpOyB9XG4gICAgICApO1xuICAgICAgZW5naW5lKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXk7XG59KSgpO1xuXG5mdW5jdGlvbiBpc0RvY3VtZW50SGlkZGVuKCkge1xuICByZXR1cm4gISFkb2N1bWVudCAmJiBkb2N1bWVudC5oaWRkZW47XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlciwgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICBpZiAoISh0d2Vlbi5pc0NvbG9yICYmIG4gPiAyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogcm91bmQpIC8gcm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlcnMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNYW51YWwgQXJyYXkucmVkdWNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VzXG4gICAgICB2YXIgc3RyaW5nc0xlbmd0aCA9IHN0cmluZ3MubGVuZ3RoO1xuICAgICAgaWYgKCFzdHJpbmdzTGVuZ3RoKSB7XG4gICAgICAgIHByb2dyZXNzID0gbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzID0gc3RyaW5nc1swXTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdHJpbmdzTGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHN0cmluZ3Nbc107XG4gICAgICAgICAgdmFyIGIgPSBzdHJpbmdzW3MgKyAxXTtcbiAgICAgICAgICB2YXIgbiQxID0gbnVtYmVyc1tzXTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4kMSkpIHtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltLnR5cGVdKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltLnByb3BlcnR5LCBwcm9ncmVzcywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zKTtcbiAgICAgIGFuaW0uY3VycmVudFZhbHVlID0gcHJvZ3Jlc3M7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q2FsbGJhY2soY2IpIHtcbiAgICBpZiAoaW5zdGFuY2VbY2JdICYmICFpbnN0YW5jZS5wYXNzVGhyb3VnaCkgeyBpbnN0YW5jZVtjYl0oaW5zdGFuY2UpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudEl0ZXJhdGlvbigpIHtcbiAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nICYmIGluc3RhbmNlLnJlbWFpbmluZyAhPT0gdHJ1ZSkge1xuICAgICAgaW5zdGFuY2UucmVtYWluaW5nLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5zdGFuY2VQcm9ncmVzcyhlbmdpbmVUaW1lKSB7XG4gICAgdmFyIGluc0R1cmF0aW9uID0gaW5zdGFuY2UuZHVyYXRpb247XG4gICAgdmFyIGluc0RlbGF5ID0gaW5zdGFuY2UuZGVsYXk7XG4gICAgdmFyIGluc0VuZERlbGF5ID0gaW5zRHVyYXRpb24gLSBpbnN0YW5jZS5lbmREZWxheTtcbiAgICB2YXIgaW5zVGltZSA9IGFkanVzdFRpbWUoZW5naW5lVGltZSk7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSBtaW5NYXgoKGluc1RpbWUgLyBpbnNEdXJhdGlvbikgKiAxMDAsIDAsIDEwMCk7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gaW5zVGltZSA8IGluc3RhbmNlLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjaGlsZHJlbikgeyBzeW5jSW5zdGFuY2VDaGlsZHJlbihpbnNUaW1lKTsgfVxuICAgIGlmICghaW5zdGFuY2UuYmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5iZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnYmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5sb29wQmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoIWluc3RhbmNlLnJlbWFpbmluZykge1xuICAgICAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWluc3RhbmNlLmNvbXBsZXRlZCkge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdjb21wbGV0ZScpO1xuICAgICAgICAgIGlmICghaW5zdGFuY2UucGFzc1Rocm91Z2ggJiYgJ1Byb21pc2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgICAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zdGFuY2UucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGluc3RhbmNlLnBhc3NUaHJvdWdoID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSAwO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gMDtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIGluc3RhbmNlLmJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9IGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnO1xuICAgIGluc3RhbmNlLnJlbWFpbmluZyA9IGluc3RhbmNlLmxvb3A7XG4gICAgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5MZW5ndGg7IGktLTspIHsgaW5zdGFuY2UuY2hpbGRyZW5baV0ucmVzZXQoKTsgfVxuICAgIGlmIChpbnN0YW5jZS5yZXZlcnNlZCAmJiBpbnN0YW5jZS5sb29wICE9PSB0cnVlIHx8IChkaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnICYmIGluc3RhbmNlLmxvb3AgPT09IDEpKSB7IGluc3RhbmNlLnJlbWFpbmluZysrOyB9XG4gICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gOiAwKTtcbiAgfTtcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgKGZvciBlbmdpbmUpIHRvIGFkanVzdCBhbmltYXRpb24gdGltaW5ncyBiZWZvcmUgcmVzdG9yaW5nIGVuZ2luZSB0aWNrcyAockFGKVxuICBpbnN0YW5jZS5fb25Eb2N1bWVudFZpc2liaWxpdHkgPSByZXNldFRpbWU7XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgZW5naW5lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gaW5zdGFuY2UucmV2ZXJzZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnJlc2V0KCk7XG4gICAgaW5zdGFuY2UucGxheSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhcmdldHMpIHtcbiAgICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSkge1xuICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gIHZhciBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NdO1xuICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgaWYgKCFjaGlsZEFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHsgY2hpbGRyZW4uc3BsaWNlKGMsIDEpOyB9XG4gIH1cbiAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4yLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuLy8gVE9ETzojcmV2aWV3OiBuYW1pbmcsIGRvY3VtZW50YXRpb25cbmFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4gPSB0cnVlO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIiwiaW1wb3J0ICogYXMgU3RhdHMgZnJvbSAnc3RhdHMuanMnXHJcbmltcG9ydCBhbmltZSBmcm9tICdhbmltZWpzL2xpYi9hbmltZS5lcy5qcyc7XHJcblxyXG4vLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXHJcbnZhciBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lEVFZ4REpqN3JxRzlMLUNsdmJhMlRhbzlCMGhrY3hqY0VcIixcclxuICAgIGF1dGhEb21haW46IFwibWlsY2hjaGFuLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9taWxjaGNoYW4uZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHByb2plY3RJZDogXCJtaWxjaGNoYW5cIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwibWlsY2hjaGFuLmFwcHNwb3QuY29tXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzNTU2OTg5NzE4ODlcIixcclxuICAgIGFwcElkOiBcIjE6MzU1Njk4OTcxODg5OndlYjplMzY1M2M1YzMxYmQ3Mjg5Y2Q0NTUwXCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctMzk5OEZKWU5XWFwiXHJcbn07XHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmZpcmViYXNlLmFuYWx5dGljcygpO1xyXG5cclxuY29uc3QgZGVidWcgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKSA9PT0gXCJkZWJ1Z1wiO1xyXG4vL2NvbnN0IGNoYW5uZWwgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcclxuY29uc3QgZGF0YWJhc2VSb290ID0gXCJ3b25kZXJsYW5kXCI7XHJcbi8vY29uc3QgZGF0YWJhc2VDaGFubmVsID0gY2hhbm5lbC5sZW5ndGggPiAwID8gZGF0YWJhc2VSb290ICsgJy9jaGFubmVscy8nICsgY2hhbm5lbCA6IGRhdGFiYXNlUm9vdDtcclxuY29uc3QgZGF0YWJhc2VNZXNzYWdlcyA9IGRhdGFiYXNlUm9vdCArIFwiL2ZlZWRcIjtcclxubGV0IGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxubGV0IHN0b3JhZ2UgPSBmaXJlYmFzZS5zdG9yYWdlKCk7XHJcbmNvbnN0IG1pbGNoID0geyBuYW1lOiBcIuODn+ODq+ODkuOBoeOCg+OCk1wiLCBhY2NlbnQ6IFwiI2ZmYTZiYlwiLCBpbWFnZTogXCIvaW1hZ2VzL01pbGNoLnBuZ1wiIH07XHJcbmNvbnN0IG1lcmt1ID0geyBuYW1lOiBcIuODoeODq+OCr+OBoeOCg+OCk1wiLCBhY2NlbnQ6IFwiIzViY2JlMVwiLCBpbWFnZTogXCIvaW1hZ2VzL01lcmt1LnBuZ1wiIH07XHJcbmNvbnN0IHN0YXRzID0gbmV3IFN0YXRzKCk7XHJcblxyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnRvcCA9IFwiYXV0b1wiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xyXG5zdGF0cy5kb21FbGVtZW50LnN0eWxlLmxlZnQgPSBcImF1dG9cIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5yaWdodCA9IFwiMFwiO1xyXG5cclxuaWYgKCFkZWJ1Zykge1xyXG4gICAgc3RhdHMuZG9tRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaXMtaGlkZGVuXCIpO1xyXG59XHJcblxyXG5sZXQgaWRsZVRpbWUgPSAwLjA7XHJcbmNvbnN0IGJsaW5rVGhyZXNob2xkID0gNS4wO1xyXG5sZXQgYWN0aXZhdGVUaW1lID0gMC4wO1xyXG5jb25zdCBhY3RpdmF0ZVRocmVzaG9sZCA9IDEwLjA7XHJcbmxldCB0YXBDb3VudCA9IDA7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCJzdy5qc1wiKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi5vbnVwZGF0ZWZvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgIT09IG51bGwgJiYgXCJjb21tYW5kXCIgaW4gZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLmNvbW1hbmQgPT09IFwiY2FjaGVzXCIpIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIucG9zdE1lc3NhZ2UoeyBjb21tYW5kOiBcImNsZWFyXCIsIGNhY2hlczogZXZlbnQuZGF0YS5jYWNoZXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXBwID0gVnVlLmNyZWF0ZUFwcCh7XHJcbiAgICAgICAgZGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzRGVidWc6IGRlYnVnLFxyXG4gICAgICAgICAgICAgICAgaXNEYXJrTW9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc011dGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMb2NhdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1JldmVhbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzT3ZlcmxheWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQmxpbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1BvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMZWFybmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0FuaW1hdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0hhbmdpbmdPbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNEaXNjb3ZlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1N0YXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xvY2tlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjYW52YXNTaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGRldmljZVdpZHRoOiAwLCBkZXZpY2VIZWlnaHQ6IDAsIGFsdGVybmF0aXZlOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGRldmljZVdpZHRoOiAwLCBkZXZpY2VIZWlnaHQ6IDAgfSB9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGVkSW1hZ2VzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZFNwcml0ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVDYWNoZWRTcHJpdGVzOiBbXSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvblF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIGVsYXBzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtYXA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBsYXllcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIG1vZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBxdWVyeVF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5Q2FjaGU6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGVkVHJhY2tzOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZERvY3VtZW50czogW10sXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudFF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHNlcXVlbmNlUXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaW5wdXQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZElucHV0TGVuZ3RoOiAwLFxyXG4gICAgICAgICAgICAgICAgbWF4SW5wdXRMZW5ndGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIGlucHV0SGFzRXJyb3I6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWF4TWVzc2FnZXM6IDEwLFxyXG4gICAgICAgICAgICAgICAgd29yZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlY2VudFdvcmRzOiBbXSxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgbWF4VGFnczogMTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0SUQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbElEOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBzdGFyczogLTEsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFN0YXJzOiAwLFxyXG4gICAgICAgICAgICAgICAgc3RlcHM6IDAsXHJcbiAgICAgICAgICAgICAgICBpc1N0ZXBwaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVkU3RlcHM6IDAsXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VNb3Rpb246IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGF0czogW10sXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5zaG90OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25IZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZE5vdGlmaWNhdGlvbkhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGlucHV0SGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRJbnB1dEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHJlY2VudEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzUXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBibGVuZFNoYXBlQW5pbWF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBpbnNldFRvcDogMCxcclxuICAgICAgICAgICAgICAgIGluc2V0Qm90dG9tOiAwLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogW10sXHJcbiAgICAgICAgICAgICAgICBwb3B1cFRleHRIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFBvcHVwVGV4dEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRpY2tlcldpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRUaWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkOiBbXSxcclxuICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkSGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRMZWFkZXJib2FyZEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB3b3JkRGljdGlvbmFyeToge30sXHJcbiAgICAgICAgICAgICAgICByZXZlcnNlV29yZERpY3Rpb25hcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1wi5ZCN5YmNXCIsIFwi5omA5bGeXCIsIFwi5pmC6ZaTXCIsIFwi5aC05omAXCIsIFwi44GZ44KL5LqLXCIsIFwi55Sf44GN54mpXCIsIFwi6aOf44G554mpXCIsIFwi6aOy44G/54mpXCIsIFwi6IGe44GP44KC44GuXCIsIFwi6KaL44KL44KC44GuXCIsIFwi6Kqt44KA44KC44GuXCIsIFwi5L2/44GG54mpXCIsIFwi6Lqr44Gr44Gk44GR44KL44KC44GuXCIsIFwi5LmX44KK54mpXCIsIFwi6YOo5L2NXCIsIFwi55eF5rCXXCJdLFxyXG4gICAgICAgICAgICAgICAgY2hhcnM6IFtdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIGlzTXV0ZWQobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjaGFyYWN0ZXJcIiwgSlNPTi5zdHJpbmdpZnkoeyBtdXRlOiBuZXdWYWx1ZSB9KSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjaGFyYWN0ZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdvcmRzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpY2tlcldpZHRoKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgd2lkdGg6IHRoaXMuYW5pbWF0ZWRUaWNrZXJXaWR0aCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBcImxpbmVhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFuaW1hdGVkVGlja2VyV2lkdGggPSBvYmoud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjYXBwPi5iYWNrZ3JvdW5kPmRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtZW50cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh7IHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyB2aXNpYmlsaXR5OiBcImhpZGRlblwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSBlbGVtZW50LmFuaW1hdGUoa2V5ZnJhbWVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICdmb3J3YXJkcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ3N0ZXBzKCcgKyBvZmZzZXQgKyAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwIC8gZnJhbWVSYXRlICogZWxlbWVudHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25zOiBJbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGFuaW1hdGlvbi5zdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRleHQ6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcC5pc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAucG9wdXBUZXh0SGVpZ2h0ID0gYXBwLiRyZWZzLnBvcHVwVGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvcHVwVGV4dEhlaWdodChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQgPSBvYmouaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm5vdGlmaWNhdGlvbkhlaWdodCA9IGFwcC4kcmVmcy5ub3RpZmljYXRpb25zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkhlaWdodChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWROb3RpZmljYXRpb25IZWlnaHQgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWROb3RpZmljYXRpb25IZWlnaHQgPSBvYmouaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYWRlcmJvYXJkOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sZWFkZXJib2FyZEhlaWdodCA9IGFwcC4kcmVmcy5sZWFkZXJib2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFkZXJib2FyZEhlaWdodChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWRMZWFkZXJib2FyZEhlaWdodCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZExlYWRlcmJvYXJkSGVpZ2h0ID0gb2JqLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnB1dEhlaWdodChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWRJbnB1dEhlaWdodCB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZElucHV0SGVpZ2h0ID0gb2JqLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGFycyhuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBjb3VudDogdGhpcy5hbmltYXRlZFN0YXJzIH07XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRTdGFycyA9IG9iai5jb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGVwcyhuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBjb3VudDogdGhpcy5hbmltYXRlZFN0ZXBzIH07XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFN0ZXBzID0gb2JqLmNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IGFwcC5hbmltYXRlZElucHV0TGVuZ3RoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYXBwLmlucHV0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5hbmltYXRlZElucHV0TGVuZ3RoID0gb2JqLmNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hhcnM6IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFnbWVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByb3cgb2YgYXBwLmNoYXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29sdW1uIG9mIHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudHMucHVzaCh7IHNldDogY29sdW1uLnNldCwgY291bnQ6IGNvbHVtbi5jb3VudCwgdGltZXN0YW1wOiBjb2x1bW4udGltZXN0YW1wLCBjaGVja3N1bTogWy4uLlN0cmluZyhjb2x1bW4udGltZXN0YW1wKV0ucmVkdWNlKCh4LCB5KSA9PiB4ICsgeSwgMCkgKyBbLi4uU3RyaW5nKGNvbHVtbi5jb3VudCldLnJlZHVjZSgoeCwgeSkgPT4geCArIHksIDApIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImZyYWdtZW50c1wiLCBKU09OLnN0cmluZ2lmeShmcmFnbWVudHMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiZnJhZ21lbnRzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgc2lnbkluOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtmaXJlYmFzZS5hdXRoLk9BdXRoQ3JlZGVudGlhbH0gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSByZXN1bHQuY3JlZGVudGlhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiByZXN1bHQudXNlci5wcm92aWRlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogZGF0YS5waG90b1VSTFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsXCIsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgaWRUb2tlbjogY3JlZGVudGlhbC5pZFRva2VuIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZShcInB1YmxpY19wcm9maWxlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtmaXJlYmFzZS5hdXRoLk9BdXRoQ3JlZGVudGlhbH0gKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSByZXN1bHQuY3JlZGVudGlhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiByZXN1bHQudXNlci5wcm92aWRlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogZGF0YS5waG90b1VSTFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVkZW50aWFsXCIsIEpTT04uc3RyaW5naWZ5KHsgcHJvdmlkZXJJZDogY3JlZGVudGlhbC5wcm92aWRlcklkLCBhY2Nlc3NUb2tlbjogY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChuZXcgZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ZpcmViYXNlLmF1dGguT0F1dGhDcmVkZW50aWFsfSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IHJlc3VsdC5jcmVkZW50aWFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiByZXN1bHQudXNlci5wcm92aWRlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob3RvVXJsID0gZGF0YS5waG90b1VSTC5yZXBsYWNlKC9fbm9ybWFsXFwuanBnJC8sICcuanBnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBwaG90b1VybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3VzZXJzLyR7cmVzdWx0LnVzZXIudWlkfWApLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImxpbmtcIl0gPSBgaHR0cHM6Ly90d2l0dGVyLmNvbS8ke3Jlc3VsdC5hZGRpdGlvbmFsVXNlckluZm8udXNlcm5hbWV9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInRpbWVzdGFtcFwiXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBsaW5rOiBgaHR0cHM6Ly90d2l0dGVyLmNvbS8ke3Jlc3VsdC5hZGRpdGlvbmFsVXNlckluZm8udXNlcm5hbWV9YCwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWRlbnRpYWxcIiwgSlNPTi5zdHJpbmdpZnkoeyBwcm92aWRlcklkOiBjcmVkZW50aWFsLnByb3ZpZGVySWQsIGFjY2Vzc1Rva2VuOiBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuLCBzZWNyZXQ6IGNyZWRlbnRpYWwuc2VjcmV0IH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNpZ25PdXQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogXCJjYWNoZXNcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qZmlyZWJhc2UuYXV0aCgpLnNpZ25JbkFub255bW91c2x5KCkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBkYXRlOiBhc3luYyBmdW5jdGlvbiAoaWdub3JlID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja3MgPSBhd2FpdCB0aGlzLmZldGNoKGlnbm9yZSwgY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsIGNlbnRlckxvY2F0aW9uLmxvbmdpdHVkZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlnbm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY2FjaGVkVHJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVySWQgb2Ygc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5oYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLnJlbW92ZUhhbmRsZXIoaGFuZGxlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuZW50aXRpZXMucmVtb3ZlKHNlbGYuY2FjaGVkVHJhY2tzW2tleV0ucHVzaHBpbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5jYWNoZWRUcmFja3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdlb2hhc2ggaW4gdHJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzW2dlb2hhc2hdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHVzaHBpbklkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc3Qgd29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuY2FjaGVkVHJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrLmlkID09PSB0aGlzLmNhY2hlZFRyYWNrc1tpZF0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbklkID0gaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hwaW5JZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hwaW4gPSBuZXcgTWljcm9zb2Z0Lk1hcHMuUHVzaHBpbihuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24odHJhY2subG9jYXRpb24ubGF0aXR1ZGUsIHRyYWNrLmxvY2F0aW9uLmxvbmdpdHVkZSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRyYWNrLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlOiB0aGlzLmZvcm1hdFRpbWUodGltZXN0YW1wIC0gdHJhY2sudGltZXN0YW1wKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCIvaW1hZ2VzL01hcmtlci1TdGFyLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2UocHVzaHBpbiwgdHJhY2sudXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKFwiZGljdGlvbmFyeVwiIGluIHRyYWNrICYmIFwid29yZHNcIiBpbiB0cmFjay5kaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBpbiB0cmFjay5kaWN0aW9uYXJ5LndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWRXb3JkID0gT2JqZWN0LmFzc2lnbih7fSwgdHJhY2suZGljdGlvbmFyeS53b3Jkc1t3b3JkXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkV29yZFtcIm5hbWVcIl0gPSB3b3JkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChjbG9uZWRXb3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrW1wid29yZHNcIl0gPSB3b3JkczsqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluLmlkXSA9IHRyYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW4uaWRdW1wicHVzaHBpblwiXSA9IHB1c2hwaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbi5pZF1bXCJoYW5kbGVyc1wiXSA9IFtNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcihwdXNocGluLCAnY2xpY2snLCBhc3luYyAoYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZGUgPSB0aGlzLmNhY2hlZFRyYWNrc1thcmdzLnRhcmdldC5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNSZXZlYWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdkYmxjbGljaycsIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2VsZi5jYWNoZWRUcmFja3NbYXJncy50YXJnZXQuaWRdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5lbnRpdGllcy5wdXNoKHB1c2hwaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyYWNrLnRpbWVzdGFtcCA+IHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF0udGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVzaHBpbiA9IHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJwdXNocGluXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXVtcImhhbmRsZXJzXCJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldExvY2F0aW9uKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbih0cmFjay5sb2NhdGlvbi5sYXRpdHVkZSwgdHJhY2subG9jYXRpb24ubG9uZ2l0dWRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRyYWNrLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlOiB0aGlzLmZvcm1hdFRpbWUodGltZXN0YW1wIC0gdHJhY2sudGltZXN0YW1wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2UocHVzaHBpbiwgdHJhY2sudXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKFwiZGljdGlvbmFyeVwiIGluIHRyYWNrICYmIFwid29yZHNcIiBpbiB0cmFjay5kaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBpbiB0cmFjay5kaWN0aW9uYXJ5LndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWRXb3JkID0gT2JqZWN0LmFzc2lnbih7fSwgdHJhY2suZGljdGlvbmFyeS53b3Jkc1t3b3JkXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkV29yZFtcIm5hbWVcIl0gPSB3b3JkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMucHVzaChjbG9uZWRXb3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrW1wid29yZHNcIl0gPSB3b3JkczsqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdID0gdHJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXVtcInB1c2hwaW5cIl0gPSBwdXNocGluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF1bXCJoYW5kbGVyc1wiXSA9IGhhbmRsZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdlb2hhc2ggaW4gdHJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzW2dlb2hhc2hdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHMucHVzaCh0cmFjay5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY2FjaGVkVHJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpZHMuc29tZSh4ID0+IHggPT09IHNlbGYuY2FjaGVkVHJhY2tzW2tleV0uaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXJJZCBvZiBzZWxmLmNhY2hlZFRyYWNrc1trZXldLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLnJlbW92ZUhhbmRsZXIoaGFuZGxlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5lbnRpdGllcy5yZW1vdmUoc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5wdXNocGluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5jYWNoZWRUcmFja3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXggPSAxMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWFkZXJib2FyZCA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tEaWN0aW9uYXJ5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja1JhbmtpbmcgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay51c2VyLmlkIGluIHRyYWNrRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tEaWN0aW9uYXJ5W3RyYWNrLnVzZXIuaWRdLmNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gT2JqZWN0LmFzc2lnbih7fSwgdHJhY2sudXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImNvdW50XCJdID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrRGljdGlvbmFyeVt0cmFjay51c2VyLmlkXSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhY2tEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tSYW5raW5nLnB1c2godHJhY2tEaWN0aW9uYXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrUmFua2luZy5zb3J0KCh4LCB5KSA9PiB5LmNvdW50IC0geC5jb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cmFja1JhbmtpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVhZGVyYm9hcmQuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIGxlYWRlcmJvYXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYWRlcmJvYXJkLnB1c2goZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBzaWxvbiA9IE1hdGgucG93KDEwLCAtNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGV0IGZpbHRlcmVkRG9jdW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1GcmVxdWVuY2llcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGJhc2VUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc3QgbGltaXQgPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVEaWN0aW9uYXJ5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhTY29yZSA9IGVwc2lsb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtU2V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0cmFjay5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1TZXQuaW5jbHVkZXModHJhY2submFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2submFtZSBpbiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W3RyYWNrLm5hbWVdICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lbdHJhY2submFtZV0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtU2V0LnB1c2godHJhY2submFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50cy5wdXNoKHRva2Vucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZG9jdW1lbnRzLnB1c2goeyB0b2tlbnM6IHRva2VucywgdGltZXN0YW1wOiB1c2VyLnRpbWVzdGFtcCwgdXNlcjogeyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lLCBpbWFnZTogXCJpbWFnZVwiIGluIHVzZXIgPyB1c2VyLmltYWdlIDogbnVsbCB9IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ3b3Jkc1wiIGluIHVzZXIgJiYgdXNlci53b3Jkcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XSA9IE1hdGgubG9nKGRvY3VtZW50cy5sZW5ndGggLyAoaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gKyBlcHNpbG9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmZvciAoY29uc3QgZG9jdW1lbnQgb2YgZG9jdW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC50aW1lc3RhbXAgKiAxMDAwID4gYmFzZVRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWREb2N1bWVudHMubGVuZ3RoIDwgbGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluID0gTWF0aC5tYXgoZG9jdW1lbnRzLmxlbmd0aCAtIGxpbWl0LCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkb2N1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSBtaW47IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMudW5zaGlmdChkb2N1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2YgZG9jdW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBkb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZbdG9rZW5dICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZbdG9rZW5dID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZba2V5XSAvPSBkb2N1bWVudC5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHNjb3JlRGljdGlvbmFyeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybUZyZXF1ZW5jaWVzLnB1c2godGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVybUZyZXF1ZW5jeSBvZiB0ZXJtRnJlcXVlbmNpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gdGVybUZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRmaWRmID0gdGVybUZyZXF1ZW5jeVtrZXldICogaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZmlkZiA+IHNjb3JlRGljdGlvbmFyeVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGljdGlvbmFyeVtrZXldID0gdGZpZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5sZW5ndGggPiAxICYmIGtleSAhPSBcIi4uLlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh7IHRlcm06IGtleSwgdmFsdWU6IHNjb3JlRGljdGlvbmFyeVtrZXldIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMuc29ydCgoeCwgeSkgPT4geS52YWx1ZSAtIHgudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmVzLmxlbmd0aCA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMuc3BsaWNlKG1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUudmFsdWUgPiBtYXhTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4U2NvcmUgPSBzY29yZS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUudmFsdWUgLz0gbWF4U2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMuc29ydCgoeCwgeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC50ZXJtID4geS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4LnRlcm0gPCB5LnRlcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW2RvY3VtZW50cywgc2NvcmVzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZERvY3VtZW50cy5zcGxpY2UoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiByZXN1bHRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWREb2N1bWVudHMucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzWzFdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzLnB1c2goeyBpbmRleDogaSwgbmFtZTogcmVzdWx0c1sxXVtpXS50ZXJtLCBzY29yZTogcmVzdWx0c1sxXVtpXS52YWx1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uIChpZ25vcmUsIGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlY2lzaW9ucyA9IHsgMTogMiwgMjogMiwgMzogMiwgNDogMiwgNTogMiwgNjogMiwgNzogMiwgODogMiwgOTogMiwgMTA6IDMsIDExOiAzLCAxMjogNCwgMTM6IDQsIDE0OiA0LCAxNTogNSwgMTY6IDUsIDE3OiA1LCAxODogNiwgMTk6IDYsIDIwOiA2IH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJHZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbnNbdGhpcy5tYXAuZ2V0Wm9vbSgpXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2VvaGFzaGVzID0gW2NlbnRlckdlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcFJlY2VudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHByaW1pdGl2ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5kZWNvZGVHZW9oYXNoKGNlbnRlckdlb2hhc2gpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wQ2FjaGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVzLnB1c2gobmV3IE1pY3Jvc29mdC5NYXBzLlBvbHlnb24oW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcHJpZ2h0LmxhdGl0dWRlLCByZWN0LnRvcHJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tcmlnaHQubGF0aXR1ZGUsIHJlY3QuYm90dG9tcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKV0sIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjZW50ZXJHZW9oYXNoLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhjZW50ZXJHZW9oYXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmVpZ2hib3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2hlcy5wdXNoKG5laWdoYm9yc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLmRlY29kZUdlb2hhc2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5wdXNoKG5ldyBNaWNyb3NvZnQuTWFwcy5Qb2x5Z29uKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbXJpZ2h0LmxhdGl0dWRlLCByZWN0LmJvdHRvbXJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5zZXRQcmltaXRpdmVzKHByaW1pdGl2ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKGNlbnRlckdlb2hhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBvZiBnZW9oYXNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZSAmJiBnZW9oYXNoIGluIHRoaXMucXVlcnlDYWNoZSAmJiB0aW1lc3RhbXAgLSB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0udGltZXN0YW1wIDwgdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdGhpcy5xdWVyeUNhY2hlW2dlb2hhc2hdLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBSZWNlbnQucHVzaCh1c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaCBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXS5wdXNoKHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdID0gW3VzZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrc1wiKS5vcmRlckJ5Q2hpbGQoXCJrZXlcIikubGltaXRUb0xhc3QoNTApLnN0YXJ0QXQoZ2VvaGFzaCkuZW5kQXQoZ2VvaGFzaC5wYWRFbmQoMTIsIFwielwiKSArIFwiXFx1ZjhmZlwiKS5vbmNlKCd2YWx1ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ2FjaGVbZ2VvaGFzaF0gPSB7IHRpbWVzdGFtcDogdGltZXN0YW1wLCBkYXRhOiBbXSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldW1wiaWRcIl0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUmVjZW50LnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBDYWNoZVtnZW9oYXNoXS5kYXRhLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaCBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXS5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0gPSBbZGljdGlvbmFyeVtrZXldXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5UXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWVyeVF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdlb2hhc2ggaW4gdGVtcENhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeUNhY2hlW2dlb2hhc2hdID0gdGVtcENhY2hlW2dlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnlDYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHNlbGYucXVlcnlDYWNoZVtrZXldLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnF1ZXJ5Q2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnQgPSB0aGlzLnRha2UodGVtcFJlY2VudC5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKSwgMTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZGF0YVtrZXldLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNlbnQuaW5jbHVkZXMoZGF0YVtrZXldW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtrZXldLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFba2V5XS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnRQZWRvbWV0ZXI6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0ZSA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdGUgIT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VNb3Rpb24gPSBldmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWcgPSBldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGFnLnggKiBhZy54ICsgYWcueSAqIGFnLnkgKyBhZy56ICogYWcueik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1N0ZXBwaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IDkuOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vd0RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VEYXRlID0gbm93RGF0ZS5nZXRUaW1lKCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N0ZXBwaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGRheXMgPSBzZWxmLnN0YXRzLmxlbmd0aCAtIDE7IGRheXMgPiAwOyBkYXlzLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuc3RhdHNbZGF5c10uZGF0ZS5nZXRUaW1lKCkgPD0gYmFzZURhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdHMuc3BsaWNlKGRheXMsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdHNbZGF5c10uZGF0ZS5nZXRGdWxsWWVhcigpICE9PSBub3dEYXRlLmdldEZ1bGxZZWFyKCkgJiYgc2VsZi5zdGF0c1tkYXlzXS5kYXRlLmdldE1vbnRoKCkgIT09IG5vd0RhdGUuZ2V0TW9udGgoKSAmJiBzZWxmLnN0YXRzW2RheXNdLmRhdGUuZ2V0RGF0ZSgpICE9PSBub3dEYXRlLmdldERhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMucHVzaCh7IGRhdGU6IHNlbGYuc3RhdHNbZGF5c10uZGF0ZS50b0lTT1N0cmluZygpLCBzdGVwczogc2VsZi5zdGF0c1tkYXlzXS5zdGVwcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMudW5zaGlmdCh7IGRhdGU6IG5ldyBEYXRlKG5vd0RhdGUuZ2V0RnVsbFllYXIoKSwgbm93RGF0ZS5nZXRNb250aCgpLCBub3dEYXRlLmdldERhdGUoKSwgMCwgMCwgMCkudG9JU09TdHJpbmcoKSwgc3RlcHM6IHNlbGYuc3RlcHMgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3RhdHNcIiwgSlNPTi5zdHJpbmdpZnkoc3RhdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwic3RhdHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5zdGVwcyAlIDEwID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaW5Db3VudCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIHNlbGYuY2hhcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGQgb2YgZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAucHVzaCh7IHBhdGg6IHsgcm93OiBpLCBjb2x1bW46IGogfSwgZGF0YTogZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvdW50IDwgbWluQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluQ291bnQgPSBkLmNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBtYXAubGVuZ3RoIC0gMTsgaiA+IDA7IGotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcFtqXS5kYXRhLmNvdW50ID4gbWluQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleFBhdGggPSBtYXBbX3JhbmRvbSgwLCBtYXAubGVuZ3RoKV0ucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hhcnNbaW5kZXhQYXRoLnJvd11baW5kZXhQYXRoLmNvbHVtbl0uY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGFyc1tpbmRleFBhdGgucm93XVtpbmRleFBhdGguY29sdW1uXS50aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJDYXB0dXJlXCIpLCBzZWxmLmNoYXJzW2luZGV4UGF0aC5yb3ddW2luZGV4UGF0aC5jb2x1bW5dLnNldFswXSwgdGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCBzZWxmLmNoYXJzW2luZGV4UGF0aC5yb3ddW2luZGV4UGF0aC5jb2x1bW5dLnNldFswXSksIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJDYXB0dXJlXCIpLCBzZWxmLmNoYXJzW2luZGV4UGF0aC5yb3ddW2luZGV4UGF0aC5jb2x1bW5dLnNldFswXSwgdGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgY2hhcmFjdGVyOiB0aGlzLmNoYXJhY3RlciwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCBzZWxmLmNoYXJzW2luZGV4UGF0aC5yb3ddW2luZGV4UGF0aC5jb2x1bW5dLnNldFswXSkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcImNoYXJhY3RlclwiXSA9IHRoaXMuY2hhcmFjdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkID4gMTIuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N0ZXBwaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCB0aGlzLmRldmljZU1vdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0b3BQZWRvbWV0ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlbW90aW9uXCIsIHRoaXMuZGV2aWNlTW90aW9uLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlTW90aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9jYXRlOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcInBlcm1pc3Npb25zXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJncmFudGVkXCIgfHwgcGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcInByb21wdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2F0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0xvY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2NhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcImdyYW50ZWRcIiB8fCBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwicHJvbXB0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8qdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wia2V5XCJdID0gZ2VvaGFzaCArIHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcIm5hbWVcIl0gPSBzZWxmLnVzZXIuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJpbWFnZVwiXSA9IHNlbGYudXNlci5waG90b1VSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvKn0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VuZDogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RlYnVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFncyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0aGlzLmlucHV0LnNwbGl0KC9cXHMvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlcy5zb21lKCh4KSA9PiB4LmlkID09PSB0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiAwICYmIHRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9pbWFnZXMvXCIgKyBrZXkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcInRhZ3NcIl0gPSB0YWdzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMZWFybmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFybih7IG5hbWU6IHRoaXMuaW5wdXQsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMuYmFja2dyb3VuZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGltYWdlLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5pbnB1dC5sZW5ndGggPD0gdGhpcy5tYXhJbnB1dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhcm4oeyBuYW1lOiB0aGlzLmlucHV0LCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hha2UodGhpcy4kcmVmcy5pbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEltYWdlOiBhc3luYyBmdW5jdGlvbiAocHVzaHBpbiwgdXNlciwgc2VsZWN0ZWQgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnN0IGhvdXJzID0gbmV3IERhdGUodHJhY2sucG9zaXRpb24udGltZXN0YW1wICogMTAwMCkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZVwiIGluIHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLypwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMTggMThcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEsMCwwLDEsLTE3LjcwNzcsLTE4Ljc1MzgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yNi43MDgsMTkuNzU0QzMxLjEyMywxOS43NTQgMzQuNzA4LDIzLjMzOSAzNC43MDgsMjcuNzU0QzM0LjcwOCwzMi4xNjkgMzEuMTIzLDM1Ljc1NCAyNi43MDgsMzUuNzU0QzIyLjI5MiwzNS43NTQgMTguNzA4LDMyLjE2OSAxOC43MDgsMjcuNzU0QzE4LjcwOCwyMy4zMzkgMjIuMjkyLDE5Ljc1NCAyNi43MDgsMTkuNzU0Wk0yNi43MDgsMjMuNzU0QzI4LjkxNSwyMy43NTQgMzAuNzA4LDI1LjU0NiAzMC43MDgsMjcuNzU0QzMwLjcwOCwyOS45NjIgMjguOTE1LDMxLjc1NCAyNi43MDgsMzEuNzU0QzI0LjUsMzEuNzU0IDIyLjcwOCwyOS45NjIgMjIuNzA4LDI3Ljc1NEMyMi43MDgsMjUuNTQ2IDI0LjUsMjMuNzU0IDI2LjcwOCwyMy43NTRaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmltYWdlLnN0YXJ0c1dpdGgoXCJnczovL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gYXdhaXQgc3RvcmFnZS5yZWZGcm9tVVJMKHVzZXIuaW1hZ2UpLmdldERvd25sb2FkVVJMKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuc3JjID0gdXNlci5pbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1NFwiIHZpZXdCb3g9XCIwIDAgNTAgNTRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM6c2VyaWY9XCJodHRwOi8vd3d3LnNlcmlmLmNvbS9cIiBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC40MTA1NzQsMCwwLDAuNDEwNTc0LDM0LjA0OTgsMjYuNzY5NClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCwtNy4yOUMtMC4zMTEsLTguMjQ3IC0xLjEzOCwtOC45NDQgLTIuMTMzLC05LjA4OUwtOS4yMSwtMTAuMTE3TC0xMi4zNzUsLTE2LjUyOUMtMTIuODE5LC0xNy40MzIgLTEzLjczOCwtMTguMDAzIC0xNC43NDQsLTE4LjAwM0MtMTUuNzUsLTE4LjAwMyAtMTYuNjcsLTE3LjQzMiAtMTcuMTE0LC0xNi41M0wtMjAuMjc5LC0xMC4xMTdMLTI3LjM1NSwtOS4wODlDLTI4LjM1MiwtOC45NDQgLTI5LjE3OSwtOC4yNDcgLTI5LjQ5LC03LjI5Qy0yOS44MDEsLTYuMzMzIC0yOS41NDEsLTUuMjgzIC0yOC44MiwtNC41ODFMLTIzLjcsMC40MUwtMjQuOTA4LDcuNDU5Qy0yNS4wNzgsOC40NSAtMjQuNjcyLDkuNDUyIC0yMy44NTcsMTAuMDQzQy0yMy4wNDMsMTAuNjM1IC0yMS45NjUsMTAuNzEzIC0yMS4wNzQsMTAuMjQ0TC0xNC43NDQsNi45MTdMLTguNDE1LDEwLjI0NEMtOC4wMjgsMTAuNDQ3IC03LjYwNiwxMC41NDggLTcuMTg2LDEwLjU0OEMtNi42MzgsMTAuNTQ4IC02LjA5MiwxMC4zNzcgLTUuNjMyLDEwLjA0M0MtNC44MTgsOS40NTIgLTQuNDEsOC40NSAtNC41OCw3LjQ1OEwtNS43ODksMC40MUwtMC42NjgsLTQuNTgxQzAuMDUyLC01LjI4MyAwLjMxMiwtNi4zMzMgMCwtNy4yOVwiIHN0eWxlPVwiZmlsbDp3aGl0ZTtmaWxsLXJ1bGU6bm9uemVybztcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBvcGFjaXR5ID0gaG91cnMgPj0gNiAmJiBob3VycyA8IDE4ID8gXCIwLjA1XCIgOiBcIjFcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGFjY2VudENvbG9yID0gc2VsZi51c2VyLnVpZCA9PT0gd29yZC5pZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHNlbGVjdGVkQ29sb3IgPSBzZWxlY3RlZCA/IHNlbGYuY2hhcmFjdGVyLmFjY2VudCA6ICdyZ2IoMjU0LDIyMSw4MCknO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubGluZVN2ZyA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjU0XCIgdmlld0JveD1cIjAgMCA1MCA1NFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxuczpzZXJpZj1cImh0dHA6Ly93d3cuc2VyaWYuY29tL1wiIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMC45OTk5OTksMCwwLDAuOTk5OTk5LDE3LjAwMTEsLTEzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCw1MEwxNiw1MEw4LDY2TDAsNTBaXCIgc3R5bGU9XCJmaWxsOnJnYigyNTUsMjM4LDApO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgxLjk2NDkxLDAsMCwxLjk2NDkxLC0zMC4wMDk5LC0yNC41OTMxKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjc5MTY2NywwLDAsMC43OTE2NjcsNS44MzI0OSw1LjI1ODIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMjcuOTk2XCIgY3k9XCIyNS4yMzlcIiByPVwiMTIuMjE0XCIgc3R5bGU9XCJmaWxsOndoaXRlO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cIl9jbGlwMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NsaXBQYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgY2xpcC1wYXRoPVwidXJsKCNfY2xpcDIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJCYWNrZ3JvdW5kXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMDIzODU2LDAsMCwwLjAyMzg1NiwtMi41Mzk2NCwtNS4yOTY1OClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiI19JbWFnZTNcIiB4PVwiNzY3XCIgeT1cIjc2N1wiIHdpZHRoPVwiMTAyNnB4XCIgaGVpZ2h0PVwiMTAyNnB4XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpZD1cIl9JbWFnZTNcIiB3aWR0aD1cIjEwMjZweFwiIGhlaWdodD1cIjEwMjZweFwiIHhsaW5rOmhyZWY9XCJgICsgYy50b0RhdGFVUkwoKSArIGBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGlubGluZVN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBsb2FkOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlVXVpZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2Nocm9tZS1wbGF0Zm9ybS1hbmFseXRpY3MvYmxvYi9tYXN0ZXIvc3JjL2ludGVybmFsL2lkZW50aWZpZXIuanNcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBGT1JNQVQ6IHN0cmluZyA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJzID0gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnNbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNikudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1tpXSA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDgpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBldmVudC50YXJnZXQuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubmFtZSA+IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgubmFtZSA8IHkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYuY2hpbGQoYGltYWdlcy8ke2dlbmVyYXRlVXVpZCgpfWApLnB1dChmaWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkVGFzay5vbihcInN0YXRlX2NoYW5nZWRcIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzIC8gZmlsZXMubGVuZ3RoICsgcGF0aHMubGVuZ3RoIC8gZmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhzLnB1c2godXBsb2FkVGFzay5zbmFwc2hvdC5yZWYuZnVsbFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi9pbWFnZXNcIikucHVzaCh7IHBhdGhzOiBwYXRocywgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhcm46IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImF0dHJpYnV0ZXNcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB3b3JkLm5hbWUpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB3LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmQgPSB7IG5hbWU6IHdvcmQubmFtZSwgYXR0cmlidXRlczogYXR0cmlidXRlcyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImxvY2F0aW9uXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcImxvY2F0aW9uXCJdID0gd29yZC5sb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcInVzZXJcIl0gPSB3b3JkLnVzZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hhcmU6IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gXCJsb2NhdGlvblwiIGluIHdvcmQgPyB3b3JkLmxvY2F0aW9uIDogdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxvY2F0aW9uLmxhdGl0dWRlLCBsb2NhdGlvbi5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHsgaWQ6IHRoaXMudXNlci51aWQsIG5hbWU6IHRoaXMudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHRoaXMudXNlci5waG90b1VSTCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5wcm92aWRlckRhdGFbMF0ucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGF3YWl0IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3VzZXJzLyR7dGhpcy51c2VyLnVpZH0vbGlua2ApLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImxpbmtcIl0gPSBsaW5rLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHdvcmQubmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIGN1cnJlbnQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxldGVSZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0geyBhdHRyaWJ1dGVzOiB7fSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIGN1cnJlbnQuYXR0cmlidXRlcyAmJiBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gdGltZXN0YW1wIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGF0dHJpYnV0ZXM6IHt9LCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widXNlclwiXSA9IHsgaWQ6IHdvcmQudXNlci5pZCwgbmFtZTogd29yZC51c2VyLm5hbWUsIGltYWdlOiB3b3JkLnVzZXIuaW1hZ2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9LCBhc3luYyBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPT09IFwibnVtYmVyXCIgJiYgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPiAwICYmIHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChkaWN0aW9uYXJ5LmF0dHJpYnV0ZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSBkaWN0aW9uYXJ5LnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQpXFx9L2csIGZ1bmN0aW9uIChtLCBjKSB7IHJldHVybiBhcmdzW3BhcnNlSW50KGMpICsgMV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlbGYucHJlcGFyZShzZWxmLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIHdvcmQubmFtZSksIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGFyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdGFyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy50d2lua2xlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIHdvcmQgPT09IGZhbHNlIHx8IHdvcmQudXNlci5pZCA9PT0gc2VsZi51c2VyLnVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wia2V5XCJdID0gYCR7Z2VvaGFzaH0ke3RpbWVzdGFtcH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHsga2V5OiBgJHtnZW9oYXNofSR7dGltZXN0YW1wfWAsIG5hbWU6IHdvcmQubmFtZSwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0aW9uYXJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IGRpY3Rpb25hcnkuYXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiYXR0cmlidXRlc1wiXSA9IGF0dHJpYnV0ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdHJhY2tzYCkucHVzaCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuc2V0KHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IHdvcmQuYXR0cmlidXRlcywgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRpbWVzdGFtcDogdGltZXN0YW1wLCB1c2VyOiB7IGlkOiBzZWxmLnVzZXIudWlkLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwgfSB9LCBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ICYmIGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi90cmFja3MvXCIgKyBhd2FpdCBzZWxmLmRpZ2VzdE1lc3NhZ2UoYCR7c2VsZi51c2VyLnVpZH0mJHt3b3JkLm5hbWV9YCkpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzU3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInVzZXJcIiBpbiB3b3JkID09PSBmYWxzZSB8fCB3b3JkLnVzZXIuaWQgPT09IHNlbGYudXNlci51aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrcy9cIiArIGF3YWl0IHNlbGYuZGlnZXN0TWVzc2FnZShgJHtzZWxmLnVzZXIudWlkfSYke3dvcmQubmFtZX1gKSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcImtleVwiXSA9IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wibG9jYXRpb25cIl0gPSB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wiZ2VvaGFzaFwiXSA9IGdlb2hhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtcInVzZXJcIl0gPSB1c2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gdGltZXN0YW1wIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBrZXk6IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YCwgbmFtZTogd29yZC5uYW1lLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIGF0dHJpYnV0ZXM6IHt9LCB1c2VyOiB1c2VyLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSwgYywgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jIGZ1bmN0aW9uICh1c2VySWQsIHN0YXJ0QXQsIGxpbWl0ID0gNTApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRBdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkubGltaXRUb0ZpcnN0KGxpbWl0ICsgMSkub25jZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLnN0YXJ0QXQoc3RhcnRBdCkubGltaXRUb0ZpcnN0KGxpbWl0ICsgMSkub25jZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdGhpcy5tb2RlICYmIHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZS53b3JkcyAhPT0gbnVsbCAmJiB0aGlzLm1vZGUud29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUuaW5kZXhlcy5wdXNoKHRoaXMubW9kZS53b3Jkc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3Jkcy5wdXNoKFwidXNlclwiIGluIHdvcmRzW25hbWVdID8geyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzLCB1c2VyOiB3b3Jkc1tuYW1lXS51c2VyIH0gOiB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzLmxlbmd0aCA9PT0gbGltaXQgKyAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gdGhpcy5tb2RlLndvcmRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5uZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiBhc3luYyBmdW5jdGlvbiAodXNlcklkLCBzdGFydEF0LCBsaW1pdCA9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlLZXkoKS5zdGFydEF0KHN0YXJ0QXQpLmxpbWl0VG9GaXJzdChsaW1pdCkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdGhpcy5tb2RlICYmIHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZS53b3JkcyAhPT0gbnVsbCAmJiB0aGlzLm1vZGUud29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUubmV4dCA9IHRoaXMubW9kZS53b3Jkc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLndvcmRzLnB1c2goXCJ1c2VyXCIgaW4gd29yZHNbbmFtZV0gPyB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMsIHVzZXI6IHdvcmRzW25hbWVdLnVzZXIgfSA6IHsgbmFtZTogbmFtZSwgYXR0cmlidXRlczogd29yZHNbbmFtZV0uYXR0cmlidXRlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpc2NvdmVyOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkU2V0ID0ge307XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJlY2VudFdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci51aWQgIT09IHdvcmQudXNlci5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkU2V0W3dvcmQubmFtZV0gPSB3b3JkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhY2hlZFRyYWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIudWlkICE9PSB0aGlzLmNhY2hlZFRyYWNrc1trZXldLnVzZXIuaWQgJiYgdGhpcy5jYWNoZWRUcmFja3Nba2V5XS5uYW1lIGluIHdvcmRTZXQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnB1c2godGhpcy5jYWNoZWRUcmFja3Nba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEaXNjb3ZlcmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHNodWZmbGUod29yZHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgd29yZC5uYW1lKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHdvcmQubmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4geyBrZXk6IHdvcmQua2V5LCBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IHdvcmQuYXR0cmlidXRlcywgbG9jYXRpb246IHdvcmQubG9jYXRpb24sIGdlb2hhc2g6IHdvcmQuZ2VvaGFzaCwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzbmFwc2hvdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEaXNjb3ZlcmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJEaXNjb3ZlclwiKSwgd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIHdvcmQubmFtZSksIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLmFsdGVybmF0aXZlLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJEaXNjb3ZlclwiKSwgd29yZC5uYW1lLCB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS5zZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIGNoYXJhY3RlcjogdGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUsIHRleHQ6IGZvcm1hdChvYmoudGV4dCwgd29yZC5uYW1lKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJjaGFyYWN0ZXJcIl0gPSB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXJuKHsgbmFtZTogd29yZC5uYW1lLCBhdHRyaWJ1dGVzOiB3b3JkLmF0dHJpYnV0ZXMsIGxvY2F0aW9uOiB3b3JkLmxvY2F0aW9uLCB1c2VyOiB3b3JkLnVzZXIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbih3b3JkLmxvY2F0aW9uLmxhdGl0dWRlLCB3b3JkLmxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rpc2NvdmVyaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLypmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkRpc2NvdmVyXCIpLCBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBvYmoudGV4dCwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkRpc2NvdmVyXCIpLCBcIlwiLCB0aGlzLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS5zZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIGNoYXJhY3RlcjogdGhpcy5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUsIHRleHQ6IG9iai50ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcImNoYXJhY3RlclwiXSA9IHRoaXMuY2hhcmFjdGVyLmFsdGVybmF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaWdlc3RNZXNzYWdlOiBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVWludDggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFjdGl2YXRlOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZGxlVGltZSA9IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWREb2N1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50UXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IFtdLmNvbmNhdChhcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gX3JhbmRvbSgwLCBuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYVtuXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtuXSA9IGFba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jdW1lbnQgb2Ygc2h1ZmZsZSh0aGlzLmNhY2hlZERvY3VtZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRRdWV1ZS5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50UXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnRhbGsodGhpcy51c2VyLnVpZCwgZG9jdW1lbnQuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWxrOiBhc3luYyBmdW5jdGlvbiAodXNlcklkLCB0b2tlbnMgPSBbXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJBY3RpdmF0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IFtdLmNvbmNhdChhcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gX3JhbmRvbSgwLCBuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtuXSA9IGFba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2tdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjAgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3RhdGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRlciA9IG5ldyBUaW55U2VnbWVudGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuU2V0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXSA9IHsgYXR0cmlidXRlczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2h1ZmZsZShzZXF1ZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXBhcmVkU2VxdWVuY2UgPSB0aGlzLnByZXBhcmUoW3NdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzQWJvcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHByZXBhcmVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIEFycmF5LmlzQXJyYXkoby50ZXh0KSA/IG8udGV4dCA6IHNlZ21lbnRlci5zZWdtZW50KG8udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBwcmVwYXJlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0ZXh0LCBjYWNoZV0gPSB0ZW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogdGV4dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmxlbmd0aCA+IDEgJiYgIXRva2VuU2V0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRoaXMud29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUodXNlcklkLCBvYmoudGV4dCwgdG9rZW5zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogdGV4dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWJvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5TZXQucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWJvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzID0gdGVtcFN0YXRlcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnByZXBhcmUoc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUodXNlcklkLCBvYmoudGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZW5lcmF0ZTogYXN5bmMgZnVuY3Rpb24gKHVzZXJJZCwgbWVzc2FnZSwgaGludHMgPSBbXSkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hvaWNlKHByb2JhYmlsaXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHByb2JhYmlsaXR5IG9mIHByb2JhYmlsaXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1bSA8PSByICYmIHIgPCBzdW0gKyBwcm9iYWJpbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwcm9iYWJpbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzb2Z0bWF4KHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeFtpXSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0geFtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBNYXRoLmV4cCh4W2ldIC0gbWF4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5LnB1c2goTWF0aC5leHAoeFtpXSAtIG1heCkgLyBzdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjAgKiA2MDtcclxuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ZXIgPSBuZXcgVGlueVNlZ21lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IEFycmF5LmlzQXJyYXkobWVzc2FnZSkgPyBtZXNzYWdlIDogc2VnbWVudGVyLnNlZ21lbnQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGludERpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlblNldCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChcIlsuIyRcXFxcW1xcXFxdXVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBjYWNoRGljdGlvbmFyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmVhbVdpZHRoID0gMTA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VzID0gW3sgc2VxdWVuY2U6IFtdLCBzY29yZTogMS4wIH1dXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBoaW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB0b2tlbikub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pID09PSBcIm51bWJlclwiICYmIHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCAmJiB0aGlzLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiBoaW50RGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludERpY3Rpb25hcnlbYXR0cmlidXRlXS5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0gPSBbdG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlblNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09IHRhZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh0YWcuc2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGVwc2lsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoYGF0dHJpYnV0ZXMvJHthdHRyaWJ1dGV9YCkubGltaXRUb0xhc3QoMTAwKS5zdGFydEF0KDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdID0geyB3b3JkczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmluY2x1ZGVzKHdvcmQpICYmICF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlZ2V4LnRlc3QodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB0b2tlbikub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXSA9IHsgYXR0cmlidXRlczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBpbiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiBoaW50RGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1zLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXJJZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUNoaWxkKGBhdHRyaWJ1dGVzLyR7YXR0cmlidXRlfWApLmxpbWl0VG9MYXN0KDEwMCkuc3RhcnRBdCgxKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXSA9IHsgd29yZHM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdLndvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmluY2x1ZGVzKHdvcmQpICYmICF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gc2VxdWVuY2VzW2Nob2ljZShzb2Z0bWF4KHNlcXVlbmNlcy5tYXAoeCA9PiB4LnNjb3JlKSkpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gaW4gY2FjaERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoRGljdGlvbmFyeVt0b2tlbnNbaV1dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcy5zZXF1ZW5jZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VxdWVuY2Vbal0uaW5kZXggPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gPT0gcy5zZXF1ZW5jZVtqXS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hEaWN0aW9uYXJ5W3Rva2Vuc1tpXV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXSA9IHMuc2VxdWVuY2Vbal0udGVybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzLnNlcXVlbmNlW2pdLnRlcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0ZXh0LCBjYWNoRGljdGlvbmFyeV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtcImlkXCJdID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09PSBkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24sIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiBzaHVmZmxlKHRoaXMucmVjZW50SW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5wdXNoKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBpbWFnZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHsgaWQ6IGltYWdlLmlkLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQocGF0aCkuZ2V0RG93bmxvYWRVUkwoKSwgdGltZXN0YW1wOiBpbWFnZS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGltYWdlLnRhZ3MuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbWFnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGltYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltYWdlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogaW1hZ2UudGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNoYWtlOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRlKFtcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoOHB4LCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoLThweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDdweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC03cHgsIDAsIDApXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCg2cHgsIDAsIDApXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgtNnB4LCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoNXB4LCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoLTVweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDRweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC00cHgsIDAsIDApXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgzcHgsIDAsIDApXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgtM3B4LCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoMnB4LCAwLCAwKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlM2QoLTJweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKDFweCwgMCwgMClcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZTNkKC0xcHgsIDAsIDApXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVwiIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZHVyYXRpb246IDEwMDAsIGl0ZXJhdGlvbnM6IDEgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxUaW1lb3V0SUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0SUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGV2ZW50KS5mb3JtYXQoXCJMVFwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25IZWlnaHQgPSBzZWxmLiRyZWZzLm5vdGlmaWNhdGlvbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVhZGVyYm9hcmRIZWlnaHQgPSBzZWxmLiRyZWZzLmxlYWRlcmJvYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpY2tlclVwZGF0ZWQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmFuZ2U6IGZ1bmN0aW9uIChkYXRlLCBkYXlzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXkgb2YgZGF5cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChuZXcgRGF0ZShuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCksIGRhdGUuZ2V0SG91cnMoKSwgZGF0ZS5nZXRNaW51dGVzKCksIGRhdGUuZ2V0U2Vjb25kcygpLCBkYXRlLmdldE1pbGxpc2Vjb25kcygpKS5nZXRUaW1lKCkgKyBkYXkgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmFuZ2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goY29sdW1ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRha2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IFtdLmNvbmNhdChjb2xsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoY291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoY29sbGVjdGlvbikucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IodGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0IC8gODY0MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHQgLyAzNjAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdCAlIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXlzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgXCJkXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG91cnMgKyBcImhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgXCJtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZHMgKyBcInNcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlnZXN0TWVzc2FnZTogYXN5bmMgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1VpbnQ4ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuY29kZSBhcyAodXRmLTgpIFVpbnQ4QXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7IC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoSGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXREaXN0YW5jZTogZnVuY3Rpb24gKGxhdDEsIGxvbjEsIGxhdDIsIGxvbjIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG4gICAgICAgICAgICAgICAgdmFyIGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRMb24gPSB0aGlzLmRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPVxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW5jb2RlR2VvaGFzaDogZnVuY3Rpb24gKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbiA9IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCSVRTID0gWzE2LCA4LCA0LCAyLCAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ldmVuID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsb24gPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDsgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDsgbG9uWzFdID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGdlb2hhc2gubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0aXR1ZGUgPiBtaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoIHw9IEJJVFNbYml0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2ggKz0gQkFTRTMyW2NoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvaGFzaDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVjb2RlR2VvaGFzaDogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdF9lcnIgPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbl9lcnIgPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDtcclxuICAgICAgICAgICAgICAgIGxhdFsxXSA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMF0gPSAtMTgwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2hhc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdlb2hhc2hbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gQkFTRTMyLmluZGV4T2YoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCSVRTW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbl9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMV0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRfZXJyIC89IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkICYgbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzFdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxhdFsyXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgIGxvblsyXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsYXRbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogeyBsYXRpdHVkZTogbGF0WzBdLCBsb25naXR1ZGU6IGxvblswXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB7IGxhdGl0dWRlOiBsYXRbMV0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMV0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzFdIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldE5laWdoYm9yczogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2xlZnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogcmlnaHRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcGxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3ByaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGxlZnRHZW9oYXNoLCAnYm90dG9tJylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGN1bGF0ZUFkamFjZW50OiBmdW5jdGlvbiAoc3JjSGFzaCwgZGlyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBORUlHSEJPUlMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsgZXZlbjogXCJiYzAxZmc0NTIzODk2N2RldXZoanl6bnBrbXN0cXJ3eFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeyBldmVuOiBcIjIzODk2N2RlYmMwMWZnNDVrbXN0cXJ3eHV2aGp5em5wXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHsgZXZlbjogXCJwMHIyMTQzNng4emI5ZGNmNWg3a2pubXFlc2d1dHd2eVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMTQzNjVoN2s5ZGNmZXNndWpubXFwMHIydHd2eXg4emJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQk9SREVSUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjZmd1dnl6XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMDE0NWhqbnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInByeHpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogeyBldmVuOiBcIjAyOGJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5ib3R0b20ub2RkID0gTkVJR0hCT1JTLmxlZnQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy50b3Aub2RkID0gTkVJR0hCT1JTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMubGVmdC5vZGQgPSBORUlHSEJPUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMucmlnaHQub2RkID0gTkVJR0hCT1JTLnRvcC5ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIEJPUkRFUlMuYm90dG9tLm9kZCA9IEJPUkRFUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy50b3Aub2RkID0gQk9SREVSUy5yaWdodC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5sZWZ0Lm9kZCA9IEJPUkRFUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnJpZ2h0Lm9kZCA9IEJPUkRFUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgc3JjSGFzaCA9IHNyY0hhc2gudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdENociA9IHNyY0hhc2guY2hhckF0KHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IChzcmNIYXNoLmxlbmd0aCAlIDIpID8gJ29kZCcgOiAnZXZlbic7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IHNyY0hhc2guc3Vic3RyaW5nKDAsIHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEJPUkRFUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoYmFzZSwgZGlyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIEJBU0UzMltORUlHSEJPUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKHNlcXVlbmNlcywgc3RhdGUgPSBudWxsLCBzZWxlY3RlZFNlcXVlbmNlcyA9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNob29zZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBmbGF0dGVuZWRTZXF1ZW5jZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBzZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3RhdGUgPSBzdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBudWxsICYmIHMubmFtZSBpbiB0aGlzLnN0YXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhdGUgPSB0aGlzLnN0YXRlc1tzLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTdGF0ZSAhPT0gbnVsbCAmJiBcInN0YXRlXCIgaW4gcyAmJiBzLnN0YXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdCh0ZW1wU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9vc2VkU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNob29zZWRTZXF1ZW5jZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdGF0ZVwiIGluIHMgPT09IGZhbHNlIHx8IHMuc3RhdGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob29zZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGNob29zZWRTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbcy5uYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gcXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gb2JqID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbGFibGVTZXF1ZW5jZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNlbGVjdGVkU2VxdWVuY2VzID09PSBudWxsID8gdGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzIDogc2VsZWN0ZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlU3RhY2sgPSB0aGlzLmdldFNlcXVlbmNlU3RhY2socywgb2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9wcGVkU2VxdWVuY2UgPSBzZXF1ZW5jZVN0YWNrLnBvcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBzZXF1ZW5jZVN0YWNrW3NlcXVlbmNlU3RhY2subGVuZ3RoIC0gMV0uc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJTZXF1ZW5jZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic2VxdWVuY2VcIiBpbiBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTdGFjay5wdXNoKG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobyA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGVtcFN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godGVtcFN0YWNrLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic2VxdWVuY2VcIiBpbiBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZW1wU2VxdWVuY2Ugb2Ygc3RhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wU2VxdWVuY2UgPT09IHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChwb3BwZWRTZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VkU2VxdWVuY2VzLnB1c2goc3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VkU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0YXRlXCIgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzW29iai5uYW1lXSA9IG9iai5zdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3Qob2JqLnN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxhYmxlU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdHJhY2VkU2VxdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5uYW1lID09IG9iai5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RhdGVcIiBpbiBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgaW4gdGhpcy5zdGF0ZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh0aGlzLnN0YXRlc1tzLm5hbWVdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxhYmxlU2VxdWVuY2VzLnB1c2gocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYWJsZVNlcXVlbmNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2YgY2FsbGFibGVTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjYWxsYWJsZVNlcXVlbmNlcy5sZW5ndGgpXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKGluZGV4LCAwLCBvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF0dGVuZWRTZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFNlcXVlbmNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRTZXF1ZW5jZVN0YWNrOiBmdW5jdGlvbiAoc291cmNlU2VxdWVuY2UsIHRhcmdldFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlcXVlbmNlU3RhY2sucHVzaChzb3VyY2VTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXSAhPT0gdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIHNvdXJjZVNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBzb3VyY2VTZXF1ZW5jZS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhY2sgPSB0aGlzLmdldFNlcXVlbmNlU3RhY2sobywgdGFyZ2V0U2VxdWVuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCAmJiBzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YWNrLnB1c2goc3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChzdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlU3RhY2sucHVzaCh0ZW1wU3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICh0ZW1wU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcXVlbmNlU3RhY2s7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGU6IGFzeW5jIGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSAodGltZXN0YW1wIC0gdGhpcy5lbGFwc2VkKSAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlVGltZSArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlUXVldWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmF0ZVRpbWUgPj0gYWN0aXZhdGVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWREb2N1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gW10uY29uY2F0KGFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBfcmFuZG9tKDAsIG4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW25dID0gYVtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHNodWZmbGUodGhpcy5jYWNoZWREb2N1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFF1ZXVlLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGRvY3VtZW50LmZpbHRlcigoeCkgPT4geCAhPT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgPSBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkbGVUaW1lID49IGJsaW5rVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2godGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJJZGxlXCIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvY2tlZCAmJiB0aGlzLnNlcXVlbmNlUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9IHRoaXMuc2VxdWVuY2VRdWV1ZVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VbMF0udHlwZSA9PSBcIkFuaW1hdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiZnJhbWVzXCIgaW4gc2VxdWVuY2VbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygc2VxdWVuY2VbMF0uZnJhbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiY2hhcmFjdGVyXCIgaW4gc2VxdWVuY2VbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25RdWV1ZS5wdXNoKHsgY2hhcmFjdGVyOiBzZXF1ZW5jZVswXS5jaGFyYWN0ZXIsIGltYWdlczogb2JqIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUXVldWUucHVzaCh7IGNoYXJhY3RlcjogdGhpcy5jaGFyYWN0ZXIsIGltYWdlczogb2JqIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChvYmopID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaXRlcmF0aW9uc1wiIGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZXNcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBcImNoYXJhY3RlclwiIGluIHNlcXVlbmNlWzBdID8gc2VxdWVuY2VbMF0uY2hhcmFjdGVyIDogdGhpcy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmouaXRlcmF0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25RdWV1ZS5wdXNoKHsgY2hhcmFjdGVyOiBjLCBpbWFnZXM6IG9iai5pbWFnZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJzcHJpdGVzXCIgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gXCJjaGFyYWN0ZXJcIiBpbiBzZXF1ZW5jZVswXSA/IHNlcXVlbmNlWzBdLmNoYXJhY3RlciA6IHRoaXMuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLml0ZXJhdGlvbnM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUXVldWUucHVzaCh7IGNoYXJhY3RlcjogYywgaW1hZ2VzOiBvYmouc3ByaXRlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2Uuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VxdWVuY2VbMF0udHlwZSA9PSBcIk1lc3NhZ2VcIiAmJiB0aGlzLm1lc3NhZ2UgPT09IG51bGwgJiYgdGhpcy5hbmltYXRpb25RdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJjaGFyYWN0ZXJcIiBpbiBzZXF1ZW5jZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB7IHRpbWU6IDAsIGR1cmF0aW9uOiBzZXF1ZW5jZVswXS5kdXJhdGlvbiwgdHlwZTogeyBlbGFwc2VkOiAtMSwgc3BlZWQ6IHNlcXVlbmNlWzBdLnNwZWVkLCByZXZlcnNlOiBmYWxzZSwgYnVmZmVyOiBcIlwiLCBjb3VudDogMCB9LCBjaGFyYWN0ZXI6IHNlcXVlbmNlWzBdLmNoYXJhY3RlciwgdGV4dDogc2VxdWVuY2VbMF0udGV4dCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHsgdGltZTogMCwgZHVyYXRpb246IHNlcXVlbmNlWzBdLmR1cmF0aW9uLCB0eXBlOiB7IGVsYXBzZWQ6IC0xLCBzcGVlZDogc2VxdWVuY2VbMF0uc3BlZWQsIHJldmVyc2U6IGZhbHNlLCBidWZmZXI6IFwiXCIsIGNvdW50OiAwIH0sIGNoYXJhY3RlcjogeyBuYW1lOiB0aGlzLmNoYXJhY3Rlci5uYW1lLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0sIHRleHQ6IHNlcXVlbmNlWzBdLnRleHQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKCF0aGlzLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMubWVzc2FnZS50ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FpLm1pbGNoY2hhbi5jb20vYXBpL3N5bnRoZXNpemU/dGV4dD1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYXdhaXQgcmVzcG9uc2UuYmxvYigpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgIT09IG51bGwgJiYgdGV4dCA9PT0gdGhpcy5tZXNzYWdlLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXNzYWdlID09PSBudWxsICYmIHRoaXMuYW5pbWF0aW9uUXVldWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNhY2hlZEltYWdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmNhY2hlZFNwcml0ZXMuc29tZSh4ID0+IHguc291cmNlID09PSBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmNhY2hlZEltYWdlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWUgKiAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAxLjAgLyB0aGlzLm1lc3NhZ2UudHlwZS5zcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggPD0gd2lkdGggJiYgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgPSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIuc3Vic3RyaW5nKDAsIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUG9wdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoIDwgdGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQb3B1cCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDEuMCAvIHRoaXMubWVzc2FnZS50eXBlLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+PSB3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgKz0gdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudGltZSArPSBkZWx0YVRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50aW1lID49IHRoaXMubWVzc2FnZS5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoID09PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdGhpcy5tZXNzYWdlLnRleHQuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZG9tQnVmZmVyID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJBcnJheS5pbmRleE9mKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSkgPT0gLTEgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpICE9IFwiXFxuXCIgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpLm1hdGNoKC9cXHMvKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJBcnJheS5wdXNoKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpID09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbUJ1ZmZlciArPSBcIlxcblwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQnVmZmVyICs9IGNoYXJBcnJheVt+fl9yYW5kb20oMCwgY2hhckFycmF5Lmxlbmd0aCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5kb21CdWZmZXIubGVuZ3RoID4gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyICsgcmFuZG9tQnVmZmVyLnN1YnN0cmluZyh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoLCByYW5kb21CdWZmZXIubGVuZ3RoKSkuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQubGVuZ3RoICE9PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25RdWV1ZVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiB0aGlzLmFuaW1hdGlvblF1ZXVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2NrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBhbmltYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpdGUgb2YgYS5pbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZS5zb3VyY2UgaW4gdGhpcy5jYWNoZWRJbWFnZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zcmMgPSBzcHJpdGUuc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZEltYWdlc1tzcHJpdGUuc291cmNlXSA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uY2hhcmFjdGVyLm5hbWUgPT09IHRoaXMuY2hhcmFjdGVyLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcml0ZSBvZiB0aGlzLnJlbmRlcih0aGlzLiRyZWZzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCBhbmltYXRpb24uaW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZSA9IHRoaXMuY2hhcmFjdGVyLmFsdGVybmF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVDYWNoZWRTcHJpdGVzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpdGUgb2YgdGhpcy5yZW5kZXIodGhpcy4kcmVmcy5hbHRlcm5hdGl2ZS5nZXRDb250ZXh0KFwiMmRcIiksIHRoaXMuYWx0ZXJuYXRpdmVDYW52YXNXaWR0aCwgdGhpcy5hbHRlcm5hdGl2ZUNhbnZhc0hlaWdodCwgYW5pbWF0aW9uLmltYWdlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZUNhY2hlZFNwcml0ZXMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKGN0eCwgd2lkdGgsIGhlaWdodCwgYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcml0ZSBvZiBhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNvdXJjZSBpbiB0aGlzLmNhY2hlZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvcGFjaXR5XCIgaW4gc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBzcHJpdGUub3BhY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5jYWNoZWRJbWFnZXNbc3ByaXRlLnNvdXJjZV0sIHNwcml0ZS54ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHNwcml0ZS55ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHNwcml0ZS53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCBzcHJpdGUuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlcy5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwcml0ZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9sZXQgY29udGFpbmVyID0gdGhpcy4kcmVmcy5jb250YWluZXI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluc2V0VG9wID0gdGhpcy4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmluc2V0Qm90dG9tID0gdGhpcy4kcmVmcy5ibGFuay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMuJHJlZnMudGlja2VyLnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0IC5jb2x1bW5zPi5jb2x1bW4gLmNvbnRyb2w6bnRoLWxhc3Qtb2YtdHlwZSgxKSAubGV2ZWw6bnRoLWxhc3Qtb2YtdHlwZSgxKSBmb3JtXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2hlYWRpbmc+LmNvbHVtbnM+LmNvbHVtbj4uY29sdW1uczpmaXJzdC1jaGlsZD4uY29sdW1uPi5jb2x1bW5zOmxhc3QtY2hpbGQgLmxldmVsOmZpcnN0LWNoaWxkIC5sZXZlbC1pdGVtIC5maWVsZCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIC8qdGhpcy4kcmVmcy50aWNrZXIuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQgLmNvbHVtbnM+LmNvbHVtbiAuY29udHJvbDpudGgtbGFzdC1vZi10eXBlKDEpIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpIGZvcm1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvKmZvciAoY29uc3QgY2xpcCBvZiBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmNsaXBcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNsaXAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlciAuaXRlbVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Ki9cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hvaWNlKGNvbGxlY3Rpb24sIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdHkgPSBmdW5jKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtIDw9IHIgJiYgciA8IHN1bSArIHByb2JhYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VtICs9IHByb2JhYmlsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25baW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uc3QgYm90U3RvcmFnZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNoYXJhY3RlclwiKTtcclxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbFN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0c1N0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzdGF0c1wiKTtcclxuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnRzU3RvcmFnZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImZyYWdtZW50c1wiKTtcclxuICAgICAgICAgICAgbGV0IGNyZWRlbnRpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgZnJhZ21lbnRzO1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gW3sgcGF0aDogXCIvYXNzZXRzL21pbGNoLmpzb25cIiwgcHJvYmFiaWxpdHk6IDEuMCB9XTtcclxuICAgICAgICAgICAgY29uc3QgYWx0ZXJuYXRpdmVzID0gW3sgcGF0aDogXCIvYXNzZXRzL21lcmt1Lmpzb25cIiwgcHJvYmFiaWxpdHk6IDEuMCB9XTtcclxuXHJcbiAgICAgICAgICAgIGlmIChib3RTdG9yYWdlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3QgPSBKU09OLnBhcnNlKGJvdFN0b3JhZ2VJdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTXV0ZWQgPSBib3QubXV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjaGFyYWN0ZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsU3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbFN0b3JhZ2VJdGVtKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdGF0c1N0b3JhZ2VJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRheSBvZiBKU09OLnBhcnNlKHN0YXRzU3RvcmFnZUl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXkuZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRUaW1lKCkgPiBiYXNlRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0cy5wdXNoKHsgZGF0ZTogZGF0ZSwgc3RlcHM6IGRheS5zdGVwcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInN0YXRzXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZnJhZ21lbnRzU3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnRzID0gSlNPTi5wYXJzZShmcmFnbWVudHNTdG9yYWdlSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJmcmFnbWVudHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kcmVmcy5jb250YWluZXIuYWZ0ZXIoc3RhdHMuZG9tRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluc2V0VG9wID0gdGhpcy4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmluc2V0Qm90dG9tID0gdGhpcy4kcmVmcy5ibGFuay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNaWNyb3NvZnQuTWFwcy5NYXAodGhpcy4kcmVmcy5tYXAsIHtcclxuICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0xpZ2h0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hEcGk6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dMb2NhdGVNZUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TWFwVHlwZVNlbGVjdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dab29tQnV0dG9uczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93U2NhbGViYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkTWFwVHlwZXM6IFtNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuZ3JheXNjYWxlLCBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzTGlnaHQsIE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNEYXJrXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTGF5ZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXllci5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5tYXAubGF5ZXJzLmluc2VydCh0aGlzLmxheWVyKTtcclxuXHJcbiAgICAgICAgICAgIE1pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHRoaXMubWFwLCAndmlld2NoYW5nZWVuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCBmZXRjaChjaG9pY2UoY2hhcmFjdGVycywgKHgpID0+IHgucHJvYmFiaWxpdHkpLnBhdGgsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlMS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IGF3YWl0IHJlc3BvbnNlMS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2UgPSB0aGlzLnByZXBhcmUoY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJTdGFydFwiKSwgbnVsbCwgY2hhcmFjdGVyLnNlcXVlbmNlcylcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCBmZXRjaChjaG9pY2UoYWx0ZXJuYXRpdmVzLCAoeCkgPT4geC5wcm9iYWJpbGl0eSkucGF0aCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWx0ZXJuYXRpdmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZTIub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmUgPSBhd2FpdCByZXNwb25zZTIuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZTIuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZTMgPSBhd2FpdCBmZXRjaChcIi9hc3NldHMvZnJhZ21lbnRzLmpzb25cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlMy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIGF3YWl0IHJlc3BvbnNlMy5qc29uKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldCBvZiBncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZyYWdtZW50cy5maW5kKHggPT4gc2V0LnNvbWUoeSA9PiB4LnNldC5pbmNsdWRlcyh5KSkgJiYgeC5jb3VudCA+IDAgJiYgeC50aW1lc3RhbXAgKiAxMDAwID4gYmFzZVRpbWUgJiYgeC5jaGVja3N1bSA9PT0gWy4uLlN0cmluZyh4LnRpbWVzdGFtcCldLnJlZHVjZSgoeCwgeSkgPT4geCArIHksIDApICsgWy4uLlN0cmluZyh4LmNvdW50KV0ucmVkdWNlKCh4LCB5KSA9PiB4ICsgeSwgMCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnB1c2goeyBzZXQ6IHNldCwgaW5kZXg6IDAsIGNvdW50OiAwLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnB1c2goeyBzZXQ6IHNldCwgaW5kZXg6IDAsIGNvdW50OiByZXN1bHQuY291bnQsIHRpbWVzdGFtcDogcmVzdWx0LnRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFycy5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlMy5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS53aWR0aCA9IGNoYXJhY3Rlci53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuaGVpZ2h0ID0gY2hhcmFjdGVyLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuZGV2aWNlV2lkdGggPSBjaGFyYWN0ZXIud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuZGV2aWNlSGVpZ2h0ID0gY2hhcmFjdGVyLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS5hbHRlcm5hdGl2ZS53aWR0aCA9IGFsdGVybmF0aXZlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzU2l6ZS5hbHRlcm5hdGl2ZS5oZWlnaHQgPSBhbHRlcm5hdGl2ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZVdpZHRoID0gYWx0ZXJuYXRpdmUud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1NpemUuYWx0ZXJuYXRpdmUuZGV2aWNlSGVpZ2h0ID0gYWx0ZXJuYXRpdmUuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIkFuaW1hdGlvblwiICYmIFwiZnJhbWVzXCIgaW4gb2JqICYmIG9iai5mcmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlcyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLmZyYW1lc1swXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG9iai5mcmFtZXNbMF0pID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaXRlcmF0aW9uc1wiIGluIG9iai5mcmFtZXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiaW1hZ2VzXCIgaW4gb2JqLmZyYW1lc1swXSAmJiBvYmouZnJhbWVzWzBdLmltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdLmltYWdlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInNwcml0ZXNcIiBpbiBvYmouZnJhbWVzWzBdICYmIG9iai5mcmFtZXNbMF0uc3ByaXRlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBvYmouZnJhbWVzWzBdLnNwcml0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaXRlIG9mIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLnNvdXJjZSBpbiB0aGlzLmNhY2hlZEltYWdlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IHNwcml0ZS5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkSW1hZ2VzW3Nwcml0ZS5zb3VyY2VdID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpdGUgb2YgdGhpcy5yZW5kZXIodGhpcy4kcmVmcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCwgaW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZXMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJbXCJhbHRlcm5hdGl2ZVwiXSA9IGFsdGVybmF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlMS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWwgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IFwic2lnbi1pblwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhDcmVkZW50aWFsKGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5pZFRva2VuKSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJJZCA9PT0gZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5hY2Nlc3NUb2tlbikpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChjcmVkZW50aWFsLmFjY2Vzc1Rva2VuLCBjcmVkZW50aWFsLnNlY3JldCkpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBcInNpZ24taW5cIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV2ZWFsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKmZpcmViYXNlLmF1dGgoKS5zaWduSW5Bbm9ueW1vdXNseSgpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBpcyBzaWduZWQgaW4uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93RGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlciA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXkgb2Ygc2VsZi5zdGF0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5LmRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gbm93RGF0ZS5nZXRGdWxsWWVhcigpICYmIGRheS5kYXRlLmdldE1vbnRoKCkgPT09IG5vd0RhdGUuZ2V0TW9udGgoKSAmJiBkYXkuZGF0ZS5nZXREYXRlKCkgPT09IG5vd0RhdGUuZ2V0RGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzID0gZGF5LnN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikub24oXCJ2YWx1ZVwiLCBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFycyA9IGNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrc1wiKS5vcmRlckJ5Q2hpbGQoXCJ0aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTApLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkc1trZXldW1wiaWRcIl0gPSBrZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBXb3Jkcy5wdXNoKHdvcmRzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0ZW1wV29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW2ldLm5hbWUgPT0gd29yZC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dC5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzXCIpLm9mZihcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3dvcmRzXCIpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMDApLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgIC8qbGV0IGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5yZWNlbnRJbWFnZXMuc29tZSh4ID0+IHguaWQgPT09IGtleSAmJiB4LnRpbWVzdGFtcCA9PT0gaW1hZ2VzW2tleV0udGltZXN0YW1wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudEltYWdlcy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXNba2V5XVtcImlkXCJdID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY2VudEltYWdlcy5wdXNoKGltYWdlc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHNlbGYucmVjZW50SW1hZ2VzLCBzZWxmLm1heFRhZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgfVxyXG4gICAgICAgICAgICAgICAgLy99KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpY2tJbnRlcnZhbElEID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGlja0ludGVydmFsSUQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodnJtTW9kZWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnJlbW92ZSh2cm1Nb2RlbC5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB2cm1Nb2RlbCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KS5tb3VudChcIiNhcHBcIik7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGFwcC5pbnNldFRvcCA9IGFwcC4kcmVmcy5pbmRpY2F0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5pbnNldEJvdHRvbSA9IGFwcC4kcmVmcy5ibGFuay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgYXBwLmNhbnZhc1NpemUud2lkdGggPSBhcHAuY2hhcmFjdGVyLndpZHRoO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmRldmljZVdpZHRoID0gYXBwLmNoYXJhY3Rlci53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmRldmljZUhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgYXBwLmNhbnZhc1NpemUuYWx0ZXJuYXRpdmUud2lkdGggPSBhcHAuY2hhcmFjdGVyLmFsdGVybmF0aXZlLndpZHRoO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuaGVpZ2h0O1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZVdpZHRoID0gYXBwLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZS53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIGFwcC5jYW52YXNTaXplLmFsdGVybmF0aXZlLmRldmljZUhlaWdodCA9IGFwcC5jaGFyYWN0ZXIuYWx0ZXJuYXRpdmUuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgYXBwLmFuaW1hdGlvblF1ZXVlLnVuc2hpZnQoeyBjaGFyYWN0ZXI6IGFwcC5jaGFyYWN0ZXIsIGltYWdlczogW10uY29uY2F0KGFwcC5jYWNoZWRTcHJpdGVzKSB9KTtcclxuXHJcbiAgICAgICAgaWYgKGFwcC5hbHRlcm5hdGl2ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBhcHAuYW5pbWF0aW9uUXVldWUudW5zaGlmdCh7IGNoYXJhY3RlcjogYXBwLmNoYXJhY3Rlci5hbHRlcm5hdGl2ZSwgaW1hZ2VzOiBbXS5jb25jYXQoYXBwLmFsdGVybmF0aXZlQ2FjaGVkU3ByaXRlcykgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgT2JqZWN0LmtleXMoYXBwLmNhY2hlZEltYWdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBhcHAuY2FjaGVkSW1hZ2VzW2tleV07XHJcbiAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgLy9hcHAuJHJlZnMudGlja2VyLnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0IC5jb2x1bW5zPi5jb2x1bW4gLmNvbnRyb2w6bnRoLWxhc3Qtb2YtdHlwZSgxKSAubGV2ZWw6bnRoLWxhc3Qtb2YtdHlwZSgxKSBmb3JtXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuXHJcbiAgICAgICAgLypjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5vdXRlckhlaWdodDtcclxuICAgICBcclxuICAgICAgICBibG9vbVBhc3Muc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBmeGFhU2hhZGVyLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUuc2V0KDEgLyAod2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksIDEgLyAoaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pKTtcclxuICAgICBcclxuICAgICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxuICAgICAgICByZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgIFxyXG4gICAgICAgIGNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDtcclxuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgIFxyXG4gICAgICAgIGNvbXBvc2VyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIGNvbXBvc2VyLnNldFNpemUod2lkdGgsIGhlaWdodCk7Ki9cclxuXHJcbiAgICAgICAgLyphcHAuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXJcIikuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAvL2FwcC5hY3RpdmF0ZSgpO1xyXG4gICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLyppZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChiZXN0SW50ZXJzZWN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaW5nQm9uZUluZGV4ID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZSA9IHsgcG9pbnQ6IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBkaXJlY3Rpb246IHsgeDogMCwgeTogMCwgfSwgZGlzdGFuY2U6IDAsIGluZGV4OiAtMSB9O1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lR3JvdXAgb2YgdnJtTW9kZWwuc3ByaW5nQm9uZU1hbmFnZXIuc3ByaW5nQm9uZUdyb3VwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZSBvZiBzcHJpbmdCb25lR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzcHJpbmdCb25lLmJvbmUuZ2V0V29ybGRQb3NpdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5kaXN0YW5jZVRvKGJlc3RJbnRlcnNlY3QucG9pbnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lLmluZGV4ID0gc3ByaW5nQm9uZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoU3RhcnRcIiksIGJlc3RJbnRlcnNlY3Qub2JqZWN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0qL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBldmVudCA9PiB7XHJcblxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIC8qaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaEVuZFwiKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICh0YXBDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRhcENvdW50Kys7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcENvdW50ID0gMDtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8qbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIGxldCBiZXN0SW50ZXJzZWN0ID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgICAgICBtb3VzZS54ID0gKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiAyLjAgLSAxLjA7XHJcbiAgICAgICAgICAgIG1vdXNlLnkgPSAtKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLyB3aW5kb3cub3V0ZXJIZWlnaHQpICogMi4wICsgMS4wO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG1vdXNlLCBjYW1lcmEpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGludGVyc2VjdCBvZiByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QuZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3RJbnRlcnNlY3QgPSBpbnRlcnNlY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBpbnRlcnNlY3QuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoYmVzdEludGVyc2VjdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwcmluZ0JvbmVJbmRleCA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZUJvbmUgPSB7IHBvaW50OiB7IHg6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgfSwgZGlyZWN0aW9uOiB7IHg6IDAsIHk6IDAsIH0sIGRpc3RhbmNlOiAwLCBpbmRleDogLTEgfTtcclxuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZUdyb3VwIG9mIHZybU1vZGVsLnNwcmluZ0JvbmVNYW5hZ2VyLnNwcmluZ0JvbmVHcm91cExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0JvbmUgb2Ygc3ByaW5nQm9uZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3ByaW5nQm9uZS5ib25lLmdldFdvcmxkUG9zaXRpb24obmV3IFRIUkVFLlZlY3RvcjMoKSkuZGlzdGFuY2VUbyhiZXN0SW50ZXJzZWN0LnBvaW50KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZS5pbmRleCA9IHNwcmluZ0JvbmVJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpbmdCb25lSW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaFN0YXJ0XCIpLCBiZXN0SW50ZXJzZWN0Lm9iamVjdC5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobW91c2UsIGNhbWVyYSk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIChyYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvL2FwcC50YWxrKGFwcC51c2VyLnVpZCk7XHJcbiAgICAgICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIHRhcENvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgLy9sb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgLypsb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaEVuZFwiKSkpO1xyXG4gICAgICAgIH0qL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZSA9PiB7XHJcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xyXG4gICAgICAgICAgICBhcHAuaXNEYXJrTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmlzRGFya01vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==