!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js",n(n.s=1)}([function(e,t,n){var r;e.exports=((r=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),t(++n%i.children.length)}),!1);var s=(performance||Date).now(),a=s,o=0,c=e(new r.Panel("FPS","#0ff","#002")),u=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(u.update(e-s,200),e>a+1e3&&(c.update(1e3*o/(e-a),100),a=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:i,setMode:t}}).Panel=function(e,t,n){var r=1/0,i=0,s=Math.round,a=s(window.devicePixelRatio||1),o=80*a,c=48*a,u=3*a,l=2*a,h=3*a,d=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=o,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,o,c),g.fillStyle=t,g.fillText(e,u,l),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(c,y){r=Math.min(r,c),i=Math.max(i,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,o,d),g.fillStyle=t,g.fillText(s(c)+" "+e+" ("+s(r)+"-"+s(i)+")",u,l),g.drawImage(m,h+a,d,f-a,p,h,d,f-a,p),g.fillRect(h+f-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-a,d,a,s((1-c/y)*p))}}},r)},function(e,t,n){"use strict";n.r(t);var r=n(0),i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},s={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function f(e,t){var n=d(e),r=c(h.und(n[0])?1:n[0],.1,100),i=c(h.und(n[1])?100:n[1],.1,100),s=c(h.und(n[2])?10:n[2],.1,100),a=c(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/r),l=s/(2*Math.sqrt(i*r)),f=l<1?u*Math.sqrt(1-l*l):0,p=l<1?(l*u-a)/f:-a+u;function m(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=0,r=0;;)if(1===m(n+=1/6)){if(++r>=16)break}else r=0;var i=n*(1/6)*1e3;return o.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var m,g,y=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,i,s){return((e(i,s)*r+t(i,s))*r+n(i))*r}function i(r,i,s){return 3*e(i,s)*r*r+2*t(i,s)*r+n(i)}return function(e,t,n,s){if(0<=e&&e<=1&&0<=n&&n<=1){var a=new Float32Array(11);if(e!==t||n!==s)for(var o=0;o<11;++o)a[o]=r(.1*o,e,n);return function(i){return e===t&&n===s||0===i||1===i?i:r(c(i),t,s)}}function c(t){for(var s=0,o=1;10!==o&&a[o]<=t;++o)s+=.1;--o;var c=s+.1*((t-a[o])/(a[o+1]-a[o])),u=i(c,e,n);return u>=.001?function(e,t,n,s){for(var a=0;a<4;++a){var o=i(t,n,s);if(0===o)return t;t-=(r(t,n,s)-e)/o}return t}(t,c,e,n):0===u?c:function(e,t,n,i,s){var a,o,c=0;do{(a=r(o=t+(n-t)/2,i,s)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++c<10);return o}(t,s,s+.1,e,n)}}}(),v=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),r=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},m["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},m["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),m);function w(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],r=v[n],i=d(e);switch(n){case"spring":return f(e,t);case"cubicBezier":return l(y,i);case"steps":return l(p,i);default:return l(r,i)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var a=e[s];t.call(r,a,s,e)&&i.push(a)}return i}function k(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?k(t):t)}),[])}function M(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function D(e,t){return e.some((function(e){return e===t}))}function T(e){var t={};for(var n in e)t[n]=e[n];return t}function I(e,t){var n=T(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function L(e,t){var n=T(e);for(var r in t)n[r]=h.und(e[r])?t[r]:e[r];return n}function S(e){return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),s=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,o=parseInt(i[3],10)/100,c=i[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=o;else{var l=o<.5?o*(1+a):o+a-o*a,h=2*o-l;t=u(h,l,s+1/3),n=u(h,l,s),r=u(h,l,s-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+c+")"}(e):void 0;var t,n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function P(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function q(e,t){return e.getAttribute(t)}function C(e,t,n){if(D([n,"deg","rad","turn"],A(t)))return t;var r=o.CSS[t+n];if(!h.und(r))return r;var i=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;s.removeChild(i);var c=a*parseFloat(t);return o.CSS[t+n]=c,c}function E(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?C(e,i,n):i}}function O(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(q(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&D(a,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function W(e){if(h.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function j(e,t,n,r){var i=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),s=W(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?C(e,s,r):s}function B(e,t,n,r){switch(O(e,t)){case"transform":return j(e,t,r,n);case"css":return E(e,t,n);case"attribute":return q(e,t);default:return e[t]||0}}function R(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=A(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function N(e,t){if(h.col(e))return S(e);if(/\s/g.test(e))return e;var n=A(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function H(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var s=n.getItem(i);i>0&&(r+=$(t,s)),t=s}return r}function Q(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*q(e,"r")}(e);case"rect":return function(e){return 2*q(e,"width")+2*q(e,"height")}(e);case"line":return function(e){return $({x:q(e,"x1"),y:q(e,"y1")},{x:q(e,"x2"),y:q(e,"y2")})}(e);case"polyline":return H(e);case"polygon":return function(e){var t=e.points;return H(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),s=q(r,"viewBox"),a=i.width,o=i.height,c=n.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:a,h:o,vW:c[2],vH:c[3]}}function F(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var i=U(e.el,e.svg),s=r(),a=r(-1),o=r(1),c=n?1:i.w/i.vW,u=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*u;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=N(h.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:h.str(e)||t?r.split(n):[]}}function _(e){return x(e?k(h.arr(e)?e.map(M):M(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=_(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:W(e)}}}))}function z(e,t){var n=T(t);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),h.arr(e)){var r=e.length;2===r&&!h.obj(e[0])?e={value:e}:h.fnc(t.duration)||(n.duration=t.duration/r)}var i=h.arr(e)?e:[e];return i.map((function(e,n){var r=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(r.delay)&&(r.delay=n?0:t.delay),h.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return L(e,n)}))}function Z(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=L(function(e){for(var t=x(k(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)h.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)h.key(i)&&n.push({name:i,tweens:z(t[i],e)});return n}function J(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=P(e[r],t);h.arr(i)&&1===(i=i.map((function(e){return P(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),s=i.value,a=h.arr(s)?s[1]:s,o=A(a),c=B(t.target,e.name,o,t),u=n?n.to.original:c,l=h.arr(s)?s[0]:u,d=A(l)||A(c),f=o||d;return h.und(a)&&(a=u),i.from=V(l,f),i.to=V(R(a,l),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=w(i.easing,i.duration),i.isPath=h.pth(s),i.isPathTargetInsideSVG=i.isPath&&h.svg(t.target),i.isColor=h.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach((function(e,t){s+=t+"("+e+") "})),e.style.transform=s}}};function X(e,t){G(e).forEach((function(e){for(var n in t){var r=P(t[n],e),i=e.target,s=A(r),a=B(i,n,s,e),o=R(N(r,s||A(a)),a),c=O(i,n);Y[c](i,n,o,e.transforms,!0)}}))}function K(e,t){return x(k(e.map((function(e){return t.map((function(t){return function(e,t){var n=O(e.target,t.name);if(n){var r=J(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function ee(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var te=0;var ne=[],re=function(){var e;function t(n){for(var r=ne.length,i=0;i<r;){var s=ne[i];s.paused?(ne.splice(i,1),r--):(s.tick(n),i++)}e=i>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){se.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(ne.forEach((function(e){return e._onDocumentVisibility()})),re()))})),function(){e||ie()&&se.suspendWhenDocumentHidden||!(ne.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function se(e){void 0===e&&(e={});var t,n=0,r=0,a=0,o=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var h=function(e){var t=I(i,e),n=I(s,e),r=Z(n,e),a=G(e.targets),o=K(a,r),c=ee(o,n),u=te;return te++,L(t,{id:u,children:[],animatables:a,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(h);function d(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function p(){n=0,r=f(h.currentTime)*(1/se.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=h.animations,r=n.length;t<r;){var i=n[t],s=i.animatable,a=i.tweens,o=a.length-1,u=a[o];o&&(u=x(a,(function(t){return e<t.end}))[0]||u);for(var l=c(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,y=void 0,v=0;v<g;v++){var w=void 0,b=u.to.numbers[v],k=u.from.numbers[v]||0;w=u.isPath?F(u.value,d*b,u.isPathTargetInsideSVG):k+d*(b-k),p&&(u.isColor&&v>2||(w=Math.round(w*p)/p)),m.push(w)}var M=f.length;if(M){y=f[0];for(var D=0;D<M;D++){f[D];var T=f[D+1],I=m[D];isNaN(I)||(y+=T?I+T:I+" ")}}else y=m[0];Y[i.type](s.target,i.property,y,s.transforms),i.currentValue=y,t++}}function y(e){h[e]&&!h.passThrough&&h[e](h)}function v(e){var i=h.duration,s=h.delay,p=i-h.endDelay,v=f(e);h.progress=c(v/i*100,0,100),h.reversePlayback=v<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=o;n--;)m(e,t[n]);else for(var r=0;r<o;r++)m(e,t[r])}(v),!h.began&&h.currentTime>0&&(h.began=!0,y("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,y("loopBegin")),v<=s&&0!==h.currentTime&&g(0),(v>=p&&h.currentTime!==i||!i)&&g(i),v>s&&v<p?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),g(v)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=c(v,0,i),h.began&&y("update"),e>=i&&(r=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=a,y("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&d()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),!h.passThrough&&"Promise"in window&&(u(),l(h)))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=o=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,g(h.reversed?h.duration:0)},h._onDocumentVisibility=p,h.set=function(e,t){return X(e,t),h},h.tick=function(e){a=e,n||(n=a),v((a+(r-n))*se.speed)},h.seek=function(e){v(f(e))},h.pause=function(){h.paused=!0,p()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,ne.push(h),p(),re())},h.reverse=function(){d(),h.completed=!h.reversed,p()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){oe(_(e),h)},h.reset(),h.autoplay&&h.play(),h}function ae(e,t){for(var n=t.length;n--;)D(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,r=t.children;ae(e,n);for(var i=r.length;i--;){var s=r[i],a=s.animations;ae(e,a),a.length||s.children.length||r.splice(i,1)}n.length||r.length||t.pause()}se.version="3.2.1",se.speed=1,se.suspendWhenDocumentHidden=!0,se.running=ne,se.remove=function(e){for(var t=_(e),n=ne.length;n--;){oe(t,ne[n])}},se.get=B,se.set=X,se.convertPx=C,se.path=function(e,t){var n=h.str(e)?b(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:Q(n)*(r/100)}}},se.setDashoffset=function(e){var t=Q(e);return e.setAttribute("stroke-dasharray",t),t},se.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?w(t.easing):null,i=t.grid,s=t.axis,a=t.from||0,o="first"===a,c="center"===a,u="last"===a,l=h.arr(e),d=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=A(l?e[1]:e)||0,m=t.start||0+(l?d:0),g=[],y=0;return function(e,t,h){if(o&&(a=0),c&&(a=(h-1)/2),u&&(a=h-1),!g.length){for(var v=0;v<h;v++){if(i){var w=c?(i[0]-1)/2:a%i[0],b=c?(i[1]-1)/2:Math.floor(a/i[0]),x=w-v%i[0],k=b-Math.floor(v/i[0]),M=Math.sqrt(x*x+k*k);"x"===s&&(M=-x),"y"===s&&(M=-k),g.push(M)}else g.push(Math.abs(a-v));y=Math.max.apply(Math,g)}r&&(g=g.map((function(e){return r(e/y)*y}))),"reverse"===n&&(g=g.map((function(e){return s?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(l?(f-d)/y:d)*(Math.round(100*g[t])/100)+p}},se.timeline=function(e){void 0===e&&(e={});var t=se(e);return t.duration=0,t.add=function(n,r){var i=ne.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&ne.splice(i,1);for(var c=0;c<a.length;c++)o(a[c]);var u=L(n,I(s,e));u.targets=u.targets||e.targets;var l=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=h.und(r)?l:R(r,l),o(t),t.seek(u.timelineOffset);var d=se(u);o(d),a.push(d);var f=ee(a,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},se.easing=w,se.penner=v,se.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ce=se;firebase.initializeApp({apiKey:"AIzaSyDTVxDJj7rqG9L-Clvba2Tao9B0hkcxjcE",authDomain:"milchchan.firebaseapp.com",databaseURL:"https://milchchan.firebaseio.com",projectId:"milchchan",storageBucket:"milchchan.appspot.com",messagingSenderId:"355698971889",appId:"1:355698971889:web:e3653c5c31bd7289cd4550",measurementId:"G-3998FJYNWX"}),firebase.analytics();const ue="debug"===decodeURIComponent(window.location.hash.substring(1));let le=firebase.database(),he=firebase.storage();const de=new r;de.domElement.style.position="fixed",de.domElement.style.top="auto",de.domElement.style.bottom="0",de.domElement.style.left="auto",de.domElement.style.right="0",ue||de.domElement.classList.add("is-hidden");let fe=0;let pe=0;let me=0;window.addEventListener("load",e=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(e=>{e.onupdatefound=function(){e.update()}}).catch(e=>{console.error(e.code,e.message)}),navigator.serviceWorker.addEventListener("message",e=>{null!==navigator.serviceWorker.controller&&"command"in e.data&&"caches"===e.data.command&&navigator.serviceWorker.controller.postMessage({command:"clear",caches:e.data.caches})}));var t=Vue.createApp({data:()=>({isDebug:ue,isDarkMode:!1,isMuted:!0,isLoading:!1,isLocating:!1,isRevealed:!1,isOverlayed:!1,isBlinded:!1,isPopup:!1,isExpanded:!1,isLearning:!1,isAnimating:!1,isHangingOn:!1,isSubmitting:!1,elapsed:0,map:null,layer:null,mode:null,queryQueue:[],queryCache:{},cachedTracks:{},cachedDocuments:[],documentQueue:[],sequenceQueue:[],progress:null,user:null,input:"",animatedInputLength:0,maxInputLength:100,inputHasError:!1,messages:[],maxMessages:10,word:null,recentWords:[],tags:[],maxTags:10,scrollTimeoutID:void 0,tickIntervalID:void 0,stars:-1,animatedStars:0,screenshot:null,notifications:[],recentImages:[],backgroundImagesQueue:[],backgroundImages:[],preloadImages:[],isUploading:!1,animations:null,currentAnimations:[],blendShapeAnimations:[],insetTop:0,insetBottom:0,text:[],popupTextHeight:0,animatedPopupTextHeight:0,tickerWidth:0,animatedTickerWidth:0,message:null,states:{},character:null,wordDictionary:{},reverseWordDictionary:{},attributes:["名前","所属","時間","場所","する事","生き物","食べ物","飲み物","聞くもの","見るもの","読むもの","使う物","身につけるもの","乗り物","部位","病気"]}),watch:{isMuted(e){try{localStorage.setItem("bot",JSON.stringify({mute:e}))}catch(e){localStorage.removeItem("bot")}},words:{handler:()=>{t.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},deep:!0},tickerWidth(e){const t=this,n={width:this.animatedTickerWidth};ce({targets:n,width:e,round:1,duration:500,easing:"linear",update:()=>{t.animatedTickerWidth=n.width}})},backgroundImages:{handler:()=>{t.$nextTick(()=>{const e=document.body.querySelectorAll("#app>.background>div");if(e.length>1){const t=e.length-1,n=15;let r=0,i=null;for(const s of e){const a=[];for(let t=0;t<e.length;t++)t===r?a.push({visibility:"visible"}):a.push({visibility:"hidden"});const o=s.animate(a,{fill:"forwards",easing:"steps("+t+")",duration:1e3/n*e.length,iterations:1/0});null===i?i=o.startTime:o.startTime=i,r++}}})},deep:!0},text:{handler:()=>{t.$nextTick(()=>{t.popupTextHeight=t.$refs.popupText.getBoundingClientRect().height})},deep:!0},popupTextHeight(e){const t={height:this.animatedPopupTextHeight};ce({targets:t,height:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedPopupTextHeight=t.height}})},stars(e){const t={count:this.animatedStars};ce({targets:t,count:e,round:1,duration:500,easing:"linear",update:()=>{this.animatedStars=t.count}})},input:{handler:()=>{t.$nextTick(()=>{const e={count:t.animatedInputLength};ce({targets:e,count:t.input.length,round:1,duration:500,easing:"linear",update:()=>{t.animatedInputLength=e.count}})})},deep:!0}},methods:{signIn:function(e){if(e===firebase.auth.GoogleAuthProvider.PROVIDER_ID)firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,idToken:t.idToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)});else if(e===firebase.auth.FacebookAuthProvider.PROVIDER_ID){const e=new firebase.auth.FacebookAuthProvider;e.addScope("public_profile"),firebase.auth().signInWithPopup(e).then(e=>{var t=e.credential;for(const t of e.user.providerData){firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:t.photoURL}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})}else e===firebase.auth.TwitterAuthProvider.PROVIDER_ID&&firebase.auth().signInWithPopup(new firebase.auth.TwitterAuthProvider).then(e=>{var t=e.credential;for(const t of e.user.providerData){const e=t.photoURL.replace(/_normal\.jpg$/,".jpg");firebase.auth().currentUser.updateProfile({displayName:t.displayName,photoURL:e}).catch((function(e){console.error(e.code,e.message)}));break}try{localStorage.setItem("credential",JSON.stringify({providerId:t.providerId,accessToken:t.accessToken,secret:t.secret}))}catch(e){localStorage.removeItem("credential")}}).catch(e=>{console.error(e.code,e.message)})},signOut:function(e){firebase.auth().signOut().then(()=>{localStorage.removeItem("credential"),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"caches"})}).catch(e=>{console.error(e.code,e.message)})},refresh:function(e){this.update(!0)},share3:async function(e){const t=await navigator.permissions.query({name:"geolocation"});if("granted"==t.state||"prompt"==t.state)try{const t=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{e(t)},e=>{t(e)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),n=this,r=this.encodeGeohash(t.coords.latitude,t.coords.longitude),i=Math.floor(new Date/1e3);if(null===e){const e=await le.ref(`wonderland/users/${n.user.uid}/dictionary/words`).orderByValue().limitToLast(100).once("value"),s=e.exists()?e.val():null;await new Promise((e,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,tags:s,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async t=>{t?a(t):e()})})}else await new Promise((s,a)=>{le.ref("wonderland/tracks").push().set({key:r+i,name:e.name,attributes:e.attributes,location:{latitude:t.coords.latitude,longitude:t.coords.longitude},geohash:r,timestamp:i,user:{id:n.user.uid,name:n.user.displayName,image:n.user.photoURL}},async e=>{e?a(e):s()})});this.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:this.map.getZoom()<16?16:this.map.getZoom()})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}},update:async function(e=!1){this.isLoading=!0;const t=this,n=this.map.getCenter(),r=await this.fetch(e,n.latitude,n.longitude);if(e&&Object.keys(this.cachedTracks).forEach((function(e){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e]})),null!==r){const e=Math.floor(new Date/1e3);let n=!1;for(const i in r)for(const s of r[i]){let r=null;for(const e in this.cachedTracks)if(s.id===this.cachedTracks[e].id){r=e;break}if(null===r){const r=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude),{title:s.name,subTitle:this.formatTime(e-s.timestamp),icon:"/images/Marker-Star.svg"});this.setImage(r,s.user),this.cachedTracks[r.id]=s,this.cachedTracks[r.id].pushpin=r,this.cachedTracks[r.id].handlers=[Microsoft.Maps.Events.addHandler(r,"click",async e=>{t.mode=this.cachedTracks[e.target.id],t.isRevealed=!0}),Microsoft.Maps.Events.addHandler(r,"dblclick",e=>{window.location.hash=t.cachedTracks[e.target.id].id})],this.map.entities.push(r),n=!0}else if(s.timestamp>this.cachedTracks[r].timestamp){const t=this.cachedTracks[r].pushpin,i=this.cachedTracks[r].handlers;t.setLocation(new Microsoft.Maps.Location(s.location.latitude,s.location.longitude)),t.setOptions({title:s.name,subTitle:this.formatTime(e-s.timestamp)}),this.setImage(t,s.user),this.cachedTracks[r]=s,this.cachedTracks[r].pushpin=t,this.cachedTracks[r].handlers=i,n=!0}}const i=[];for(const e in r)for(const t of r[e])i.push(t.id);if(Object.keys(this.cachedTracks).forEach((function(e){if(!i.some(n=>n===t.cachedTracks[e].id)){for(const n of t.cachedTracks[e].handlers)Microsoft.Maps.Events.removeHandler(n);t.map.entities.remove(t.cachedTracks[e].pushpin),delete t.cachedTracks[e],n=!0}})),n){const e=10;try{const t=await new Promise(t=>{const n=Math.pow(10,-6);let i=[],s=[],a={};(new Date).getTime();let o={},c=[],u=n;for(const e in r){let t=[],n=[];for(const i of r[e])t.push(i.name),n.includes(i.name)||(i.name in a?a[i.name]+=1:a[i.name]=1,n.push(i.name));i.push(t)}for(const e in a)a[e]=Math.log(i.length/(a[e]+n));for(const e of i){let t={};for(const n of e)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.length,n in o||(o[n]=0);s.push(t)}for(const e in o)for(const t of s)if(e in t){const n=t[e]*a[e];n>o[e]&&(o[e]=n)}for(const e in o)e.length>1&&"..."!=e&&c.push({term:e,value:o[e]});c.sort((e,t)=>t.value-e.value),c.length>e&&c.splice(e);for(const e of c)e.value>u&&(u=e.value);for(const e of c)e.value/=u;c.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),t([i,c])});this.cachedDocuments.splice(0),this.tags.splice(0);for(const e of t[0])this.cachedDocuments.push(e);for(let e=0;e<t[1].length;e++)this.tags.push({index:e,name:t[1][e].term,score:t[1][e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}}}this.isLoading=!1},fetch:async function(e,t,n){const r=this,i=this.encodeGeohash(t,n,{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:3,11:3,12:4,13:4,14:4,15:5,16:5,17:5,18:6,19:6,20:6}[this.map.getZoom()]);let s=[i];const a=[],o={};let c=[],u=this.decodeGeohash(i);const l=Math.floor(new Date/1e3),h={};if(c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1})),i.length>2){const e=this.getNeighbors(i);for(const t in e)s.push(e[t]),u=this.decodeGeohash(e[t]),c.push(new Microsoft.Maps.Polygon([new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude),new Microsoft.Maps.Location(u.topright.latitude,u.topright.longitude),new Microsoft.Maps.Location(u.bottomright.latitude,u.bottomright.longitude),new Microsoft.Maps.Location(u.bottomleft.latitude,u.bottomleft.longitude),new Microsoft.Maps.Location(u.topleft.latitude,u.topleft.longitude)],{fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",strokeThickness:1}))}this.layer.setPrimitives(c),this.queryQueue.push(i);for(const t of s){if(!e&&t in this.queryCache&&l-this.queryCache[t].timestamp<60){for(const e of this.queryCache[t].data)a.push(e),t in o?o[t].push(e):o[t]=[e];continue}const n=await le.ref("wonderland/tracks").orderByChild("key").limitToLast(50).startAt(t).endAt(t.padEnd(12,"z")+"").once("value");if(h[t]={timestamp:l,data:[]},n.exists()){const e=n.val();for(const n in e)e[n].id=n,a.push(e[n]),h[t].data.push(e[n]),t in o?o[t].push(e[n]):o[t]=[e[n]]}}if(this.queryQueue.shift(),this.queryQueue.length>0)return null;for(const e in h)this.queryCache[e]=h[e];Object.keys(this.queryCache).forEach((function(e){l-r.queryCache[e].timestamp>=60&&delete r.queryCache[e]}));const d=this.take(a.sort((e,t)=>t.timestamp-e.timestamp),100);return Object.keys(o).forEach((function(e){for(let t=o[e].length-1;t>0;t--)d.includes(o[e][t])||o[e].splice(t,1);0===o[e].length&&delete o[e]})),o},locate:async function(e){if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});if("granted"==e.state||"prompt"==e.state){const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}}else{const e=this;this.isLocating=!0,navigator.geolocation.getCurrentPosition(t=>{e.isLocating=!1,e.map.setView({center:new Microsoft.Maps.Location(t.coords.latitude,t.coords.longitude),zoom:e.map.getZoom()<16?16:e.map.getZoom()})},t=>{e.isLocating=!1,e.notify({text:t.message,accent:e.character.accent,image:e.character.image}),console.error(t)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}},move:function(e){this.notify({text:"hogehoge",accent:this.character.accent,image:this.character.image},1e5)},send:async function(e){if(this.isDebug)if(this.input.length>0){let e=[],t=[];for(const n of this.input.split(/\s/))this.backgroundImages.some(e=>e.id===n)?e.push(n):t.push(n);if(e.length>0&&t.length>0){for(const n of e)le.ref("wonderland/images/"+n).transaction((function(e){return e.tags=t,e}));this.isLearning=!1}else this.input.length<=this.maxInputLength&&(this.learn({name:this.input}),this.input="",this.isLearning=!1)}else for(const e of this.backgroundImages){this.input=e.id;break}else this.input.length>0&&this.input.length<=this.maxInputLength&&(this.learn({name:this.input}),this.input="",this.isLearning=!1)},setImage:async function(e,t,n=!1){if("image"in t){let n;try{n=await new Promise(async(e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=e=>{n(e)},t.image.startsWith("gs://")?r.src=await he.refFromURL(t.image).getDownloadURL():(r.crossOrigin="Anonymous",r.src=t.image)})}catch(t){return e.setOptions({icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                            <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                                <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                    <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                                </g>\n                                <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                    <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                    <g transform="matrix(0.410574,0,0,0.410574,34.0498,26.7694)">\n                                        <path d="M0,-7.29C-0.311,-8.247 -1.138,-8.944 -2.133,-9.089L-9.21,-10.117L-12.375,-16.529C-12.819,-17.432 -13.738,-18.003 -14.744,-18.003C-15.75,-18.003 -16.67,-17.432 -17.114,-16.53L-20.279,-10.117L-27.355,-9.089C-28.352,-8.944 -29.179,-8.247 -29.49,-7.29C-29.801,-6.333 -29.541,-5.283 -28.82,-4.581L-23.7,0.41L-24.908,7.459C-25.078,8.45 -24.672,9.452 -23.857,10.043C-23.043,10.635 -21.965,10.713 -21.074,10.244L-14.744,6.917L-8.415,10.244C-8.028,10.447 -7.606,10.548 -7.186,10.548C-6.638,10.548 -6.092,10.377 -5.632,10.043C-4.818,9.452 -4.41,8.45 -4.58,7.458L-5.789,0.41L-0.668,-4.581C0.052,-5.283 0.312,-6.333 0,-7.29" style="fill:white;fill-rule:nonzero;"/>\n                                    </g>\n                                </g>\n                            </svg>'}),void console.error(t)}const r=document.createElement("canvas"),i=r.getContext("2d");r.width=n.width,r.height=n.height,i.drawImage(n,0,0,n.width,n.height);const s='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n                        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n                        <svg width="50" height="54" viewBox="0 0 50 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n                            <g transform="matrix(0.999999,0,0,0.999999,17.0011,-13)">\n                                <path d="M0,50L16,50L8,66L0,50Z" style="fill:rgb(255,238,0);"/>\n                            </g>\n                            <g transform="matrix(1.96491,0,0,1.96491,-30.0099,-24.5931)">\n                                <circle cx="27.996" cy="25.239" r="12.214" style="fill:rgb(255,238,0);"/>\n                                <clipPath id="_clip1">\n                                    <circle cx="27.996" cy="25.239" r="12.214"/>\n                                </clipPath>\n                                <g clip-path="url(#_clip1)">\n                                    <g transform="matrix(0.791667,0,0,0.791667,5.83249,5.2582)">\n                                        <circle cx="27.996" cy="25.239" r="12.214" style="fill:white;"/>\n                                        <clipPath id="_clip2">\n                                            <circle cx="27.996" cy="25.239" r="12.214"/>\n                                        </clipPath>\n                                        <g clip-path="url(#_clip2)">\n                                            <g id="Background" transform="matrix(0.023856,0,0,0.023856,-2.53964,-5.29658)">\n                                                <use xlink:href="#_Image3" x="767" y="767" width="1026px" height="1026px"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                            <defs>\n                                <image id="_Image3" width="1026px" height="1026px" xlink:href="'+r.toDataURL()+'"/>\n                            </defs>\n                        </svg>';e.setOptions({icon:s})}},change:function(e){this.input.length<=this.maxInputLength?this.inputHasError=!1:this.inputHasError=!0},upload:async function(e){function t(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}const n=this,r=he.ref(),i=[],s=[];for(const t of e.target.files)i.push(t);this.isUploading=!0;for(const e of i.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)){const a=r.child("images/"+t()).put(e);try{await new Promise((function(e,t){a.on("state_changed",(function(e){n.progress=e.bytesTransferred/e.totalBytes/i.length+s.length/i.length}),(function(e){t(e)}),(function(){e()}))}))}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}s.push(a.snapshot.ref.fullPath)}le.ref("wonderland/images").push({paths:s,timestamp:Math.floor(new Date/1e3)}),this.progress=0,this.isUploading=!1},learn:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=[],r=[];if("attributes"in e)for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}));else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).once("value");if(t.exists()){const e=t.val();for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?r.push({name:t,value:!0}):r.push({name:t,value:!1}))}else for(const e of this.attributes)r.push({name:e,value:!1})}this.word={name:e.name,attributes:r},"user"in e&&(this.word.user=e.user);for(const r of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===r.type?n.push({type:r.type,speed:r.speed,duration:r.duration,text:t(r.text,e.name)}):n.push(r);n.length>0&&this.sequenceQueue.push(n)},check:function(e){for(const t of this.word.attributes)t===e.target.dataset.attribute&&(t.value=e.target.checked)},share:async function(e){const t=this,n=this.map.getCenter(),r=this.encodeGeohash(n.latitude,n.longitude),i={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL},s=Math.floor(new Date/1e3);e.name in this.wordDictionary&&delete this.wordDictionary[e.name],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.name)&&delete this.reverseWordDictionary[t]}),this.isSubmitting=!0,le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e.name).transaction((function(t){if(!t){t={attributes:{},timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return"user"in e&&(t.user={id:e.user.id,name:e.user.name,image:e.user.image}),t}{let n=!1;for(const r of e.attributes){if(!(r.name in t.attributes)){n=!0;break}if(t.attributes[r.name]>0){if(!r.value){n=!0;break}}else if(r.value){n=!0;break}}if(n){let n=!0;const r={attributes:{}};for(const i of e.attributes)i.value?(i.name in t.attributes&&t.attributes[i.name]>0?r.attributes[i.name]=t.attributes[i.name]:r.attributes[i.name]=s,n=!1):r.attributes[i.name]=0;return n?null:(r.timestamp=s,r)}}}),(async function(a,o,c){if(o)if(c.exists()){const a=c.val(),o=[];for(const e in a.attributes)"number"==typeof a.attributes[e]&&a.attributes[e]>0&&t.attributes.includes(e)&&o.push(a.attributes[e]);if(1===o.length&&o[0]===s){function u(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const n of t.prepare(t.character.sequences.filter(e=>"Learned"===e.name)))"Message"===n.type&&t.notify({text:u(n.text,e.name),accent:t.character.accent,image:t.character.image});t.isMuted||t.$refs.twinkle.play()}"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(o){const c={};o?(o.key=`${r}${s}`,o.location={latitude:n.latitude,longitude:n.longitude},o.geohash=r,o.timestamp=s):o={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,user:i,timestamp:s};for(const e in a.attributes)t.attributes.includes(e)&&(c[e]=a.attributes[e]);return o.attributes=c,o}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}else le.ref("wonderland/users/"+t.user.uid+"/dictionary/count").transaction((function(e){return e&&e>1?e-1:null})),le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(e){return null}),(function(e,n,r){n?r.exists()||t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1}));else a?(t.notify({text:a.message,accent:t.character.accent,image:t.character.image}),console.error(a),t.isSubmitting=!1):"user"in e==!1||e.user.id===t.user.uid?le.ref("wonderland/tracks/"+await t.digestMessage(`${t.user.uid}&${e.name}`)).transaction((function(t){t={key:`${r}${s}`,name:e.name,location:{latitude:n.latitude,longitude:n.longitude},geohash:r,attributes:{},user:i,timestamp:s};for(const n of e.attributes)n.value?t.attributes[n.name]=s:t.attributes[n.name]=0;return t}),(function(e,n,r){n?r.exists()&&t.update(!0):e&&(t.notify({text:e.message,accent:t.character.accent,image:t.character.image}),console.error(e)),t.isSubmitting=!1})):t.isSubmitting=!1}))},next:async function(e,t=50){let n;if(n=null===e?await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().limitToFirst(t+1).once("value"):await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t+1).once("value"),"words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&this.mode.indexes.push(this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes});this.mode.words.length===t+1?this.mode.next=this.mode.words.pop():this.mode.next=null}},previous:async function(e,t=50){let n=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words").orderByKey().startAt(e).limitToFirst(t).once("value");if("words"in this.mode&&n.exists()){const e=n.val();null!==this.mode.words&&this.mode.words.length>0&&(this.mode.next=this.mode.words[0]),this.mode.words=[];for(const t in e)this.mode.words.push("user"in e[t]?{name:t,attributes:e[t].attributes,user:e[t].user}:{name:t,attributes:e[t].attributes})}},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},check2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}const n=this,r=Math.floor(new Date/1e3),i=e.target.checked,s=e.target.dataset.attribute,a=e.target.dataset.word,o={id:this.user.uid,name:this.user.displayName,image:this.user.photoURL};e.target.dataset.word in this.wordDictionary&&delete this.wordDictionary[e.target.dataset.word],Object.keys(this.reverseWordDictionary).forEach(t=>{this.reverseWordDictionary[t].words.some(t=>t===e.target.dataset.word)&&delete this.reverseWordDictionary[t]}),le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+a).transaction((function(e){if(e){if(!i){let t=!0;for(const r in e)if(r!=s&&"number"==typeof e[r]&&e[r]>0&&n.attributes.includes(r)){t=!1;break}return t?null:(e[s]=0,e.timestamp=r,e)}}else{e={};for(const t of n.attributes)t!=s&&(e[t]=0)}return e.name=a,e[s]=e.timestamp=r,"user"in e!=!1&&e.user.id!==o.id||(e.user=o),e}),(function(e,i,s){if(i){if(s.exists()){const e=s.val();let i=[];for(const t in e)"number"==typeof e[t]&&e[t]>0&&n.attributes.includes(t)&&i.push(e[t]);if(1===i.length&&i[0]===r){le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){return(e||0)+1}));for(const r of n.prepare(n.character.sequences.filter(e=>"Learned"===e.name)))"Message"===r.type&&n.notify({text:t(r.text,e.name),accent:n.character.accent,image:n.character.image});n.isMuted||n.$refs.twinkle.play()}}else le.ref("wonderland/users/"+n.user.uid+"/dictionary/count").transaction((function(e){if(e)return e-1}));n.word=null}else e&&(n.notify({text:e.message,accent:n.character.accent,image:n.character.image}),console.error(e))}))},learn2:async function(e){function t(e){var t=arguments;return e.replace(/\{(\d)\}/g,(function(e,n){return t[parseInt(n)+1]}))}let n=[];for(const e of this.attributes)n.push({name:e,value:!1});if("object"==typeof e){const r=this,i={user:e.user,timestamp:Math.floor(new Date/1e3)};for(const t of this.attributes)t in e.attributes&&(e.attributes[t]>0?i[t]=e.attributes[t]:i[t]=0);try{const[s,a]=await new Promise((t,n)=>{le.ref("wonderland/users/"+r.user.uid+"/dictionary/words/"+e.name).transaction((function(e){if(null===e)return i}),(function(e,r,i){e?n(e):t([r,i])}))});if(s){if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}le.ref("wonderland/users/"+e.user.id+"/stars").transaction((function(e){return(e||0)+1}));for(const e of this.prepare(this.character.sequences.filter(e=>"Learned"===e.name)))"Message"===e.type&&this.notify({text:t(e.text,word.name),accent:this.character.accent,image:this.character.image})}else if(a.exists()){const e=a.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}e=e.name}else{const t=await le.ref("wonderland/users/"+this.user.uid+"/dictionary/words/"+e).once("value");if(t.exists()){const e=t.val();for(let t of n)t.name in e&&(e[t.name]>0?t.value=!0:t.value=!1)}}let r=[];this.word={name:e,attributes:n};for(const n of this.prepare(this.character.sequences.filter(e=>"Learn"===e.name)))"Message"===n.type?r.push({type:n.type,speed:n.speed,duration:n.duration,text:t(n.text,e)}):r.push(n);r.length>0&&this.sequenceQueue.push(r)},activate:async function(){if(fe=pe=0,this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();await this.talk(this.user.uid,e.filter(e=>e!==this.character.name))||this.talk(this.user.uid)}else this.talk(this.user.uid)},talk:async function(e,t=[]){let n=this.character.sequences.filter(e=>"Activate"===e.name),r=[];if(this.isLoading=!0,t.length>0){const i=Math.floor(new Date/1e3),s=3600,a=Object.assign({},this.states),o=new TinySegmenter,c=[],u=[];for(const n of t){if(n in this.wordDictionary==!1||i-this.wordDictionary[n].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+n).once("value");if(this.wordDictionary[n]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(let t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[n].attributes.push(t)}}for(const e of this.wordDictionary[n].attributes)c.includes(e)||c.push(e)}for(const l of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(n)){const n=this.prepare([l]);let h=!1;for(const a of n){if("Message"==a.type)for(const l of Array.isArray(a.text)?a.text:o.segment(a.text)){if(Array.isArray(l)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}if(l.length>1&&!u.includes(l)){if(l in this.wordDictionary==!1||i-this.wordDictionary[l].timestamp>=s){const t=await le.ref("wonderland/users/"+e+"/dictionary/words/"+l).once("value");if(this.wordDictionary[l]={attributes:[],timestamp:i},t.exists()){const e=t.val();for(const t in e.attributes)"number"==typeof e.attributes[t]&&e.attributes[t]>0&&this.attributes.includes(t)&&this.wordDictionary[l].attributes.push(t)}}for(const i of this.wordDictionary[l].attributes)if(c.includes(i)){for(const i of n)if("Message"==i.type){const n=await this.generate(e,i.text,t);if(null===n){h=!0;break}{let e,t;[e,t]=n,r.push({type:i.type,speed:i.speed,duration:i.duration,text:e})}}else r.push(i);if(h)break;return r.length>0&&this.sequenceQueue.push(r),this.isLoading=!1,!0}u.push(l)}}if(h){r.splice(0);break}}this.states=a}return this.isLoading=!1,!1}for(const t of this.prepare(n))if("Message"===t.type){const n=await this.generate(e,t.text);if(null===n)return this.isLoading=!1,!1;{let e,i;[e,i]=n,r.push({type:t.type,speed:t.speed,duration:t.duration,text:e})}}else r.push(t);return r.length>0?(this.sequenceQueue.push(r),this.isLoading=!1,!0):(this.isLoading=!1,!1)},generate:async function(e,t,n=[]){function r(e){let t=[],n=Number.MIN_VALUE,r=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);for(let t=0;t<e.length;t++)r+=Math.exp(e[t]-n);for(let i=0;i<e.length;i++)t.push(Math.exp(e[i]-n)/r);return t}const i=Math.floor(new Date/1e3);let s=new TinySegmenter,a=Array.isArray(t)?t:s.segment(t),o={},c=[],u=new RegExp("[.#$\\[\\]]"),l={},h="",d=0;const f=Math.pow(10,-6);let p=[{sequence:[],score:1}];for(const t of n){if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const e of this.wordDictionary[t].attributes)e in o?o[e].push(t):o[e]=[t]}for(const t of a){if(!c.includes(t)){if(Array.isArray(t)){let n=[],s=[];for(const r of t)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}else if(!u.test(t)){let n=[],s=[];if(t in this.wordDictionary==!1||i-this.wordDictionary[t].timestamp>=3600){const n=await le.ref("wonderland/users/"+e+"/dictionary/words/"+t).once("value");if(this.wordDictionary[t]={attributes:[],timestamp:i},n.exists()){const e=n.val();for(const n in e.attributes)"number"==typeof e.attributes[n]&&e.attributes[n]>0&&this.attributes.includes(n)&&this.wordDictionary[t].attributes.push(n)}}for(const r of this.wordDictionary[t].attributes)if(r in o){for(const e of o[r])if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e===n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}else{if(r in this.reverseWordDictionary==!1||i-this.reverseWordDictionary[r].timestamp>=3600){const t=await le.ref("wonderland/users/"+e+"/dictionary/words").orderByChild("attributes/"+r).limitToLast(100).startAt(1).once("value");if(this.reverseWordDictionary[r]={words:[],timestamp:i},t.exists()){const e=t.val();for(let t in e)this.reverseWordDictionary[r].words.push(t)}}for(const e of this.reverseWordDictionary[r].words)if(!n.includes(e)){let t=!0;n.push(e);for(const n of this.tags)if(e==n.name){s.push(n.score),t=!1;break}t&&s.push(f)}}if(n.length>0&&s.length>0){const e=r(s);let t=[];for(let r=0;r<p.length;r++)for(let i=0;i<e.length;i++){let s=[].concat(p[r].sequence);s.push({index:d,term:n[i]}),t.push({sequence:s,score:p[r].score*e[i]})}p.splice(0);for(const e of this.take(t.sort((e,t)=>t.score-e.score),10))p.push(e)}}c.push(t)}d++}const m=p[function(e){const t=Math.random();let n=0,r=0;for(let i of e){if(n<=t&&t<n+i)break;n+=i,r++}return r}(r(p.map(e=>e.score)))];for(let e=0;e<a.length;e++)if(a[e]in l)void 0===l[a[e]]?h+=a[e]:h+=l[a[e]];else{let t=!0;for(let n=0;n<m.sequence.length;n++)if(m.sequence[n].index==e){a[e]==m.sequence[n].term?l[a[e]]=void 0:(l[a[e]]=m.sequence[n].term,h+=m.sequence[n].term,t=!1);break}if(t){if(Array.isArray(a[e]))return null;h+=a[e]}}return[h,l]},notify:function(e,t=3e3){const n=this;e.id=window.setTimeout(e=>{for(let t=0;t<n.notifications.length;t++)if(n.notifications[t].id===e.id){n.notifications.splice(t,1);break}},t,e),this.notifications.unshift(e)},blinded:async function(){if(0==this.backgroundImagesQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.recentImages))this.backgroundImagesQueue.push(e)}const e=this.backgroundImagesQueue.shift();this.preloadImages.splice(0),this.backgroundImages.splice(0);for(const t of e.paths)try{this.preloadImages.push({id:e.id,url:await he.ref().child(t).getDownloadURL(),timestamp:e.timestamp})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}"tags"in e&&this.talk(this.user.uid,e.tags.filter(e=>e!==this.character.name))},load:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},error:function(e){let t=!0;for(let n of this.preloadImages)n.url==e?n.isLoaded=!0:"isLoaded"in n||(t=!1);if(t){let e=0;for(const t of this.preloadImages)t.isLoaded&&(this.backgroundImages.push({index:e,id:t.id,url:t.url,timestamp:t.timestamp}),e++);this.preloadImages.splice(0),this.isBlinded=!1}},update2:async function(e,t){this.isUpdating=!0;try{const n=await new Promise(n=>{const r=Math.pow(10,-6);let i=[],s=[],a=[],o={};const c=(new Date).getTime()-432e5;let u={},l=[],h=r;for(const t in e)if("tags"in e[t]&&e[t].tags.length>0){let n=[];i.push({tokens:e[t].tags,timestamp:e[t].timestamp});for(const r of e[t].tags)n.includes(r)||(r in o?o[r]+=1:o[r]=1,n.push(r))}for(const e in o)o[e]=Math.log(i.length/(o[e]+r));for(const e of i)1e3*e.timestamp>c&&s.push(e);if(s.length<10){const e=Math.max(i.length-10,0);s.splice(0);for(let t=i.length-1;t>=e;t--)s.unshift(i[t])}for(const e of s){let t={};for(const n of e.tokens)n in t?t[n]+=1:t[n]=1;for(const n in t)t[n]/=e.tokens.length,n in u||(u[n]=0);a.push(t)}for(const e in u)for(const t of a)if(e in t){const n=t[e]*o[e];n>u[e]&&(u[e]=n)}for(const e in u)e.length>1&&"..."!=e&&l.push({term:e,value:u[e]});l.sort((e,t)=>t.value-e.value),l.length>t&&l.splice(t);for(const e of l)e.value>h&&(h=e.value);for(const e of l)e.value/=h;l.sort((e,t)=>e.term>t.term?1:e.term<t.term?-1:0),n(l)});this.tags.splice(0);for(let e=0;e<n.length;e++)this.tags.push({index:e,name:n[e].term,score:n[e].value})}catch(e){this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.isUpdating=!1},scrollToTop(){this.$nextTick(()=>{window.scroll(0,0)})},scrollToEnd:function(){"number"==typeof this.scrollTimeoutID&&clearTimeout(this.scrollTimeoutID),this.scrollTimeoutID=setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),500)},formatDate:function(e){return moment.locale(window.navigator.language),moment(e).format("LT")},animationStart:function(e){this.isAnimating=!0},animationEnd:function(e){this.isPopup||(this.message=null),this.isAnimating=!1},tickerUpdated:function(e){const t=this;this.$nextTick(()=>{for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let n=0;for(const t of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))n+=t.getBoundingClientRect().width;n>0&&(t.tickerWidth=Math.min(n/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=n+"px")}})},arrange:function(e,t){let n=[],r=[];for(const i of e)r.length<t?r.push(i):(n.push(r),r=[i]);return n.push(r),n},take:function(e,t){if(e.length>t){let n=[].concat(e);return n.splice(t),n}return e},reverse:function(e){return[].concat(e).reverse()},formatTime:function(e){const t=Math.floor(e),n=Math.floor(t/86400),r=Math.floor(t/3600),i=Math.floor(t/60);return n>0?n+"d":i>0?r>0?r+"h":i+"m":t%60+"s"},digestMessage:async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},getDistance:function(e,t,n,r){var i=this.deg2rad(n-e),s=this.deg2rad(r-t),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},deg2rad:function(e){return e*(Math.PI/180)},encodeGeohash:function(e,t,n=12){const r=[16,8,4,2,1];var i=1,s=[],a=[],o=0,c=0;let u="";for(s[0]=-90,s[1]=90,a[0]=-180,a[1]=180;u.length<n;){if(i){const e=(a[0]+a[1])/2;t>e?(c|=r[o],a[0]=e):a[1]=e}else{const t=(s[0]+s[1])/2;e>t?(c|=r[o],s[0]=t):s[1]=t}i=!i,o<4?o++:(u+="0123456789bcdefghjkmnpqrstuvwxyz"[c],o=0,c=0)}return u},decodeGeohash:function(e){const t=[16,8,4,2,1];var n=1,r=[],i=[];r[0]=-90,r[1]=90,i[0]=-180,i[1]=180;for(var s=0;s<e.length;s++)for(var a=e[s],o="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(a),c=0;c<5;c++){const e=t[c];n?(2,o&e?i[0]=(i[0]+i[1])/2:i[1]=(i[0]+i[1])/2):(2,o&e?r[0]=(r[0]+r[1])/2:r[1]=(r[0]+r[1])/2),n=!n}return r[2]=(r[0]+r[1])/2,i[2]=(i[0]+i[1])/2,{latitude:r[2],longitude:i[2],topleft:{latitude:r[0],longitude:i[0]},topright:{latitude:r[1],longitude:i[0]},bottomright:{latitude:r[1],longitude:i[1]},bottomleft:{latitude:r[0],longitude:i[1]}}},getNeighbors:function(e){const t=this.calculateAdjacent(e,"right"),n=this.calculateAdjacent(e,"left");return{top:this.calculateAdjacent(e,"top"),bottom:this.calculateAdjacent(e,"bottom"),right:t,left:n,topleft:this.calculateAdjacent(n,"top"),topright:this.calculateAdjacent(t,"top"),bottomright:this.calculateAdjacent(t,"bottom"),bottomleft:this.calculateAdjacent(n,"bottom")}},calculateAdjacent:function(e,t){const n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},r={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,r.bottom.odd=r.left.even,r.top.odd=r.right.even,r.left.odd=r.bottom.even,r.right.odd=r.top.even;var i=(e=e.toLowerCase()).charAt(e.length-1),s=e.length%2?"odd":"even",a=e.substring(0,e.length-1);return-1!=r[t][s].indexOf(i)&&(a=this.calculateAdjacent(a,t)),a+"0123456789bcdefghjkmnpqrstuvwxyz"[n[t][s].indexOf(i)]},prepare:function(e,t=null){function n(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}let r=[],i=[];for(const n of e){const e=t;if(null===t&&n.name in this.states&&(e=this.states[n.name]),null!==e&&"state"in n){if(!new RegExp(n.state).test(e))continue}r.push(n)}if(r.length>0){let e=[];for(const i of r[n(0,r.length)].sequence)null!==t&&(this.states[i.name]=t),e.push(i);for(;e.length>0;){const t=e.shift();if("Sequence"==t.type){if("sequence"in t==!1){let r=[],i=[];for(const e of this.character.sequences){let n=this.getSequenceStack(e,t);if(n.length>0){let e=[];do{let t=n.pop();if(n.length>0){let r=[];for(const i of n[n.length-1].sequence)if("Sequence"==i.type){if("sequence"in i){let t=!0;for(const n of e)if(n===i){t=!1;break}t&&r.push(i)}if(i===t)break}for(;r.length>0;)e.push(r.pop())}if("sequence"in t){let n=!0;for(const r of e)if(r===t){n=!1;break}n&&e.push(t)}}while(n.length>0);for(;e.length>0;)r.push(e.pop())}else r.push(e)}if("state"in t){this.states[t.name]=t.state;for(const e of r)if(e.name==t.name){if(!new RegExp(e.state).test(t.state))continue;i.push(e)}}else for(const e of r)if(e.name==t.name){if("state"in e){if(e.name in this.states==!1)continue;if(!new RegExp(e.state).test(this.states[e.name]))continue}i.push(e)}if(i.length>0){let t=0;for(const r of i[n(0,i.length)].sequence)e.splice(t,0,r),t++}}}else i.push(t)}}return i},getSequenceStack:function(e,t){let n=[];if(n.push(e),n[n.length-1]!==t){if("sequence"in e)for(const r of e.sequence)if("Sequence"==r.type){let e=this.getSequenceStack(r,t);if(e.length>0&&e[e.length-1]===t){let t=[];do{t.push(e.pop())}while(e.length>0);do{n.push(t.pop())}while(t.length>0);return n}}n.pop()}return n},animate:function(e){if(requestAnimationFrame(this.animate),null!==this.character){const r=(e-this.elapsed)/1e3;let i=!1,s=!1,a=null;if(this.sequenceQueue.length>0&&this.sequenceQueue[0].length>0)fe=0;else if(fe+=r,this.isLoading||(pe+=r),0==this.sequenceQueue.length)if(pe>=10){if(this.cachedDocuments.length>0){if(0==this.documentQueue.length){for(const e of function(e){let t=[].concat(e),n=e.length;for(;n>1;){const e=(r=0,i=n,r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r);n--;const s=t[n];t[n]=t[e],t[e]=s}var r,i;return t}(this.cachedDocuments))this.documentQueue.push(e)}const e=this.documentQueue.shift();this.talk(this.user.uid,e.filter(e=>e!==this.character.name))}fe=pe=0}else(fe>=5||null===a)&&(this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Idle"===e.name))),fe=0);if(this.sequenceQueue.length>0){const e=this.sequenceQueue[0];e.length>0?"Animation"==e[0].type?e.shift():"Message"!=e[0].type||null!==this.message||i||s||(this.message={time:0,duration:e[0].duration,type:{elapsed:-1,speed:e[0].speed,reverse:!1,buffer:"",count:0},text:e[0].text},e.shift()):null!==this.message||i||s||this.sequenceQueue.shift()}if(null!==this.message){if(this.message.type.reverse)if(this.message.type.count>0){if(this.message.type.elapsed+=2*r,this.message.type.elapsed>=1/this.message.type.speed){if(this.message.type.count-1<this.message.text.length){let e=Math.floor(this.message.text.length/2);this.message.type.buffer.length<=e&&this.message.type.count>0&&(this.message.type.count-=1),this.message.type.buffer.length>0&&(this.message.type.buffer=this.message.type.buffer.substring(0,this.message.type.buffer.length-1))}this.message.type.elapsed=0}}else this.isPopup=!1;else if(this.message.type.buffer.length<this.message.text.length){if(this.message.type.elapsed>=0?this.message.type.elapsed+=r:this.isAnimating||(this.isPopup?this.message.type.elapsed=r:this.isPopup=!0),this.message.type.elapsed>=1/this.message.type.speed){let e=this.message.type.buffer.length,t=Math.floor(this.message.text.length/2),n=this.message.text.length;this.message.type.count>=t&&(this.message.type.buffer+=this.message.text.charAt(e)),this.message.type.count<n&&(this.message.type.count+=1),this.message.type.elapsed=0}}else this.message.time+=r,this.message.time>=this.message.duration&&(this.message.type.reverse=!0);if(this.message.text.length===this.message.type.buffer.length){const e=this.message.text.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else{let e=new Array,r="";for(let t=0;t<this.message.text.length;t++)-1==e.indexOf(this.message.text.charAt(t))&&"\n"!=this.message.text.charAt(t)&&null==this.message.text.charAt(t).match(/\s/)&&e.push(this.message.text.charAt(t));if(e.length>0)for(let i=0;i<this.message.type.count;i++)"\n"==this.message.text.charAt(i)?r+="\n":r+=e[(t=0,n=e.length,t=Math.ceil(t),n=Math.floor(n),~~(Math.floor(Math.random()*(n-t))+t))];if(r.length>this.message.type.buffer.length){const e=(this.message.type.buffer+r.substring(this.message.type.buffer.length,r.length)).split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}else if(this.text.length!==this.message.type.buffer.length){const e=this.message.type.buffer.split("");this.text.splice(0);for(let t=0;t<e.length;t++)this.text.push({key:t,value:e[t]})}}}}var t,n;this.elapsed=e}},updated:function(){this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height;for(const e of document.body.querySelectorAll("#input>.columns:last-of-type>.column>.control .clip")){let t=0;for(const n of e.querySelectorAll(":scope .ticker-wrap .ticker .item"))t+=n.getBoundingClientRect().width;t>0&&(this.tickerWidth=Math.min(t/2,document.body.querySelector("#input>.columns:last-of-type>.column>.control .level").getBoundingClientRect().width),e.querySelector(":scope .ticker-wrap .ticker").style.width=t+"px")}},mounted:async function(){const e=this,t=localStorage.getItem("bot"),n=localStorage.getItem("credential");let r=null,i=[{path:"/assets/milch.json",probability:1}];if(t)try{const e=JSON.parse(t);null!==e&&(this.isMuted=e.mute)}catch(e){localStorage.removeItem("bot")}if(n)try{r=JSON.parse(n)}catch(e){localStorage.removeItem("credential")}this.animate(),this.insetTop=this.$refs.indicator.getBoundingClientRect().height,this.insetBottom=this.$refs.blank.getBoundingClientRect().height,this.map=new Microsoft.Maps.Map(this.$refs.map,{mapTypeId:Microsoft.Maps.MapTypeId.canvasLight}),this.map.setOptions({enableHighDpi:window.devicePixelRatio>1,showLocateMeButton:!1,showMapTypeSelector:!1,showZoomButtons:!1,showScalebar:!1,supportedMapTypes:[Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark]}),this.layer=new Microsoft.Maps.Layer,this.layer.setVisible(!1),this.map.layers.insert(this.layer),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>{null!==e.user&&e.update()});try{this.progress=1;const e=await fetch(function(e,t){const n=Math.random();let r=0,i=0;for(let s of e){const e=t(s);if(r<=n&&n<r+e)break;r+=e,i++}return e[i]}(i,e=>e.probability).path,{mode:"cors",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)throw new Error(e.statusText);this.character=await e.json()}catch(e){this.progress=null,this.notify({text:e.message,accent:this.character.accent,image:this.character.image}),console.error(e)}this.sequenceQueue.push(this.prepare(this.character.sequences.filter(e=>"Start"===e.name))),null===r?(this.mode="sign-in",this.isRevealed=!0):r.providerId===firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(r.idToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.FacebookAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.FacebookAuthProvider.credential(r.accessToken)).catch(e=>{console.error(e.code,e.message)}):r.providerId===firebase.auth.TwitterAuthProvider.PROVIDER_ID?firebase.auth().signInWithCredential(firebase.auth.TwitterAuthProvider.credential(r.accessToken,r.secret)).catch(e=>{console.error(e.code,e.message)}):(this.mode="sign-in",this.isRevealed=!0),firebase.auth().onAuthStateChanged((function(t){t?(e.user=t,e.update(),le.ref("wonderland/users/"+t.uid+"/dictionary/count").on("value",t=>{const n=t.val();e.stars=null===n?0:n}),le.ref("wonderland/users/"+t.uid).orderByChild("dictionary/words/timestamp").limitToLast(10).on("value",t=>{if(t.exists()){const n=t.val();let r=[],i=0;for(const e in n)r.push({name:e,timestamp:n[e].timestamp});for(const t of e.prepare(e.character.sequences.filter(e=>"Alert"===e.name),10))"Message"===t.type&&(e.recentWords.splice(i,0,{name:t.text,image:e.character.image}),i++);for(const t of r.sort((e,t)=>t.timestamp-e.timestamp)){let n=-1;for(let r=0;r<e.recentWords.length;r++)if(e.recentWords[r].name==t.name){n=r;break}n>=0?(e.recentWords[n].timestamp<t.timestamp&&(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(n,1)):(t.name in e.wordDictionary&&delete e.wordDictionary[t.name],Object.keys(e.reverseWordDictionary).forEach(n=>{e.reverseWordDictionary[n].words.some(e=>e===t.name)&&delete e.reverseWordDictionary[n]})),e.recentWords.splice(i,0,t),i++}for(let t=e.recentWords.length-1;t>=i;t--)e.recentWords.splice(t,1)}})):null!==e.user&&(le.ref("wonderland/users/"+e.user.uid+"/dictionary/count").off("value"),le.ref("wonderland/users/"+e.user.uid).off("value"),e.user=null)}))},unmounted:function(){"number"==typeof this.tickIntervalID&&clearInterval(this.tickIntervalID),null!==vrmModel&&(scene.remove(vrmModel.scene),vrmModel=null)}}).mount("#app");window.addEventListener("resize",e=>{t.insetTop=t.$refs.indicator.getBoundingClientRect().height,t.insetBottom=t.$refs.blank.getBoundingClientRect().height}),window.addEventListener("click",e=>{}),window.addEventListener("dblclick",e=>{t.talk(t.user.uid),pe=0}),window.addEventListener("mousedown",e=>{}),window.addEventListener("mousemove",e=>{}),window.addEventListener("mouseup",e=>{}),window.addEventListener("touchstart",e=>{e.stopPropagation(),0==me?(me++,setTimeout(()=>{me=0},500)):(t.talk(t.user.uid),pe=0,me=0)}),window.addEventListener("touchmove",e=>{e.stopPropagation()}),window.addEventListener("touchend",e=>{e.stopPropagation()}),window.addEventListener("touchcancel",e=>{e.stopPropagation()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?t.isDarkMode=!0:t.isDarkMode=!1})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmIiwiZSIsImEiLCJhcHBlbmRDaGlsZCIsImRvbSIsInUiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsIlBhbmVsIiwiaCIsInNlbGYiLCJtZW1vcnkiLCJSRVZJU0lPTiIsImFkZFBhbmVsIiwic2hvd1BhbmVsIiwiYmVnaW4iLCJlbmQiLCJ1cGRhdGUiLCJ1c2VkSlNIZWFwU2l6ZSIsImpzSGVhcFNpemVMaW1pdCIsInRoaXMiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MiLCJsb29wQmVnaW4iLCJjaGFuZ2VCZWdpbiIsImNoYW5nZSIsImNoYW5nZUNvbXBsZXRlIiwibG9vcENvbXBsZXRlIiwiY29tcGxldGUiLCJsb29wIiwiZGlyZWN0aW9uIiwiYXV0b3BsYXkiLCJ0aW1lbGluZU9mZnNldCIsImRlZmF1bHRUd2VlblNldHRpbmdzIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiZWFzaW5nIiwidmFsaWRUcmFuc2Zvcm1zIiwiY2FjaGUiLCJDU1MiLCJzcHJpbmdzIiwibWluTWF4IiwidmFsIiwic3RyaW5nQ29udGFpbnMiLCJzdHIiLCJ0ZXh0IiwiaW5kZXhPZiIsImFwcGx5QXJndW1lbnRzIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsImlzIiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwib2JqIiwidG9TdHJpbmciLCJwdGgiLCJzdmciLCJTVkdFbGVtZW50IiwiaW5wIiwiSFRNTElucHV0RWxlbWVudCIsIm5vZGVUeXBlIiwiZm5jIiwidW5kIiwibmlsIiwiaGV4IiwidGVzdCIsInJnYiIsImhzbCIsImNvbCIsInBhcnNlRWFzaW5nUGFyYW1ldGVycyIsInN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInNwbGl0IiwibWFwIiwicGFyc2VGbG9hdCIsInNwcmluZyIsInBhcmFtcyIsIm1hc3MiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwidmVsb2NpdHkiLCJ3MCIsInNxcnQiLCJ6ZXRhIiwid2QiLCJzb2x2ZXIiLCJwcm9ncmVzcyIsImV4cCIsImNvcyIsInNpbiIsImNhY2hlZCIsImVsYXBzZWQiLCJyZXN0Iiwic3RlcHMiLCJjZWlsIiwiZWFzZXMiLCJmdW5jdGlvbkVhc2luZ3MiLCJiZXppZXIiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsIngiLCJnZXRURm9yWCIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJhYnMiLCJiaW5hcnlTdWJkaXZpZGUiLCJwZW5uZXIiLCJsaW5lYXIiLCJTaW5lIiwiUEkiLCJDaXJjIiwiQmFjayIsIkJvdW5jZSIsInBvdzIiLCJwb3ciLCJFbGFzdGljIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiYXNpbiIsImZvckVhY2giLCJrZXlzIiwiZWFzZUluIiwicGFyc2VFYXNpbmdzIiwiZWFzZSIsInNlbGVjdFN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWx0ZXJBcnJheSIsImNhbGxiYWNrIiwibGVuIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsInJlc3VsdCIsInB1c2giLCJmbGF0dGVuQXJyYXkiLCJyZWR1Y2UiLCJjb25jYXQiLCJ0b0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsInNsaWNlIiwiYXJyYXlDb250YWlucyIsInNvbWUiLCJjbG9uZU9iamVjdCIsImNsb25lIiwicmVwbGFjZU9iamVjdFByb3BzIiwibzEiLCJvMiIsIm1lcmdlT2JqZWN0cyIsImNvbG9yVG9SZ2IiLCJyZ2JWYWx1ZSIsImhleFZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwiaGV4VG9SZ2JhIiwiaHNsVmFsdWUiLCJodWUycmdiIiwiaHNsVG9SZ2JhIiwiZ2V0VW5pdCIsImdldEZ1bmN0aW9uVmFsdWUiLCJhbmltYXRhYmxlIiwidGFyZ2V0IiwiaWQiLCJ0b3RhbCIsImdldEF0dHJpYnV0ZSIsImVsIiwicHJvcCIsImNvbnZlcnRQeFRvVW5pdCIsInVuaXQiLCJ0ZW1wRWwiLCJ0YWdOYW1lIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiYm9keSIsInBvc2l0aW9uIiwiZmFjdG9yIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImNvbnZlcnRlZFVuaXQiLCJnZXRDU1NWYWx1ZSIsInVwcGVyY2FzZVByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldEFuaW1hdGlvblR5cGUiLCJnZXRFbGVtZW50VHJhbnNmb3JtcyIsInRyYW5zZm9ybSIsInJlZyIsInRyYW5zZm9ybXMiLCJNYXAiLCJzZXQiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInByb3BOYW1lIiwiZGVmYXVsdFZhbCIsImdldFRyYW5zZm9ybVVuaXQiLCJsaXN0IiwiZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSIsImdldFJlbGF0aXZlVmFsdWUiLCJ0byIsImZyb20iLCJvcGVyYXRvciIsInkiLCJ2YWxpZGF0ZVZhbHVlIiwib3JpZ2luYWxVbml0IiwidW5pdExlc3MiLCJzdWJzdHIiLCJnZXREaXN0YW5jZSIsInAxIiwicDIiLCJnZXRQb2x5bGluZUxlbmd0aCIsInByZXZpb3VzUG9zIiwicG9pbnRzIiwidG90YWxMZW5ndGgiLCJudW1iZXJPZkl0ZW1zIiwiY3VycmVudFBvcyIsImdldEl0ZW0iLCJnZXRUb3RhbExlbmd0aCIsImdldENpcmNsZUxlbmd0aCIsImdldFJlY3RMZW5ndGgiLCJnZXRMaW5lTGVuZ3RoIiwiZ2V0UG9seWdvbkxlbmd0aCIsImdldFBhcmVudFN2ZyIsInBhdGhFbCIsInN2Z0RhdGEiLCJwYXJlbnRTdmdFbCIsImdldFBhcmVudFN2Z0VsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdCb3hBdHRyIiwidmlld0JveCIsInZXIiwidkgiLCJnZXRQYXRoUHJvZ3Jlc3MiLCJwYXRoIiwiaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHIiwicG9pbnQiLCJvZmZzZXQiLCJnZXRQb2ludEF0TGVuZ3RoIiwicDAiLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImRlY29tcG9zZVZhbHVlIiwicmd4Iiwib3JpZ2luYWwiLCJudW1iZXJzIiwiTnVtYmVyIiwic3RyaW5ncyIsInBhcnNlVGFyZ2V0cyIsInRhcmdldHMiLCJpdGVtIiwicG9zIiwiZ2V0QW5pbWF0YWJsZXMiLCJwYXJzZWQiLCJub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyIsInR3ZWVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsInByb3BBcnJheSIsImdldFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwia2V5ZnJhbWVzIiwicHJvcGVydHlOYW1lcyIsIm5ld0tleSIsImZsYXR0ZW5LZXlmcmFtZXMiLCJ0d2VlbnMiLCJub3JtYWxpemVUd2VlbnMiLCJwcmV2aW91c1R3ZWVuIiwidHdlZW4iLCJub3JtYWxpemVUd2VlblZhbHVlcyIsInR3ZWVuVmFsdWUiLCJ0b1VuaXQiLCJvcmlnaW5hbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZyb21Vbml0Iiwic3RhcnQiLCJpc1BhdGgiLCJpc0NvbG9yIiwic2V0UHJvZ3Jlc3NWYWx1ZSIsImNzcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1hbnVhbCIsImxhc3QiLCJzZXRUYXJnZXRzVmFsdWUiLCJ2YWx1ZVVuaXQiLCJhbmltVHlwZSIsImdldEFuaW1hdGlvbnMiLCJhbmltYXRhYmxlcyIsImxhc3RUd2VlbiIsInR5cGUiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRJbnN0YW5jZVRpbWluZ3MiLCJhbmltYXRpb25zIiwiYW5pbUxlbmd0aCIsImdldFRsT2Zmc2V0IiwiYW5pbSIsInRpbWluZ3MiLCJpbnN0YW5jZUlEIiwiYWN0aXZlSW5zdGFuY2VzIiwiZW5naW5lIiwicmFmIiwic3RlcCIsImFjdGl2ZUluc3RhbmNlc0xlbmd0aCIsImFjdGl2ZUluc3RhbmNlIiwicGF1c2VkIiwic3BsaWNlIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVuZGVmaW5lZCIsImFuaW1lIiwic3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiIsImlzRG9jdW1lbnRIaWRkZW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImluc3RhbmNlIiwiX29uRG9jdW1lbnRWaXNpYmlsaXR5IiwiaGlkZGVuIiwic3RhcnRUaW1lIiwibGFzdFRpbWUiLCJjaGlsZHJlbkxlbmd0aCIsInJlc29sdmUiLCJtYWtlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJmaW5pc2hlZCIsImluc3RhbmNlU2V0dGluZ3MiLCJjcmVhdGVOZXdJbnN0YW5jZSIsInRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uIiwicmV2ZXJzZWQiLCJjaGlsZCIsImFkanVzdFRpbWUiLCJ0aW1lIiwicmVzZXRUaW1lIiwiY3VycmVudFRpbWUiLCJzcGVlZCIsInNlZWtDaGlsZCIsInNlZWsiLCJzZXRBbmltYXRpb25zUHJvZ3Jlc3MiLCJpbnNUaW1lIiwiYW5pbWF0aW9uc0xlbmd0aCIsInR3ZWVuTGVuZ3RoIiwiZWFzZWQiLCJpc05hTiIsInRvTnVtYmVyc0xlbmd0aCIsInRvTnVtYmVyIiwiZnJvbU51bWJlciIsInN0cmluZ3NMZW5ndGgiLCJuJDEiLCJjdXJyZW50VmFsdWUiLCJzZXRDYWxsYmFjayIsImNiIiwicGFzc1Rocm91Z2giLCJzZXRJbnN0YW5jZVByb2dyZXNzIiwiZW5naW5lVGltZSIsImluc0R1cmF0aW9uIiwiaW5zRGVsYXkiLCJpbnNFbmREZWxheSIsInJldmVyc2VQbGF5YmFjayIsImkkMSIsInN5bmNJbnN0YW5jZUNoaWxkcmVuIiwiYmVnYW4iLCJsb29wQmVnYW4iLCJjaGFuZ2VCZWdhbiIsImNoYW5nZUNvbXBsZXRlZCIsInJlbWFpbmluZyIsImNvbXBsZXRlZCIsInJlc2V0IiwicGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInJlc3RhcnQiLCJyZW1vdmUiLCJyZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlIiwicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zIiwidGFyZ2V0c0FycmF5IiwiY2hpbGRBbmltYXRpb25zIiwidmVyc2lvbiIsInJ1bm5pbmciLCJjb252ZXJ0UHgiLCJwZXJjZW50Iiwic2V0RGFzaG9mZnNldCIsInBhdGhMZW5ndGgiLCJzdGFnZ2VyIiwiZ3JpZCIsImF4aXMiLCJmcm9tSW5kZXgiLCJmcm9tRmlyc3QiLCJmcm9tQ2VudGVyIiwiZnJvbUxhc3QiLCJpc1JhbmdlIiwidmFsMSIsInZhbDIiLCJ2YWx1ZXMiLCJtYXhWYWx1ZSIsImluZGV4IiwiZnJvbVgiLCJmcm9tWSIsImZsb29yIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwidGltZWxpbmUiLCJ0bCIsImFkZCIsImluc3RhbmNlUGFyYW1zIiwidGxJbmRleCIsImlucyIsImluc1BhcmFtcyIsInRsRHVyYXRpb24iLCJyYW5kb20iLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhbmFseXRpY3MiLCJkZWJ1ZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImRhdGFiYXNlIiwic3RvcmFnZSIsInN0YXRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiY2xhc3NMaXN0IiwiaWRsZVRpbWUiLCJhY3RpdmF0ZVRpbWUiLCJ0YXBDb3VudCIsImV2ZW50IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIm9udXBkYXRlZm91bmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiY29udHJvbGxlciIsImRhdGEiLCJjb21tYW5kIiwicG9zdE1lc3NhZ2UiLCJjYWNoZXMiLCJhcHAiLCJWdWUiLCJjcmVhdGVBcHAiLCJpc0RlYnVnIiwiaXNEYXJrTW9kZSIsImlzTXV0ZWQiLCJpc0xvYWRpbmciLCJpc0xvY2F0aW5nIiwiaXNSZXZlYWxlZCIsImlzT3ZlcmxheWVkIiwiaXNCbGluZGVkIiwiaXNQb3B1cCIsImlzRXhwYW5kZWQiLCJpc0xlYXJuaW5nIiwiaXNBbmltYXRpbmciLCJpc0hhbmdpbmdPbiIsImlzU3VibWl0dGluZyIsImxheWVyIiwicXVlcnlRdWV1ZSIsInF1ZXJ5Q2FjaGUiLCJjYWNoZWRUcmFja3MiLCJjYWNoZWREb2N1bWVudHMiLCJkb2N1bWVudFF1ZXVlIiwic2VxdWVuY2VRdWV1ZSIsInVzZXIiLCJpbnB1dCIsImFuaW1hdGVkSW5wdXRMZW5ndGgiLCJtYXhJbnB1dExlbmd0aCIsImlucHV0SGFzRXJyb3IiLCJtZXNzYWdlcyIsIm1heE1lc3NhZ2VzIiwid29yZCIsInJlY2VudFdvcmRzIiwidGFncyIsIm1heFRhZ3MiLCJzY3JvbGxUaW1lb3V0SUQiLCJ0aWNrSW50ZXJ2YWxJRCIsInN0YXJzIiwiYW5pbWF0ZWRTdGFycyIsInNjcmVlbnNob3QiLCJub3RpZmljYXRpb25zIiwicmVjZW50SW1hZ2VzIiwiYmFja2dyb3VuZEltYWdlc1F1ZXVlIiwiYmFja2dyb3VuZEltYWdlcyIsInByZWxvYWRJbWFnZXMiLCJpc1VwbG9hZGluZyIsImN1cnJlbnRBbmltYXRpb25zIiwiYmxlbmRTaGFwZUFuaW1hdGlvbnMiLCJpbnNldFRvcCIsImluc2V0Qm90dG9tIiwicG9wdXBUZXh0SGVpZ2h0IiwiYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQiLCJ0aWNrZXJXaWR0aCIsImFuaW1hdGVkVGlja2VyV2lkdGgiLCJzdGF0ZXMiLCJjaGFyYWN0ZXIiLCJ3b3JkRGljdGlvbmFyeSIsInJldmVyc2VXb3JkRGljdGlvbmFyeSIsImF0dHJpYnV0ZXMiLCJ3YXRjaCIsIm5ld1ZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtdXRlIiwicmVtb3ZlSXRlbSIsIndvcmRzIiwiaGFuZGxlciIsIiRuZXh0VGljayIsImNsaXAiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImRlZXAiLCJlbGVtZW50cyIsImZyYW1lUmF0ZSIsInZpc2liaWxpdHkiLCJhbmltYXRpb24iLCJhbmltYXRlIiwiZmlsbCIsIml0ZXJhdGlvbnMiLCIkcmVmcyIsInBvcHVwVGV4dCIsImNvdW50IiwibWV0aG9kcyIsInNpZ25JbiIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJQUk9WSURFUl9JRCIsInNpZ25JbldpdGhQb3B1cCIsImNyZWRlbnRpYWwiLCJwcm92aWRlckRhdGEiLCJjdXJyZW50VXNlciIsInVwZGF0ZVByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwicHJvdmlkZXJJZCIsImFjY2Vzc1Rva2VuIiwiaWRUb2tlbiIsIkZhY2Vib29rQXV0aFByb3ZpZGVyIiwicHJvdmlkZXIiLCJhZGRTY29wZSIsIlR3aXR0ZXJBdXRoUHJvdmlkZXIiLCJwaG90b1VybCIsInNlY3JldCIsInNpZ25PdXQiLCJyZWZyZXNoIiwic2hhcmUzIiwiYXN5bmMiLCJwZXJtaXNzaW9uU3RhdHVzIiwicGVybWlzc2lvbnMiLCJxdWVyeSIsInN0YXRlIiwicmVqZWN0IiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsImdlb2hhc2giLCJlbmNvZGVHZW9oYXNoIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ0aW1lc3RhbXAiLCJzbmFwc2hvdCIsInJlZiIsInVpZCIsIm9yZGVyQnlWYWx1ZSIsImxpbWl0VG9MYXN0Iiwib25jZSIsImV4aXN0cyIsImltYWdlIiwic2V0VmlldyIsImNlbnRlciIsIk1pY3Jvc29mdCIsIk1hcHMiLCJMb2NhdGlvbiIsInpvb20iLCJnZXRab29tIiwibm90aWZ5IiwiYWNjZW50IiwiaWdub3JlIiwiY2VudGVyTG9jYXRpb24iLCJnZXRDZW50ZXIiLCJ0cmFja3MiLCJmZXRjaCIsImhhbmRsZXJJZCIsImhhbmRsZXJzIiwiRXZlbnRzIiwicmVtb3ZlSGFuZGxlciIsImVudGl0aWVzIiwicHVzaHBpbiIsImlzVXBkYXRlZCIsInRyYWNrIiwicHVzaHBpbklkIiwiUHVzaHBpbiIsInRpdGxlIiwic3ViVGl0bGUiLCJmb3JtYXRUaW1lIiwiaWNvbiIsInNldEltYWdlIiwiYWRkSGFuZGxlciIsInNldExvY2F0aW9uIiwic2V0T3B0aW9ucyIsImlkcyIsInJlc3VsdHMiLCJlcHNpbG9uIiwiZG9jdW1lbnRzIiwidGVybUZyZXF1ZW5jaWVzIiwiaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5IiwiZ2V0VGltZSIsInNjb3JlRGljdGlvbmFyeSIsInNjb3JlcyIsIm1heFNjb3JlIiwidG9rZW5zIiwidGVybVNldCIsImluY2x1ZGVzIiwibG9nIiwidGYiLCJ0b2tlbiIsInRlcm1GcmVxdWVuY3kiLCJ0ZmlkZiIsInRlcm0iLCJzb3J0Iiwic2NvcmUiLCJjZW50ZXJHZW9oYXNoIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsImdlb2hhc2hlcyIsInRlbXBSZWNlbnQiLCJwcmltaXRpdmVzIiwiZGVjb2RlR2VvaGFzaCIsInRlbXBDYWNoZSIsIlBvbHlnb24iLCJ0b3BsZWZ0IiwidG9wcmlnaHQiLCJib3R0b21yaWdodCIsImJvdHRvbWxlZnQiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInN0cm9rZVRoaWNrbmVzcyIsIm5laWdoYm9ycyIsImdldE5laWdoYm9ycyIsInNldFByaW1pdGl2ZXMiLCJkYXRhYmFzZVJvb3QiLCJvcmRlckJ5Q2hpbGQiLCJzdGFydEF0IiwiZW5kQXQiLCJwYWRFbmQiLCJkaWN0aW9uYXJ5Iiwic2hpZnQiLCJyZWNlbnQiLCJ0YWtlIiwibG9jYXRlIiwibW92ZSIsInNlbmQiLCJ0cmFuc2FjdGlvbiIsImxlYXJuIiwic2VsZWN0ZWQiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzdGFydHNXaXRoIiwic3JjIiwicmVmRnJvbVVSTCIsImdldERvd25sb2FkVVJMIiwiY3Jvc3NPcmlnaW4iLCJjdHgiLCJpbmxpbmVTdmciLCJ0b0RhdGFVUkwiLCJ1cGxvYWQiLCJnZW5lcmF0ZVV1aWQiLCJjaGFycyIsImpvaW4iLCJzdG9yYWdlUmVmIiwiZmlsZXMiLCJwYXRocyIsImZpbGUiLCJ1cGxvYWRUYXNrIiwicHV0Iiwib24iLCJieXRlc1RyYW5zZmVycmVkIiwidG90YWxCeXRlcyIsImZ1bGxQYXRoIiwiZm9ybWF0Iiwic2VxdWVuY2UiLCJwcmVwYXJlIiwic2VxdWVuY2VzIiwiZmlsdGVyIiwiY2hlY2siLCJkYXRhc2V0IiwiY2hlY2tlZCIsInNoYXJlIiwiY3VycmVudCIsInVwZGF0ZVJlcXVpcmVkIiwiZGVsZXRlUmVxdWlyZWQiLCJjb21taXR0ZWQiLCJ0aW1lc3RhbXBzIiwidHdpbmtsZSIsImRpZ2VzdE1lc3NhZ2UiLCJuZXh0IiwibGltaXQiLCJvcmRlckJ5S2V5IiwibGltaXRUb0ZpcnN0IiwiaW5kZXhlcyIsInBvcCIsInByZXZpb3VzIiwibXNnVWludDgiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImhhc2hCdWZmZXIiLCJjcnlwdG8iLCJzdWJ0bGUiLCJkaWdlc3QiLCJVaW50OEFycmF5IiwicGFkU3RhcnQiLCJjaGVjazIiLCJpc0NoZWNrZWQiLCJsZWFybjIiLCJhY3RpdmF0ZSIsImFycmF5IiwidGVtcCIsInNodWZmbGUiLCJ0YWxrIiwidXNlcklkIiwidGVtcFN0YXRlcyIsImFzc2lnbiIsInNlZ21lbnRlciIsIlRpbnlTZWdtZW50ZXIiLCJ0b2tlblNldCIsInByZXBhcmVkU2VxdWVuY2UiLCJpc0Fib3J0ZWQiLCJzZWdtZW50IiwiZ2VuZXJhdGUiLCJoaW50cyIsInNvZnRtYXgiLCJNSU5fVkFMVUUiLCJzdW0iLCJoaW50RGljdGlvbmFyeSIsInJlZ2V4IiwiUmVnRXhwIiwiY2FjaERpY3Rpb25hcnkiLCJ0ZXJtcyIsImlzTmV3IiwidGFnIiwicHJvYmFiaWxpdGllcyIsImNhbmRpZGF0ZXMiLCJqIiwiY2FuZGlkYXRlIiwicHJvYmFiaWxpdHkiLCJjaG9pY2UiLCJzZXRUaW1lb3V0IiwidW5zaGlmdCIsImJsaW5kZWQiLCJ1cmwiLCJsb2FkIiwiaXNDb21wbGV0ZWQiLCJpc0xvYWRlZCIsInVwZGF0ZTIiLCJpc1VwZGF0aW5nIiwiZmlsdGVyZWREb2N1bWVudHMiLCJiYXNlVGltZSIsInNjcm9sbCIsInNjcm9sbFRvRW5kIiwiY2xlYXJUaW1lb3V0Iiwic2Nyb2xsVG8iLCJzY3JvbGxIZWlnaHQiLCJmb3JtYXREYXRlIiwibW9tZW50IiwibG9jYWxlIiwibGFuZ3VhZ2UiLCJhbmltYXRpb25TdGFydCIsImFuaW1hdGlvbkVuZCIsInRpY2tlclVwZGF0ZWQiLCJhcnJhbmdlIiwiY29sbGVjdGlvbiIsInJvd3MiLCJjb2x1bW5zIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJkZWciLCJwcmVjaXNpb24iLCJCSVRTIiwiaXNfZXZlbiIsImxhdCIsImxvbiIsImJpdCIsImNoIiwibWlkIiwiY2QiLCJtYXNrIiwicmlnaHRHZW9oYXNoIiwiY2FsY3VsYXRlQWRqYWNlbnQiLCJsZWZ0R2VvaGFzaCIsInNyY0hhc2giLCJkaXIiLCJORUlHSEJPUlMiLCJldmVuIiwiQk9SREVSUyIsIm9kZCIsImxhc3RDaHIiLCJjaGFyQXQiLCJiYXNlIiwiX3JhbmRvbSIsImNob29zZWRTZXF1ZW5jZXMiLCJmbGF0dGVuZWRTZXF1ZW5jZSIsInRlbXBTdGF0ZSIsInF1ZXVlIiwidHJhY2VkU2VxdWVuY2VzIiwiY2FsbGFibGVTZXF1ZW5jZXMiLCJzZXF1ZW5jZVN0YWNrIiwiZ2V0U2VxdWVuY2VTdGFjayIsInN0YWNrIiwicG9wcGVkU2VxdWVuY2UiLCJ0ZW1wU3RhY2siLCJ0ZW1wU2VxdWVuY2UiLCJzb3VyY2VTZXF1ZW5jZSIsInRhcmdldFNlcXVlbmNlIiwiZGVsdGFUaW1lIiwiaXNEZWZvcm1pbmciLCJhbmltYXRpb25EYXRhIiwiYnVmZmVyIiwiY2hhcmFjdGVycyIsImNoYXJBcnJheSIsInJhbmRvbUJ1ZmZlciIsInVwZGF0ZWQiLCJpbmRpY2F0b3IiLCJibGFuayIsIm1vdW50ZWQiLCJib3RTdG9yYWdlSXRlbSIsImNyZWRlbnRpYWxTdG9yYWdlSXRlbSIsImJvdCIsInBhcnNlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiY2FudmFzTGlnaHQiLCJlbmFibGVIaWdoRHBpIiwic2hvd0xvY2F0ZU1lQnV0dG9uIiwic2hvd01hcFR5cGVTZWxlY3RvciIsInNob3dab29tQnV0dG9ucyIsInNob3dTY2FsZWJhciIsInN1cHBvcnRlZE1hcFR5cGVzIiwiZ3JheXNjYWxlIiwiY2FudmFzRGFyayIsIkxheWVyIiwic2V0VmlzaWJsZSIsImxheWVycyIsImluc2VydCIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwianNvbiIsInNpZ25JbldpdGhDcmVkZW50aWFsIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidGVtcFdvcmRzIiwicmVtb3ZlSW5kZXgiLCJvZmYiLCJ1bm1vdW50ZWQiLCJjbGVhckludGVydmFsIiwidnJtTW9kZWwiLCJzY2VuZSIsIm1vdW50Iiwic3RvcFByb3BhZ2F0aW9uIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcs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MkJyQzFjLE9BQU96QixpQkFBaUIsWUFBYW1lLE9BR3JDMWMsT0FBT3pCLGlCQUFpQixVQUFXbWUsT0FPbkMxYyxPQUFPekIsaUJBQWlCLGFBQWNtZSxJQUNsQ0EsRUFBTXFkLGtCQUVVLEdBQVp0ZCxJQUNBQSxLQUVBNFYsV0FBVyxLQUNQNVYsR0FBVyxHQUNaLE9BK0NIa0IsRUFBSThTLEtBQUs5UyxFQUFJd0IsS0FBS3VHLEtBQ2xCbEosR0FBZSxFQUdmQyxHQUFXLEtBR25CemMsT0FBT3pCLGlCQUFpQixZQUFhbWUsSUFDakNBLEVBQU1xZCxvQkFJVi81QixPQUFPekIsaUJBQWlCLFdBQVltZSxJQUNoQ0EsRUFBTXFkLG9CQVFWLzVCLE9BQU96QixpQkFBaUIsY0FBZW1lLElBQ25DQSxFQUFNcWQsb0JBRVYvNUIsT0FBT2c2QixXQUFXLGdDQUFnQ3o3QixpQkFBaUIsU0FBVVosSUFDckVBLEVBQUVzOEIsUUFDRnRjLEVBQUlJLFlBQWEsRUFFakJKLEVBQUlJLFlBQWEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9qc1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvLyBzdGF0cy5qcyAtIGh0dHA6Ly9naXRodWIuY29tL21yZG9vYi9zdGF0cy5qc1xuKGZ1bmN0aW9uKGYsZSl7XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6Zi5TdGF0cz1lKCl9KSh0aGlzLGZ1bmN0aW9uKCl7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGEpe2MuYXBwZW5kQ2hpbGQoYS5kb20pO3JldHVybiBhfWZ1bmN0aW9uIHUoYSl7Zm9yKHZhciBkPTA7ZDxjLmNoaWxkcmVuLmxlbmd0aDtkKyspYy5jaGlsZHJlbltkXS5zdHlsZS5kaXNwbGF5PWQ9PT1hP1wiYmxvY2tcIjpcIm5vbmVcIjtsPWF9dmFyIGw9MCxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO2N1cnNvcjpwb2ludGVyO29wYWNpdHk6MC45O3otaW5kZXg6MTAwMDBcIjtjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtcbnUoKytsJWMuY2hpbGRyZW4ubGVuZ3RoKX0sITEpO3ZhciBrPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCksZz1rLGE9MCxyPWUobmV3IGYuUGFuZWwoXCJGUFNcIixcIiMwZmZcIixcIiMwMDJcIikpLGg9ZShuZXcgZi5QYW5lbChcIk1TXCIsXCIjMGYwXCIsXCIjMDIwXCIpKTtpZihzZWxmLnBlcmZvcm1hbmNlJiZzZWxmLnBlcmZvcm1hbmNlLm1lbW9yeSl2YXIgdD1lKG5ldyBmLlBhbmVsKFwiTUJcIixcIiNmMDhcIixcIiMyMDFcIikpO3UoMCk7cmV0dXJue1JFVklTSU9OOjE2LGRvbTpjLGFkZFBhbmVsOmUsc2hvd1BhbmVsOnUsYmVnaW46ZnVuY3Rpb24oKXtrPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCl9LGVuZDpmdW5jdGlvbigpe2ErKzt2YXIgYz0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpO2gudXBkYXRlKGMtaywyMDApO2lmKGM+ZysxRTMmJihyLnVwZGF0ZSgxRTMqYS8oYy1nKSwxMDApLGc9YyxhPTAsdCkpe3ZhciBkPXBlcmZvcm1hbmNlLm1lbW9yeTt0LnVwZGF0ZShkLnVzZWRKU0hlYXBTaXplL1xuMTA0ODU3NixkLmpzSGVhcFNpemVMaW1pdC8xMDQ4NTc2KX1yZXR1cm4gY30sdXBkYXRlOmZ1bmN0aW9uKCl7az10aGlzLmVuZCgpfSxkb21FbGVtZW50OmMsc2V0TW9kZTp1fX07Zi5QYW5lbD1mdW5jdGlvbihlLGYsbCl7dmFyIGM9SW5maW5pdHksaz0wLGc9TWF0aC5yb3VuZCxhPWcod2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLHI9ODAqYSxoPTQ4KmEsdD0zKmEsdj0yKmEsZD0zKmEsbT0xNSphLG49NzQqYSxwPTMwKmEscT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Eud2lkdGg9cjtxLmhlaWdodD1oO3Euc3R5bGUuY3NzVGV4dD1cIndpZHRoOjgwcHg7aGVpZ2h0OjQ4cHhcIjt2YXIgYj1xLmdldENvbnRleHQoXCIyZFwiKTtiLmZvbnQ9XCJib2xkIFwiKzkqYStcInB4IEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmXCI7Yi50ZXh0QmFzZWxpbmU9XCJ0b3BcIjtiLmZpbGxTdHlsZT1sO2IuZmlsbFJlY3QoMCwwLHIsaCk7Yi5maWxsU3R5bGU9ZjtiLmZpbGxUZXh0KGUsdCx2KTtcbmIuZmlsbFJlY3QoZCxtLG4scCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPS45O2IuZmlsbFJlY3QoZCxtLG4scCk7cmV0dXJue2RvbTpxLHVwZGF0ZTpmdW5jdGlvbihoLHcpe2M9TWF0aC5taW4oYyxoKTtrPU1hdGgubWF4KGssaCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPTE7Yi5maWxsUmVjdCgwLDAscixtKTtiLmZpbGxTdHlsZT1mO2IuZmlsbFRleHQoZyhoKStcIiBcIitlK1wiIChcIitnKGMpK1wiLVwiK2coaykrXCIpXCIsdCx2KTtiLmRyYXdJbWFnZShxLGQrYSxtLG4tYSxwLGQsbSxuLWEscCk7Yi5maWxsUmVjdChkK24tYSxtLGEscCk7Yi5maWxsU3R5bGU9bDtiLmdsb2JhbEFscGhhPS45O2IuZmlsbFJlY3QoZCtuLWEsbSxhLGcoKDEtaC93KSpwKSl9fX07cmV0dXJuIGZ9KTtcbiIsIi8qXG4gKiBhbmltZS5qcyB2My4yLjFcbiAqIChjKSAyMDIwIEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuLy8gRGVmYXVsdHNcblxudmFyIGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzID0ge1xuICB1cGRhdGU6IG51bGwsXG4gIGJlZ2luOiBudWxsLFxuICBsb29wQmVnaW46IG51bGwsXG4gIGNoYW5nZUJlZ2luOiBudWxsLFxuICBjaGFuZ2U6IG51bGwsXG4gIGNoYW5nZUNvbXBsZXRlOiBudWxsLFxuICBsb29wQ29tcGxldGU6IG51bGwsXG4gIGNvbXBsZXRlOiBudWxsLFxuICBsb29wOiAxLFxuICBkaXJlY3Rpb246ICdub3JtYWwnLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgdGltZWxpbmVPZmZzZXQ6IDBcbn07XG5cbnZhciBkZWZhdWx0VHdlZW5TZXR0aW5ncyA9IHtcbiAgZHVyYXRpb246IDEwMDAsXG4gIGRlbGF5OiAwLFxuICBlbmREZWxheTogMCxcbiAgZWFzaW5nOiAnZWFzZU91dEVsYXN0aWMoMSwgLjUpJyxcbiAgcm91bmQ6IDBcbn07XG5cbnZhciB2YWxpZFRyYW5zZm9ybXMgPSBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICd0cmFuc2xhdGVaJywgJ3JvdGF0ZScsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncm90YXRlWicsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NjYWxlWicsICdza2V3JywgJ3NrZXdYJywgJ3NrZXdZJywgJ3BlcnNwZWN0aXZlJywgJ21hdHJpeCcsICdtYXRyaXgzZCddO1xuXG4vLyBDYWNoaW5nXG5cbnZhciBjYWNoZSA9IHtcbiAgQ1NTOiB7fSxcbiAgc3ByaW5nczoge31cbn07XG5cbi8vIFV0aWxzXG5cbmZ1bmN0aW9uIG1pbk1heCh2YWwsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWwsIG1pbiksIG1heCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ0NvbnRhaW5zKHN0ciwgdGV4dCkge1xuICByZXR1cm4gc3RyLmluZGV4T2YodGV4dCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gYXBwbHlBcmd1bWVudHMoZnVuYywgYXJncykge1xuICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbn1cblxudmFyIGlzID0ge1xuICBhcnI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGEpOyB9LFxuICBvYmo6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBzdHJpbmdDb250YWlucyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSksICdPYmplY3QnKTsgfSxcbiAgcHRoOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMub2JqKGEpICYmIGEuaGFzT3duUHJvcGVydHkoJ3RvdGFsTGVuZ3RoJyk7IH0sXG4gIHN2ZzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50OyB9LFxuICBpbnA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudDsgfSxcbiAgZG9tOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ub2RlVHlwZSB8fCBpcy5zdmcoYSk7IH0sXG4gIHN0cjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnc3RyaW5nJzsgfSxcbiAgZm5jOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7IH0sXG4gIHVuZDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAndW5kZWZpbmVkJzsgfSxcbiAgbmlsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gaXMudW5kKGEpIHx8IGEgPT09IG51bGw7IH0sXG4gIGhleDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaS50ZXN0KGEpOyB9LFxuICByZ2I6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXnJnYi8udGVzdChhKTsgfSxcbiAgaHNsOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15oc2wvLnRlc3QoYSk7IH0sXG4gIGNvbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIChpcy5oZXgoYSkgfHwgaXMucmdiKGEpIHx8IGlzLmhzbChhKSk7IH0sXG4gIGtleTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiAhZGVmYXVsdFR3ZWVuU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgYSAhPT0gJ3RhcmdldHMnICYmIGEgIT09ICdrZXlmcmFtZXMnOyB9LFxufTtcblxuLy8gRWFzaW5nc1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKSB7XG4gIHZhciBtYXRjaCA9IC9cXCgoW14pXSspXFwpLy5leGVjKHN0cmluZyk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwYXJzZUZsb2F0KHApOyB9KSA6IFtdO1xufVxuXG4vLyBTcHJpbmcgc29sdmVyIGluc3BpcmVkIGJ5IFdlYmtpdCBDb3B5cmlnaHQgwqkgMjAxNiBBcHBsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIGh0dHBzOi8vd2Via2l0Lm9yZy9kZW1vcy9zcHJpbmcvc3ByaW5nLmpzXG5cbmZ1bmN0aW9uIHNwcmluZyhzdHJpbmcsIGR1cmF0aW9uKSB7XG5cbiAgdmFyIHBhcmFtcyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpO1xuICB2YXIgbWFzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzBdKSA/IDEgOiBwYXJhbXNbMF0sIC4xLCAxMDApO1xuICB2YXIgc3RpZmZuZXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMV0pID8gMTAwIDogcGFyYW1zWzFdLCAuMSwgMTAwKTtcbiAgdmFyIGRhbXBpbmcgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1syXSkgPyAxMCA6IHBhcmFtc1syXSwgLjEsIDEwMCk7XG4gIHZhciB2ZWxvY2l0eSA9ICBtaW5NYXgoaXMudW5kKHBhcmFtc1szXSkgPyAwIDogcGFyYW1zWzNdLCAuMSwgMTAwKTtcbiAgdmFyIHcwID0gTWF0aC5zcXJ0KHN0aWZmbmVzcyAvIG1hc3MpO1xuICB2YXIgemV0YSA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gIHZhciB3ZCA9IHpldGEgPCAxID8gdzAgKiBNYXRoLnNxcnQoMSAtIHpldGEgKiB6ZXRhKSA6IDA7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSB6ZXRhIDwgMSA/ICh6ZXRhICogdzAgKyAtdmVsb2NpdHkpIC8gd2QgOiAtdmVsb2NpdHkgKyB3MDtcblxuICBmdW5jdGlvbiBzb2x2ZXIodCkge1xuICAgIHZhciBwcm9ncmVzcyA9IGR1cmF0aW9uID8gKGR1cmF0aW9uICogdCkgLyAxMDAwIDogdDtcbiAgICBpZiAoemV0YSA8IDEpIHtcbiAgICAgIHByb2dyZXNzID0gTWF0aC5leHAoLXByb2dyZXNzICogemV0YSAqIHcwKSAqIChhICogTWF0aC5jb3Mod2QgKiBwcm9ncmVzcykgKyBiICogTWF0aC5zaW4od2QgKiBwcm9ncmVzcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcyA9IChhICsgYiAqIHByb2dyZXNzKSAqIE1hdGguZXhwKC1wcm9ncmVzcyAqIHcwKTtcbiAgICB9XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgeyByZXR1cm4gdDsgfVxuICAgIHJldHVybiAxIC0gcHJvZ3Jlc3M7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICB2YXIgY2FjaGVkID0gY2FjaGUuc3ByaW5nc1tzdHJpbmddO1xuICAgIGlmIChjYWNoZWQpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICAgIHZhciBmcmFtZSA9IDEvNjtcbiAgICB2YXIgZWxhcHNlZCA9IDA7XG4gICAgdmFyIHJlc3QgPSAwO1xuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIGVsYXBzZWQgKz0gZnJhbWU7XG4gICAgICBpZiAoc29sdmVyKGVsYXBzZWQpID09PSAxKSB7XG4gICAgICAgIHJlc3QrKztcbiAgICAgICAgaWYgKHJlc3QgPj0gMTYpIHsgYnJlYWs7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3QgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZHVyYXRpb24gPSBlbGFwc2VkICogZnJhbWUgKiAxMDAwO1xuICAgIGNhY2hlLnNwcmluZ3Nbc3RyaW5nXSA9IGR1cmF0aW9uO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiBkdXJhdGlvbiA/IHNvbHZlciA6IGdldER1cmF0aW9uO1xuXG59XG5cbi8vIEJhc2ljIHN0ZXBzIGVhc2luZyBpbXBsZW1lbnRhdGlvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9DU1MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cblxuZnVuY3Rpb24gc3RlcHMoc3RlcHMpIHtcbiAgaWYgKCBzdGVwcyA9PT0gdm9pZCAwICkgc3RlcHMgPSAxMDtcblxuICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGguY2VpbCgobWluTWF4KHQsIDAuMDAwMDAxLCAxKSkgKiBzdGVwcykgKiAoMSAvIHN0ZXBzKTsgfTtcbn1cblxuLy8gQmV6aWVyRWFzaW5nIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZ1xuXG52YXIgYmV6aWVyID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIga1NwbGluZVRhYmxlU2l6ZSA9IDExO1xuICB2YXIga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuXG4gIGZ1bmN0aW9uIEEoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEIoYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIGFBMiAtIDYuMCAqIGFBMSB9XG4gIGZ1bmN0aW9uIEMoYUExKSAgICAgIHsgcmV0dXJuIDMuMCAqIGFBMSB9XG5cbiAgZnVuY3Rpb24gY2FsY0JlemllcihhVCwgYUExLCBhQTIpIHsgcmV0dXJuICgoQShhQTEsIGFBMikgKiBhVCArIEIoYUExLCBhQTIpKSAqIGFUICsgQyhhQTEpKSAqIGFUIH1cbiAgZnVuY3Rpb24gZ2V0U2xvcGUoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBBKGFBMSwgYUEyKSAqIGFUICogYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpIH1cblxuICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQiwgbVgxLCBtWDIpIHtcbiAgICB2YXIgY3VycmVudFgsIGN1cnJlbnRULCBpID0gMDtcbiAgICBkbyB7XG4gICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkgeyBhQiA9IGN1cnJlbnRUOyB9IGVsc2UgeyBhQSA9IGN1cnJlbnRUOyB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gMC4wMDAwMDAxICYmICsraSA8IDEwKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG4gIH1cblxuICBmdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgYUd1ZXNzVCwgbVgxLCBtWDIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkgeyByZXR1cm4gYUd1ZXNzVDsgfVxuICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9XG5cbiAgZnVuY3Rpb24gYmV6aWVyKG1YMSwgbVkxLCBtWDIsIG1ZMikge1xuXG4gICAgaWYgKCEoMCA8PSBtWDEgJiYgbVgxIDw9IDEgJiYgMCA8PSBtWDIgJiYgbVgyIDw9IDEpKSB7IHJldHVybjsgfVxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuXG4gICAgaWYgKG1YMSAhPT0gbVkxIHx8IG1YMiAhPT0gbVkyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtTcGxpbmVUYWJsZVNpemU7ICsraSkge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xuXG4gICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDA7XG4gICAgICB2YXIgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgICB2YXIgbGFzdFNhbXBsZSA9IGtTcGxpbmVUYWJsZVNpemUgLSAxO1xuXG4gICAgICBmb3IgKDsgY3VycmVudFNhbXBsZSAhPT0gbGFzdFNhbXBsZSAmJiBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0gPD0gYVg7ICsrY3VycmVudFNhbXBsZSkge1xuICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIH1cblxuICAgICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICB2YXIgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICB2YXIgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB2YXIgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG5cbiAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gMC4wMDEpIHtcbiAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiaW5hcnlTdWJkaXZpZGUoYVgsIGludGVydmFsU3RhcnQsIGludGVydmFsU3RhcnQgKyBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSB7IHJldHVybiB4OyB9XG4gICAgICBpZiAoeCA9PT0gMCB8fCB4ID09PSAxKSB7IHJldHVybiB4OyB9XG4gICAgICByZXR1cm4gY2FsY0JlemllcihnZXRURm9yWCh4KSwgbVkxLCBtWTIpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIGJlemllcjtcblxufSkoKTtcblxudmFyIHBlbm5lciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgLy8gQmFzZWQgb24galF1ZXJ5IFVJJ3MgaW1wbGVtZW5hdGlvbiBvZiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxuICB2YXIgZWFzZXMgPSB7IGxpbmVhcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07IH0gfTtcblxuICB2YXIgZnVuY3Rpb25FYXNpbmdzID0ge1xuICAgIFNpbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5jb3ModCAqIE1hdGguUEkgLyAyKTsgfTsgfSxcbiAgICBDaXJjOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpOyB9OyB9LFxuICAgIEJhY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ICogdCAqICgzICogdCAtIDIpOyB9OyB9LFxuICAgIEJvdW5jZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHZhciBwb3cyLCBiID0gNDtcbiAgICAgIHdoaWxlICh0IDwgKCggcG93MiA9IE1hdGgucG93KDIsIC0tYikpIC0gMSkgLyAxMSkge31cbiAgICAgIHJldHVybiAxIC8gTWF0aC5wb3coNCwgMyAtIGIpIC0gNy41NjI1ICogTWF0aC5wb3coKCBwb3cyICogMyAtIDIgKSAvIDIyIC0gdCwgMilcbiAgICB9OyB9LFxuICAgIEVsYXN0aWM6IGZ1bmN0aW9uIChhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICAgICAgaWYgKCBhbXBsaXR1ZGUgPT09IHZvaWQgMCApIGFtcGxpdHVkZSA9IDE7XG4gICAgICBpZiAoIHBlcmlvZCA9PT0gdm9pZCAwICkgcGVyaW9kID0gLjU7XG5cbiAgICAgIHZhciBhID0gbWluTWF4KGFtcGxpdHVkZSwgMSwgMTApO1xuICAgICAgdmFyIHAgPSBtaW5NYXgocGVyaW9kLCAuMSwgMik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09PSAwIHx8IHQgPT09IDEpID8gdCA6IFxuICAgICAgICAgIC1hICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSAqIE1hdGguc2luKCgoKHQgLSAxKSAtIChwIC8gKE1hdGguUEkgKiAyKSAqIE1hdGguYXNpbigxIC8gYSkpKSAqIChNYXRoLlBJICogMikpIC8gcCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBiYXNlRWFzaW5ncyA9IFsnUXVhZCcsICdDdWJpYycsICdRdWFydCcsICdRdWludCcsICdFeHBvJ107XG5cbiAgYmFzZUVhc2luZ3MuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaSkge1xuICAgIGZ1bmN0aW9uRWFzaW5nc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLnBvdyh0LCBpICsgMik7IH07IH07XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKGZ1bmN0aW9uRWFzaW5ncykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBlYXNlSW4gPSBmdW5jdGlvbkVhc2luZ3NbbmFtZV07XG4gICAgZWFzZXNbJ2Vhc2VJbicgKyBuYW1lXSA9IGVhc2VJbjtcbiAgICBlYXNlc1snZWFzZU91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIGVhc2VJbihhLCBiKSgxIC0gdCk7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VJbk91dCcgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/IGVhc2VJbihhLCBiKSh0ICogMikgLyAyIDogXG4gICAgICAxIC0gZWFzZUluKGEsIGIpKHQgKiAtMiArIDIpIC8gMjsgfTsgfTtcbiAgICBlYXNlc1snZWFzZU91dEluJyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gKDEgLSBlYXNlSW4oYSwgYikoMSAtIHQgKiAyKSkgLyAyIDogXG4gICAgICAoZWFzZUluKGEsIGIpKHQgKiAyIC0gMSkgKyAxKSAvIDI7IH07IH07XG4gIH0pO1xuXG4gIHJldHVybiBlYXNlcztcblxufSkoKTtcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdzKGVhc2luZywgZHVyYXRpb24pIHtcbiAgaWYgKGlzLmZuYyhlYXNpbmcpKSB7IHJldHVybiBlYXNpbmc7IH1cbiAgdmFyIG5hbWUgPSBlYXNpbmcuc3BsaXQoJygnKVswXTtcbiAgdmFyIGVhc2UgPSBwZW5uZXJbbmFtZV07XG4gIHZhciBhcmdzID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKGVhc2luZyk7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ3NwcmluZycgOiByZXR1cm4gc3ByaW5nKGVhc2luZywgZHVyYXRpb24pO1xuICAgIGNhc2UgJ2N1YmljQmV6aWVyJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhiZXppZXIsIGFyZ3MpO1xuICAgIGNhc2UgJ3N0ZXBzJyA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhzdGVwcywgYXJncyk7XG4gICAgZGVmYXVsdCA6IHJldHVybiBhcHBseUFyZ3VtZW50cyhlYXNlLCBhcmdzKTtcbiAgfVxufVxuXG4vLyBTdHJpbmdzXG5cbmZ1bmN0aW9uIHNlbGVjdFN0cmluZyhzdHIpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHN0cik7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLy8gQXJyYXlzXG5cbmZ1bmN0aW9uIGZpbHRlckFycmF5KGFyciwgY2FsbGJhY2spIHtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIpIHtcbiAgICAgIHZhciB2YWwgPSBhcnJbaV07XG4gICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWwsIGksIGFycikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KGFycikge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoaXMuYXJyKGIpID8gZmxhdHRlbkFycmF5KGIpIDogYik7IH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShvKSB7XG4gIGlmIChpcy5hcnIobykpIHsgcmV0dXJuIG87IH1cbiAgaWYgKGlzLnN0cihvKSkgeyBvID0gc2VsZWN0U3RyaW5nKG8pIHx8IG87IH1cbiAgaWYgKG8gaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBvIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHsgcmV0dXJuIFtdLnNsaWNlLmNhbGwobyk7IH1cbiAgcmV0dXJuIFtvXTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWlucyhhcnIsIHZhbCkge1xuICByZXR1cm4gYXJyLnNvbWUoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgPT09IHZhbDsgfSk7XG59XG5cbi8vIE9iamVjdHNcblxuZnVuY3Rpb24gY2xvbmVPYmplY3Qobykge1xuICB2YXIgY2xvbmUgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBvKSB7IGNsb25lW3BdID0gb1twXTsgfVxuICByZXR1cm4gY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VPYmplY3RQcm9wcyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzEpIHsgb1twXSA9IG8yLmhhc093blByb3BlcnR5KHApID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMikgeyBvW3BdID0gaXMudW5kKG8xW3BdKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbi8vIENvbG9yc1xuXG5mdW5jdGlvbiByZ2JUb1JnYmEocmdiVmFsdWUpIHtcbiAgdmFyIHJnYiA9IC9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhyZ2JWYWx1ZSk7XG4gIHJldHVybiByZ2IgPyAoXCJyZ2JhKFwiICsgKHJnYlsxXSkgKyBcIiwxKVwiKSA6IHJnYlZhbHVlO1xufVxuXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4VmFsdWUpIHtcbiAgdmFyIHJneCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7XG4gIHZhciBoZXggPSBoZXhWYWx1ZS5yZXBsYWNlKHJneCwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHsgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjsgfSApO1xuICB2YXIgcmdiID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIHZhciByID0gcGFyc2VJbnQocmdiWzFdLCAxNik7XG4gIHZhciBnID0gcGFyc2VJbnQocmdiWzJdLCAxNik7XG4gIHZhciBiID0gcGFyc2VJbnQocmdiWzNdLCAxNik7XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLDEpXCIpO1xufVxuXG5mdW5jdGlvbiBoc2xUb1JnYmEoaHNsVmFsdWUpIHtcbiAgdmFyIGhzbCA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGhzbFZhbHVlKSB8fCAvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhoc2xWYWx1ZSk7XG4gIHZhciBoID0gcGFyc2VJbnQoaHNsWzFdLCAxMCkgLyAzNjA7XG4gIHZhciBzID0gcGFyc2VJbnQoaHNsWzJdLCAxMCkgLyAxMDA7XG4gIHZhciBsID0gcGFyc2VJbnQoaHNsWzNdLCAxMCkgLyAxMDA7XG4gIHZhciBhID0gaHNsWzRdIHx8IDE7XG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkgeyB0ICs9IDE7IH1cbiAgICBpZiAodCA+IDEpIHsgdCAtPSAxOyB9XG4gICAgaWYgKHQgPCAxLzYpIHsgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7IH1cbiAgICBpZiAodCA8IDEvMikgeyByZXR1cm4gcTsgfVxuICAgIGlmICh0IDwgMi8zKSB7IHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7IH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICB2YXIgciwgZywgYjtcbiAgaWYgKHMgPT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICB9XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgKHIgKiAyNTUpICsgXCIsXCIgKyAoZyAqIDI1NSkgKyBcIixcIiArIChiICogMjU1KSArIFwiLFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYih2YWwpIHtcbiAgaWYgKGlzLnJnYih2YWwpKSB7IHJldHVybiByZ2JUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaGV4KHZhbCkpIHsgcmV0dXJuIGhleFRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oc2wodmFsKSkgeyByZXR1cm4gaHNsVG9SZ2JhKHZhbCk7IH1cbn1cblxuLy8gVW5pdHNcblxuZnVuY3Rpb24gZ2V0VW5pdCh2YWwpIHtcbiAgdmFyIHNwbGl0ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/KCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWModmFsKTtcbiAgaWYgKHNwbGl0KSB7IHJldHVybiBzcGxpdFsxXTsgfVxufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKSB7XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3RyYW5zbGF0ZScpIHx8IHByb3BOYW1lID09PSAncGVyc3BlY3RpdmUnKSB7IHJldHVybiAncHgnOyB9XG4gIGlmIChzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3JvdGF0ZScpIHx8IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2tldycpKSB7IHJldHVybiAnZGVnJzsgfVxufVxuXG4vLyBWYWx1ZXNcblxuZnVuY3Rpb24gZ2V0RnVuY3Rpb25WYWx1ZSh2YWwsIGFuaW1hdGFibGUpIHtcbiAgaWYgKCFpcy5mbmModmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHJldHVybiB2YWwoYW5pbWF0YWJsZS50YXJnZXQsIGFuaW1hdGFibGUuaWQsIGFuaW1hdGFibGUudG90YWwpO1xufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZWwsIHByb3ApIHtcbiAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShwcm9wKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkge1xuICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gIGlmIChhcnJheUNvbnRhaW5zKFt1bml0LCAnZGVnJywgJ3JhZCcsICd0dXJuJ10sIHZhbHVlVW5pdCkpIHsgcmV0dXJuIHZhbHVlOyB9XG4gIHZhciBjYWNoZWQgPSBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XTtcbiAgaWYgKCFpcy51bmQoY2FjaGVkKSkgeyByZXR1cm4gY2FjaGVkOyB9XG4gIHZhciBiYXNlbGluZSA9IDEwMDtcbiAgdmFyIHRlbXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwudGFnTmFtZSk7XG4gIHZhciBwYXJlbnRFbCA9IChlbC5wYXJlbnROb2RlICYmIChlbC5wYXJlbnROb2RlICE9PSBkb2N1bWVudCkpID8gZWwucGFyZW50Tm9kZSA6IGRvY3VtZW50LmJvZHk7XG4gIHBhcmVudEVsLmFwcGVuZENoaWxkKHRlbXBFbCk7XG4gIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHRlbXBFbC5zdHlsZS53aWR0aCA9IGJhc2VsaW5lICsgdW5pdDtcbiAgdmFyIGZhY3RvciA9IGJhc2VsaW5lIC8gdGVtcEVsLm9mZnNldFdpZHRoO1xuICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRWwpO1xuICB2YXIgY29udmVydGVkVW5pdCA9IGZhY3RvciAqIHBhcnNlRmxvYXQodmFsdWUpO1xuICBjYWNoZS5DU1NbdmFsdWUgKyB1bml0XSA9IGNvbnZlcnRlZFVuaXQ7XG4gIHJldHVybiBjb252ZXJ0ZWRVbml0O1xufVxuXG5mdW5jdGlvbiBnZXRDU1NWYWx1ZShlbCwgcHJvcCwgdW5pdCkge1xuICBpZiAocHJvcCBpbiBlbC5zdHlsZSkge1xuICAgIHZhciB1cHBlcmNhc2VQcm9wTmFtZSA9IHByb3AucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdmFsdWUgPSBlbC5zdHlsZVtwcm9wXSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHVwcGVyY2FzZVByb3BOYW1lKSB8fCAnMCc7XG4gICAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvblR5cGUoZWwsIHByb3ApIHtcbiAgaWYgKGlzLmRvbShlbCkgJiYgIWlzLmlucChlbCkgJiYgKCFpcy5uaWwoZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSkgfHwgKGlzLnN2ZyhlbCkgJiYgZWxbcHJvcF0pKSkgeyByZXR1cm4gJ2F0dHJpYnV0ZSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgYXJyYXlDb250YWlucyh2YWxpZFRyYW5zZm9ybXMsIHByb3ApKSB7IHJldHVybiAndHJhbnNmb3JtJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiAocHJvcCAhPT0gJ3RyYW5zZm9ybScgJiYgZ2V0Q1NTVmFsdWUoZWwsIHByb3ApKSkgeyByZXR1cm4gJ2Nzcyc7IH1cbiAgaWYgKGVsW3Byb3BdICE9IG51bGwpIHsgcmV0dXJuICdvYmplY3QnOyB9XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKSB7XG4gIGlmICghaXMuZG9tKGVsKSkgeyByZXR1cm47IH1cbiAgdmFyIHN0ciA9IGVsLnN0eWxlLnRyYW5zZm9ybSB8fCAnJztcbiAgdmFyIHJlZyAgPSAvKFxcdyspXFwoKFteKV0qKVxcKS9nO1xuICB2YXIgdHJhbnNmb3JtcyA9IG5ldyBNYXAoKTtcbiAgdmFyIG07IHdoaWxlIChtID0gcmVnLmV4ZWMoc3RyKSkgeyB0cmFuc2Zvcm1zLnNldChtWzFdLCBtWzJdKTsgfVxuICByZXR1cm4gdHJhbnNmb3Jtcztcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUoZWwsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KSB7XG4gIHZhciBkZWZhdWx0VmFsID0gc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdzY2FsZScpID8gMSA6IDAgKyBnZXRUcmFuc2Zvcm1Vbml0KHByb3BOYW1lKTtcbiAgdmFyIHZhbHVlID0gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpLmdldChwcm9wTmFtZSkgfHwgZGVmYXVsdFZhbDtcbiAgaWYgKGFuaW1hdGFibGUpIHtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXMubGlzdC5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICBhbmltYXRhYmxlLnRyYW5zZm9ybXNbJ2xhc3QnXSA9IHByb3BOYW1lO1xuICB9XG4gIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0LCBhbmltYXRhYmxlKSB7XG4gIHN3aXRjaCAoZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BOYW1lKSkge1xuICAgIGNhc2UgJ3RyYW5zZm9ybSc6IHJldHVybiBnZXRUcmFuc2Zvcm1WYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCBhbmltYXRhYmxlLCB1bml0KTtcbiAgICBjYXNlICdjc3MnOiByZXR1cm4gZ2V0Q1NTVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCk7XG4gICAgY2FzZSAnYXR0cmlidXRlJzogcmV0dXJuIGdldEF0dHJpYnV0ZSh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gdGFyZ2V0W3Byb3BOYW1lXSB8fCAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pIHtcbiAgdmFyIG9wZXJhdG9yID0gL14oXFwqPXxcXCs9fC09KS8uZXhlYyh0byk7XG4gIGlmICghb3BlcmF0b3IpIHsgcmV0dXJuIHRvOyB9XG4gIHZhciB1ID0gZ2V0VW5pdCh0bykgfHwgMDtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KGZyb20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQodG8ucmVwbGFjZShvcGVyYXRvclswXSwgJycpKTtcbiAgc3dpdGNoIChvcGVyYXRvclswXVswXSkge1xuICAgIGNhc2UgJysnOiByZXR1cm4geCArIHkgKyB1O1xuICAgIGNhc2UgJy0nOiByZXR1cm4geCAtIHkgKyB1O1xuICAgIGNhc2UgJyonOiByZXR1cm4geCAqIHkgKyB1O1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsLCB1bml0KSB7XG4gIGlmIChpcy5jb2wodmFsKSkgeyByZXR1cm4gY29sb3JUb1JnYih2YWwpOyB9XG4gIGlmICgvXFxzL2cudGVzdCh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgdmFyIG9yaWdpbmFsVW5pdCA9IGdldFVuaXQodmFsKTtcbiAgdmFyIHVuaXRMZXNzID0gb3JpZ2luYWxVbml0ID8gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gb3JpZ2luYWxVbml0Lmxlbmd0aCkgOiB2YWw7XG4gIGlmICh1bml0KSB7IHJldHVybiB1bml0TGVzcyArIHVuaXQ7IH1cbiAgcmV0dXJuIHVuaXRMZXNzO1xufVxuXG4vLyBnZXRUb3RhbExlbmd0aCgpIGVxdWl2YWxlbnQgZm9yIGNpcmNsZSwgcmVjdCwgcG9seWxpbmUsIHBvbHlnb24gYW5kIGxpbmUgc2hhcGVzXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vU2ViTGFtYmxhLzNlMDU1MGM0OTZjMjM2NzA5NzQ0XG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSk7XG59XG5cbmZ1bmN0aW9uIGdldENpcmNsZUxlbmd0aChlbCkge1xuICByZXR1cm4gTWF0aC5QSSAqIDIgKiBnZXRBdHRyaWJ1dGUoZWwsICdyJyk7XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIChnZXRBdHRyaWJ1dGUoZWwsICd3aWR0aCcpICogMikgKyAoZ2V0QXR0cmlidXRlKGVsLCAnaGVpZ2h0JykgKiAyKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGluZUxlbmd0aChlbCkge1xuICByZXR1cm4gZ2V0RGlzdGFuY2UoXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gxJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kxJyl9LCBcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDInKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTInKX1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWxpbmVMZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgdmFyIHRvdGFsTGVuZ3RoID0gMDtcbiAgdmFyIHByZXZpb3VzUG9zO1xuICBmb3IgKHZhciBpID0gMCA7IGkgPCBwb2ludHMubnVtYmVyT2ZJdGVtczsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnRQb3MgPSBwb2ludHMuZ2V0SXRlbShpKTtcbiAgICBpZiAoaSA+IDApIHsgdG90YWxMZW5ndGggKz0gZ2V0RGlzdGFuY2UocHJldmlvdXNQb3MsIGN1cnJlbnRQb3MpOyB9XG4gICAgcHJldmlvdXNQb3MgPSBjdXJyZW50UG9zO1xuICB9XG4gIHJldHVybiB0b3RhbExlbmd0aDtcbn1cblxuZnVuY3Rpb24gZ2V0UG9seWdvbkxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpICsgZ2V0RGlzdGFuY2UocG9pbnRzLmdldEl0ZW0ocG9pbnRzLm51bWJlck9mSXRlbXMgLSAxKSwgcG9pbnRzLmdldEl0ZW0oMCkpO1xufVxuXG4vLyBQYXRoIGFuaW1hdGlvblxuXG5mdW5jdGlvbiBnZXRUb3RhbExlbmd0aChlbCkge1xuICBpZiAoZWwuZ2V0VG90YWxMZW5ndGgpIHsgcmV0dXJuIGVsLmdldFRvdGFsTGVuZ3RoKCk7IH1cbiAgc3dpdGNoKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2NpcmNsZSc6IHJldHVybiBnZXRDaXJjbGVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3JlY3QnOiByZXR1cm4gZ2V0UmVjdExlbmd0aChlbCk7XG4gICAgY2FzZSAnbGluZSc6IHJldHVybiBnZXRMaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5bGluZSc6IHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWdvbic6IHJldHVybiBnZXRQb2x5Z29uTGVuZ3RoKGVsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXREYXNob2Zmc2V0KGVsKSB7XG4gIHZhciBwYXRoTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGgoZWwpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCBwYXRoTGVuZ3RoKTtcbiAgcmV0dXJuIHBhdGhMZW5ndGg7XG59XG5cbi8vIE1vdGlvbiBwYXRoXG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2Z0VsKGVsKSB7XG4gIHZhciBwYXJlbnRFbCA9IGVsLnBhcmVudE5vZGU7XG4gIHdoaWxlIChpcy5zdmcocGFyZW50RWwpKSB7XG4gICAgaWYgKCFpcy5zdmcocGFyZW50RWwucGFyZW50Tm9kZSkpIHsgYnJlYWs7IH1cbiAgICBwYXJlbnRFbCA9IHBhcmVudEVsLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIHBhcmVudEVsO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmcocGF0aEVsLCBzdmdEYXRhKSB7XG4gIHZhciBzdmcgPSBzdmdEYXRhIHx8IHt9O1xuICB2YXIgcGFyZW50U3ZnRWwgPSBzdmcuZWwgfHwgZ2V0UGFyZW50U3ZnRWwocGF0aEVsKTtcbiAgdmFyIHJlY3QgPSBwYXJlbnRTdmdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHZpZXdCb3hBdHRyID0gZ2V0QXR0cmlidXRlKHBhcmVudFN2Z0VsLCAndmlld0JveCcpO1xuICB2YXIgd2lkdGggPSByZWN0LndpZHRoO1xuICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gIHZhciB2aWV3Qm94ID0gc3ZnLnZpZXdCb3ggfHwgKHZpZXdCb3hBdHRyID8gdmlld0JveEF0dHIuc3BsaXQoJyAnKSA6IFswLCAwLCB3aWR0aCwgaGVpZ2h0XSk7XG4gIHJldHVybiB7XG4gICAgZWw6IHBhcmVudFN2Z0VsLFxuICAgIHZpZXdCb3g6IHZpZXdCb3gsXG4gICAgeDogdmlld0JveFswXSAvIDEsXG4gICAgeTogdmlld0JveFsxXSAvIDEsXG4gICAgdzogd2lkdGgsXG4gICAgaDogaGVpZ2h0LFxuICAgIHZXOiB2aWV3Qm94WzJdLFxuICAgIHZIOiB2aWV3Qm94WzNdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aChwYXRoLCBwZXJjZW50KSB7XG4gIHZhciBwYXRoRWwgPSBpcy5zdHIocGF0aCkgPyBzZWxlY3RTdHJpbmcocGF0aClbMF0gOiBwYXRoO1xuICB2YXIgcCA9IHBlcmNlbnQgfHwgMTAwO1xuICByZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgZWw6IHBhdGhFbCxcbiAgICAgIHN2ZzogZ2V0UGFyZW50U3ZnKHBhdGhFbCksXG4gICAgICB0b3RhbExlbmd0aDogZ2V0VG90YWxMZW5ndGgocGF0aEVsKSAqIChwIC8gMTAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoUHJvZ3Jlc3MocGF0aCwgcHJvZ3Jlc3MsIGlzUGF0aFRhcmdldEluc2lkZVNWRykge1xuICBmdW5jdGlvbiBwb2ludChvZmZzZXQpIHtcbiAgICBpZiAoIG9mZnNldCA9PT0gdm9pZCAwICkgb2Zmc2V0ID0gMDtcblxuICAgIHZhciBsID0gcHJvZ3Jlc3MgKyBvZmZzZXQgPj0gMSA/IHByb2dyZXNzICsgb2Zmc2V0IDogMDtcbiAgICByZXR1cm4gcGF0aC5lbC5nZXRQb2ludEF0TGVuZ3RoKGwpO1xuICB9XG4gIHZhciBzdmcgPSBnZXRQYXJlbnRTdmcocGF0aC5lbCwgcGF0aC5zdmcpO1xuICB2YXIgcCA9IHBvaW50KCk7XG4gIHZhciBwMCA9IHBvaW50KC0xKTtcbiAgdmFyIHAxID0gcG9pbnQoKzEpO1xuICB2YXIgc2NhbGVYID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy53IC8gc3ZnLnZXO1xuICB2YXIgc2NhbGVZID0gaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID8gMSA6IHN2Zy5oIC8gc3ZnLnZIO1xuICBzd2l0Y2ggKHBhdGgucHJvcGVydHkpIHtcbiAgICBjYXNlICd4JzogcmV0dXJuIChwLnggLSBzdmcueCkgKiBzY2FsZVg7XG4gICAgY2FzZSAneSc6IHJldHVybiAocC55IC0gc3ZnLnkpICogc2NhbGVZO1xuICAgIGNhc2UgJ2FuZ2xlJzogcmV0dXJuIE1hdGguYXRhbjIocDEueSAtIHAwLnksIHAxLnggLSBwMC54KSAqIDE4MCAvIE1hdGguUEk7XG4gIH1cbn1cblxuLy8gRGVjb21wb3NlIHZhbHVlXG5cbmZ1bmN0aW9uIGRlY29tcG9zZVZhbHVlKHZhbCwgdW5pdCkge1xuICAvLyBjb25zdCByZ3ggPSAvLT9cXGQqXFwuP1xcZCsvZzsgLy8gaGFuZGxlcyBiYXNpYyBudW1iZXJzXG4gIC8vIGNvbnN0IHJneCA9IC9bKy1dP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHJneCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgdmFsdWUgPSB2YWxpZGF0ZVZhbHVlKChpcy5wdGgodmFsKSA/IHZhbC50b3RhbExlbmd0aCA6IHZhbCksIHVuaXQpICsgJyc7XG4gIHJldHVybiB7XG4gICAgb3JpZ2luYWw6IHZhbHVlLFxuICAgIG51bWJlcnM6IHZhbHVlLm1hdGNoKHJneCkgPyB2YWx1ZS5tYXRjaChyZ3gpLm1hcChOdW1iZXIpIDogWzBdLFxuICAgIHN0cmluZ3M6IChpcy5zdHIodmFsKSB8fCB1bml0KSA/IHZhbHVlLnNwbGl0KHJneCkgOiBbXVxuICB9XG59XG5cbi8vIEFuaW1hdGFibGVzXG5cbmZ1bmN0aW9uIHBhcnNlVGFyZ2V0cyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSB0YXJnZXRzID8gKGZsYXR0ZW5BcnJheShpcy5hcnIodGFyZ2V0cykgPyB0YXJnZXRzLm1hcCh0b0FycmF5KSA6IHRvQXJyYXkodGFyZ2V0cykpKSA6IFtdO1xuICByZXR1cm4gZmlsdGVyQXJyYXkodGFyZ2V0c0FycmF5LCBmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7IHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT09IHBvczsgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVzKHRhcmdldHMpIHtcbiAgdmFyIHBhcnNlZCA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgcmV0dXJuIHBhcnNlZC5tYXAoZnVuY3Rpb24gKHQsIGkpIHtcbiAgICByZXR1cm4ge3RhcmdldDogdCwgaWQ6IGksIHRvdGFsOiBwYXJzZWQubGVuZ3RoLCB0cmFuc2Zvcm1zOiB7IGxpc3Q6IGdldEVsZW1lbnRUcmFuc2Zvcm1zKHQpIH0gfTtcbiAgfSk7XG59XG5cbi8vIFByb3BlcnRpZXNcblxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocHJvcCwgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgc2V0dGluZ3MgPSBjbG9uZU9iamVjdCh0d2VlblNldHRpbmdzKTtcbiAgLy8gT3ZlcnJpZGUgZHVyYXRpb24gaWYgZWFzaW5nIGlzIGEgc3ByaW5nXG4gIGlmICgvXnNwcmluZy8udGVzdChzZXR0aW5ncy5lYXNpbmcpKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gc3ByaW5nKHNldHRpbmdzLmVhc2luZyk7IH1cbiAgaWYgKGlzLmFycihwcm9wKSkge1xuICAgIHZhciBsID0gcHJvcC5sZW5ndGg7XG4gICAgdmFyIGlzRnJvbVRvID0gKGwgPT09IDIgJiYgIWlzLm9iaihwcm9wWzBdKSk7XG4gICAgaWYgKCFpc0Zyb21Ubykge1xuICAgICAgLy8gRHVyYXRpb24gZGl2aWRlZCBieSB0aGUgbnVtYmVyIG9mIHR3ZWVuc1xuICAgICAgaWYgKCFpcy5mbmModHdlZW5TZXR0aW5ncy5kdXJhdGlvbikpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSB0d2VlblNldHRpbmdzLmR1cmF0aW9uIC8gbDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcmFuc2Zvcm0gW2Zyb20sIHRvXSB2YWx1ZXMgc2hvcnRoYW5kIHRvIGEgdmFsaWQgdHdlZW4gdmFsdWVcbiAgICAgIHByb3AgPSB7dmFsdWU6IHByb3B9O1xuICAgIH1cbiAgfVxuICB2YXIgcHJvcEFycmF5ID0gaXMuYXJyKHByb3ApID8gcHJvcCA6IFtwcm9wXTtcbiAgcmV0dXJuIHByb3BBcnJheS5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgb2JqID0gKGlzLm9iaih2KSAmJiAhaXMucHRoKHYpKSA/IHYgOiB7dmFsdWU6IHZ9O1xuICAgIC8vIERlZmF1bHQgZGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgZmlyc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5kZWxheSkpIHsgb2JqLmRlbGF5ID0gIWkgPyB0d2VlblNldHRpbmdzLmRlbGF5IDogMDsgfVxuICAgIC8vIERlZmF1bHQgZW5kRGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgbGFzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmVuZERlbGF5KSkgeyBvYmouZW5kRGVsYXkgPSBpID09PSBwcm9wQXJyYXkubGVuZ3RoIC0gMSA/IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXkgOiAwOyB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSkubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBtZXJnZU9iamVjdHMoaywgc2V0dGluZ3MpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICB2YXIgcHJvcGVydHlOYW1lcyA9IGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIE9iamVjdC5rZXlzKGtleSk7IH0pKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIGlzLmtleShwKTsgfSlcbiAgLnJlZHVjZShmdW5jdGlvbiAoYSxiKSB7IGlmIChhLmluZGV4T2YoYikgPCAwKSB7IGEucHVzaChiKTsgfSByZXR1cm4gYTsgfSwgW10pO1xuICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgIHByb3BlcnRpZXNbcHJvcE5hbWVdID0ga2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbmV3S2V5ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGtleSkge1xuICAgICAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICAgICAgaWYgKHAgPT0gcHJvcE5hbWUpIHsgbmV3S2V5LnZhbHVlID0ga2V5W3BdOyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3S2V5W3BdID0ga2V5W3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykgbG9vcCggaSApO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgdmFyIGtleWZyYW1lcyA9IHBhcmFtcy5rZXlmcmFtZXM7XG4gIGlmIChrZXlmcmFtZXMpIHsgcGFyYW1zID0gbWVyZ2VPYmplY3RzKGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSwgcGFyYW1zKTsgfVxuICBmb3IgKHZhciBwIGluIHBhcmFtcykge1xuICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgIHByb3BlcnRpZXMucHVzaCh7XG4gICAgICAgIG5hbWU6IHAsXG4gICAgICAgIHR3ZWVuczogbm9ybWFsaXplUHJvcGVydHlUd2VlbnMocGFyYW1zW3BdLCB0d2VlblNldHRpbmdzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG4vLyBUd2VlbnNcblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5WYWx1ZXModHdlZW4sIGFuaW1hdGFibGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiB0d2Vlbikge1xuICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUodHdlZW5bcF0sIGFuaW1hdGFibGUpO1xuICAgIGlmIChpcy5hcnIodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZ2V0RnVuY3Rpb25WYWx1ZSh2LCBhbmltYXRhYmxlKTsgfSk7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7IHZhbHVlID0gdmFsdWVbMF07IH1cbiAgICB9XG4gICAgdFtwXSA9IHZhbHVlO1xuICB9XG4gIHQuZHVyYXRpb24gPSBwYXJzZUZsb2F0KHQuZHVyYXRpb24pO1xuICB0LmRlbGF5ID0gcGFyc2VGbG9hdCh0LmRlbGF5KTtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKSB7XG4gIHZhciBwcmV2aW91c1R3ZWVuO1xuICByZXR1cm4gcHJvcC50d2VlbnMubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIHR3ZWVuID0gbm9ybWFsaXplVHdlZW5WYWx1ZXModCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHR3ZWVuVmFsdWUgPSB0d2Vlbi52YWx1ZTtcbiAgICB2YXIgdG8gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzFdIDogdHdlZW5WYWx1ZTtcbiAgICB2YXIgdG9Vbml0ID0gZ2V0VW5pdCh0byk7XG4gICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUsIHRvVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi50by5vcmlnaW5hbCA6IG9yaWdpbmFsVmFsdWU7XG4gICAgdmFyIGZyb20gPSBpcy5hcnIodHdlZW5WYWx1ZSkgPyB0d2VlblZhbHVlWzBdIDogcHJldmlvdXNWYWx1ZTtcbiAgICB2YXIgZnJvbVVuaXQgPSBnZXRVbml0KGZyb20pIHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgdmFyIHVuaXQgPSB0b1VuaXQgfHwgZnJvbVVuaXQ7XG4gICAgaWYgKGlzLnVuZCh0bykpIHsgdG8gPSBwcmV2aW91c1ZhbHVlOyB9XG4gICAgdHdlZW4uZnJvbSA9IGRlY29tcG9zZVZhbHVlKGZyb20sIHVuaXQpO1xuICAgIHR3ZWVuLnRvID0gZGVjb21wb3NlVmFsdWUoZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSksIHVuaXQpO1xuICAgIHR3ZWVuLnN0YXJ0ID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4uZW5kIDogMDtcbiAgICB0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydCArIHR3ZWVuLmRlbGF5ICsgdHdlZW4uZHVyYXRpb24gKyB0d2Vlbi5lbmREZWxheTtcbiAgICB0d2Vlbi5lYXNpbmcgPSBwYXJzZUVhc2luZ3ModHdlZW4uZWFzaW5nLCB0d2Vlbi5kdXJhdGlvbik7XG4gICAgdHdlZW4uaXNQYXRoID0gaXMucHRoKHR3ZWVuVmFsdWUpO1xuICAgIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyA9IHR3ZWVuLmlzUGF0aCAmJiBpcy5zdmcoYW5pbWF0YWJsZS50YXJnZXQpO1xuICAgIHR3ZWVuLmlzQ29sb3IgPSBpcy5jb2wodHdlZW4uZnJvbS5vcmlnaW5hbCk7XG4gICAgaWYgKHR3ZWVuLmlzQ29sb3IpIHsgdHdlZW4ucm91bmQgPSAxOyB9XG4gICAgcHJldmlvdXNUd2VlbiA9IHR3ZWVuO1xuICAgIHJldHVybiB0d2VlbjtcbiAgfSk7XG59XG5cbi8vIFR3ZWVuIHByb2dyZXNzXG5cbnZhciBzZXRQcm9ncmVzc1ZhbHVlID0ge1xuICBjc3M6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnN0eWxlW3BdID0gdjsgfSxcbiAgYXR0cmlidXRlOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zZXRBdHRyaWJ1dGUocCwgdik7IH0sXG4gIG9iamVjdDogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHRbcF0gPSB2OyB9LFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uICh0LCBwLCB2LCB0cmFuc2Zvcm1zLCBtYW51YWwpIHtcbiAgICB0cmFuc2Zvcm1zLmxpc3Quc2V0KHAsIHYpO1xuICAgIGlmIChwID09PSB0cmFuc2Zvcm1zLmxhc3QgfHwgbWFudWFsKSB7XG4gICAgICB2YXIgc3RyID0gJyc7XG4gICAgICB0cmFuc2Zvcm1zLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIHByb3ApIHsgc3RyICs9IHByb3AgKyBcIihcIiArIHZhbHVlICsgXCIpIFwiOyB9KTtcbiAgICAgIHQuc3R5bGUudHJhbnNmb3JtID0gc3RyO1xuICAgIH1cbiAgfVxufTtcblxuLy8gU2V0IFZhbHVlIGhlbHBlclxuXG5mdW5jdGlvbiBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcykge1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKTtcbiAgYW5pbWF0YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUocHJvcGVydGllc1twcm9wZXJ0eV0sIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHRhcmdldCA9IGFuaW1hdGFibGUudGFyZ2V0O1xuICAgICAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlVW5pdCwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdW5pdCA9IHZhbHVlVW5pdCB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIHRvID0gZ2V0UmVsYXRpdmVWYWx1ZSh2YWxpZGF0ZVZhbHVlKHZhbHVlLCB1bml0KSwgb3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltVHlwZV0odGFyZ2V0LCBwcm9wZXJ0eSwgdG8sIGFuaW1hdGFibGUudHJhbnNmb3JtcywgdHJ1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gQW5pbWF0aW9uc1xuXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCkge1xuICB2YXIgYW5pbVR5cGUgPSBnZXRBbmltYXRpb25UeXBlKGFuaW1hdGFibGUudGFyZ2V0LCBwcm9wLm5hbWUpO1xuICBpZiAoYW5pbVR5cGUpIHtcbiAgICB2YXIgdHdlZW5zID0gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpO1xuICAgIHZhciBsYXN0VHdlZW4gPSB0d2VlbnNbdHdlZW5zLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhbmltVHlwZSxcbiAgICAgIHByb3BlcnR5OiBwcm9wLm5hbWUsXG4gICAgICBhbmltYXRhYmxlOiBhbmltYXRhYmxlLFxuICAgICAgdHdlZW5zOiB0d2VlbnMsXG4gICAgICBkdXJhdGlvbjogbGFzdFR3ZWVuLmVuZCxcbiAgICAgIGRlbGF5OiB0d2VlbnNbMF0uZGVsYXksXG4gICAgICBlbmREZWxheTogbGFzdFR3ZWVuLmVuZERlbGF5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShhbmltYXRhYmxlcy5tYXAoZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICByZXR1cm4gcHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIHJldHVybiBjcmVhdGVBbmltYXRpb24oYW5pbWF0YWJsZSwgcHJvcCk7XG4gICAgfSk7XG4gIH0pKSwgZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFpcy51bmQoYSk7IH0pO1xufVxuXG4vLyBDcmVhdGUgSW5zdGFuY2VcblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIGFuaW1MZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgdmFyIGdldFRsT2Zmc2V0ID0gZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGFuaW0udGltZWxpbmVPZmZzZXQgPyBhbmltLnRpbWVsaW5lT2Zmc2V0IDogMDsgfTtcbiAgdmFyIHRpbWluZ3MgPSB7fTtcbiAgdGltaW5ncy5kdXJhdGlvbiA9IGFuaW1MZW5ndGggPyBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uOyB9KSkgOiB0d2VlblNldHRpbmdzLmR1cmF0aW9uO1xuICB0aW1pbmdzLmRlbGF5ID0gYW5pbUxlbmd0aCA/IE1hdGgubWluLmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZGVsYXk7XG4gIHRpbWluZ3MuZW5kRGVsYXkgPSBhbmltTGVuZ3RoID8gdGltaW5ncy5kdXJhdGlvbiAtIE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb24gLSBhbmltLmVuZERlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmVuZERlbGF5O1xuICByZXR1cm4gdGltaW5ncztcbn1cblxudmFyIGluc3RhbmNlSUQgPSAwO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpIHtcbiAgdmFyIGluc3RhbmNlU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciB0d2VlblNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgcHJvcGVydGllcyA9IGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXMocGFyYW1zLnRhcmdldHMpO1xuICB2YXIgYW5pbWF0aW9ucyA9IGdldEFuaW1hdGlvbnMoYW5pbWF0YWJsZXMsIHByb3BlcnRpZXMpO1xuICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKTtcbiAgdmFyIGlkID0gaW5zdGFuY2VJRDtcbiAgaW5zdGFuY2VJRCsrO1xuICByZXR1cm4gbWVyZ2VPYmplY3RzKGluc3RhbmNlU2V0dGluZ3MsIHtcbiAgICBpZDogaWQsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGFuaW1hdGFibGVzOiBhbmltYXRhYmxlcyxcbiAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgIGR1cmF0aW9uOiB0aW1pbmdzLmR1cmF0aW9uLFxuICAgIGRlbGF5OiB0aW1pbmdzLmRlbGF5LFxuICAgIGVuZERlbGF5OiB0aW1pbmdzLmVuZERlbGF5XG4gIH0pO1xufVxuXG4vLyBDb3JlXG5cbnZhciBhY3RpdmVJbnN0YW5jZXMgPSBbXTtcblxudmFyIGVuZ2luZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciByYWY7XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoIXJhZiAmJiAoIWlzRG9jdW1lbnRIaWRkZW4oKSB8fCAhYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgJiYgYWN0aXZlSW5zdGFuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RlcCh0KSB7XG4gICAgLy8gbWVtbyBvbiBhbGdvcml0aG0gaXNzdWU6XG4gICAgLy8gZGFuZ2Vyb3VzIGl0ZXJhdGlvbiBvdmVyIG11dGFibGUgYGFjdGl2ZUluc3RhbmNlc2BcbiAgICAvLyAodGhhdCBjb2xsZWN0aW9uIG1heSBiZSB1cGRhdGVkIGZyb20gd2l0aGluIGNhbGxiYWNrcyBvZiBgdGlja2AtZWQgYW5pbWF0aW9uIGluc3RhbmNlcylcbiAgICB2YXIgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhY3RpdmVJbnN0YW5jZXNMZW5ndGgpIHtcbiAgICAgIHZhciBhY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICAgIGlmICghYWN0aXZlSW5zdGFuY2UucGF1c2VkKSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlLnRpY2sodCk7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGFjdGl2ZUluc3RhbmNlc0xlbmd0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICByYWYgPSBpID4gMCA/IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgaWYgKCFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGlzRG9jdW1lbnRIaWRkZW4oKSkge1xuICAgICAgLy8gc3VzcGVuZCB0aWNrc1xuICAgICAgcmFmID0gY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICB9IGVsc2UgeyAvLyBpcyBiYWNrIHRvIGFjdGl2ZSB0YWJcbiAgICAgIC8vIGZpcnN0IGFkanVzdCBhbmltYXRpb25zIHRvIGNvbnNpZGVyIHRoZSB0aW1lIHRoYXQgdGlja3Mgd2VyZSBzdXNwZW5kZWRcbiAgICAgIGFjdGl2ZUluc3RhbmNlcy5mb3JFYWNoKFxuICAgICAgICBmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlIC5fb25Eb2N1bWVudFZpc2liaWxpdHkoKTsgfVxuICAgICAgKTtcbiAgICAgIGVuZ2luZSgpO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfVxuXG4gIHJldHVybiBwbGF5O1xufSkoKTtcblxuZnVuY3Rpb24gaXNEb2N1bWVudEhpZGRlbigpIHtcbiAgcmV0dXJuICEhZG9jdW1lbnQgJiYgZG9jdW1lbnQuaGlkZGVuO1xufVxuXG4vLyBQdWJsaWMgSW5zdGFuY2VcblxuZnVuY3Rpb24gYW5pbWUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuXG4gIHZhciBzdGFydFRpbWUgPSAwLCBsYXN0VGltZSA9IDAsIG5vdyA9IDA7XG4gIHZhciBjaGlsZHJlbiwgY2hpbGRyZW5MZW5ndGggPSAwO1xuICB2YXIgcmVzb2x2ZSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbWFrZVByb21pc2UoaW5zdGFuY2UpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlICYmIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChfcmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZSA9IF9yZXNvbHZlOyB9KTtcbiAgICBpbnN0YW5jZS5maW5pc2hlZCA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpO1xuICB2YXIgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcblxuICBmdW5jdGlvbiB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGlmIChkaXJlY3Rpb24gIT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICBpbnN0YW5jZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gIT09ICdub3JtYWwnID8gJ25vcm1hbCcgOiAncmV2ZXJzZSc7XG4gICAgfVxuICAgIGluc3RhbmNlLnJldmVyc2VkID0gIWluc3RhbmNlLnJldmVyc2VkO1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC5yZXZlcnNlZCA9IGluc3RhbmNlLnJldmVyc2VkOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdFRpbWUodGltZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIC0gdGltZSA6IHRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWUoKSB7XG4gICAgc3RhcnRUaW1lID0gMDtcbiAgICBsYXN0VGltZSA9IGFkanVzdFRpbWUoaW5zdGFuY2UuY3VycmVudFRpbWUpICogKDEgLyBhbmltZS5zcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWVrQ2hpbGQodGltZSwgY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHsgY2hpbGQuc2Vlayh0aW1lIC0gY2hpbGQudGltZWxpbmVPZmZzZXQpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jSW5zdGFuY2VDaGlsZHJlbih0aW1lKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baV0pOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IGNoaWxkcmVuTGVuZ3RoOyBpJDEtLTspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2kkMV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICAgIHZhciBhbmltYXRpb25zTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPCBhbmltYXRpb25zTGVuZ3RoKSB7XG4gICAgICB2YXIgYW5pbSA9IGFuaW1hdGlvbnNbaV07XG4gICAgICB2YXIgYW5pbWF0YWJsZSA9IGFuaW0uYW5pbWF0YWJsZTtcbiAgICAgIHZhciB0d2VlbnMgPSBhbmltLnR3ZWVucztcbiAgICAgIHZhciB0d2Vlbkxlbmd0aCA9IHR3ZWVucy5sZW5ndGggLSAxO1xuICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3R3ZWVuTGVuZ3RoXTtcbiAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGtleWZyYW1lcyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHR3ZWVuXG4gICAgICBpZiAodHdlZW5MZW5ndGgpIHsgdHdlZW4gPSBmaWx0ZXJBcnJheSh0d2VlbnMsIGZ1bmN0aW9uICh0KSB7IHJldHVybiAoaW5zVGltZSA8IHQuZW5kKTsgfSlbMF0gfHwgdHdlZW47IH1cbiAgICAgIHZhciBlbGFwc2VkID0gbWluTWF4KGluc1RpbWUgLSB0d2Vlbi5zdGFydCAtIHR3ZWVuLmRlbGF5LCAwLCB0d2Vlbi5kdXJhdGlvbikgLyB0d2Vlbi5kdXJhdGlvbjtcbiAgICAgIHZhciBlYXNlZCA9IGlzTmFOKGVsYXBzZWQpID8gMSA6IHR3ZWVuLmVhc2luZyhlbGFwc2VkKTtcbiAgICAgIHZhciBzdHJpbmdzID0gdHdlZW4udG8uc3RyaW5ncztcbiAgICAgIHZhciByb3VuZCA9IHR3ZWVuLnJvdW5kO1xuICAgICAgdmFyIG51bWJlcnMgPSBbXTtcbiAgICAgIHZhciB0b051bWJlcnNMZW5ndGggPSB0d2Vlbi50by5udW1iZXJzLmxlbmd0aDtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICh2b2lkIDApO1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0b051bWJlcnNMZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgdmFsdWUgPSAodm9pZCAwKTtcbiAgICAgICAgdmFyIHRvTnVtYmVyID0gdHdlZW4udG8ubnVtYmVyc1tuXTtcbiAgICAgICAgdmFyIGZyb21OdW1iZXIgPSB0d2Vlbi5mcm9tLm51bWJlcnNbbl0gfHwgMDtcbiAgICAgICAgaWYgKCF0d2Vlbi5pc1BhdGgpIHtcbiAgICAgICAgICB2YWx1ZSA9IGZyb21OdW1iZXIgKyAoZWFzZWQgKiAodG9OdW1iZXIgLSBmcm9tTnVtYmVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRQYXRoUHJvZ3Jlc3ModHdlZW4udmFsdWUsIGVhc2VkICogdG9OdW1iZXIsIHR3ZWVuLmlzUGF0aFRhcmdldEluc2lkZVNWRyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgaWYgKCEodHdlZW4uaXNDb2xvciAmJiBuID4gMikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIHJvdW5kKSAvIHJvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWFudWFsIEFycmF5LnJlZHVjZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlc1xuICAgICAgdmFyIHN0cmluZ3NMZW5ndGggPSBzdHJpbmdzLmxlbmd0aDtcbiAgICAgIGlmICghc3RyaW5nc0xlbmd0aCkge1xuICAgICAgICBwcm9ncmVzcyA9IG51bWJlcnNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmVzcyA9IHN0cmluZ3NbMF07XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3RyaW5nc0xlbmd0aDsgcysrKSB7XG4gICAgICAgICAgdmFyIGEgPSBzdHJpbmdzW3NdO1xuICAgICAgICAgIHZhciBiID0gc3RyaW5nc1tzICsgMV07XG4gICAgICAgICAgdmFyIG4kMSA9IG51bWJlcnNbc107XG4gICAgICAgICAgaWYgKCFpc05hTihuJDEpKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgJyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbiQxICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbS50eXBlXShhbmltYXRhYmxlLnRhcmdldCwgYW5pbS5wcm9wZXJ0eSwgcHJvZ3Jlc3MsIGFuaW1hdGFibGUudHJhbnNmb3Jtcyk7XG4gICAgICBhbmltLmN1cnJlbnRWYWx1ZSA9IHByb2dyZXNzO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENhbGxiYWNrKGNiKSB7XG4gICAgaWYgKGluc3RhbmNlW2NiXSAmJiAhaW5zdGFuY2UucGFzc1Rocm91Z2gpIHsgaW5zdGFuY2VbY2JdKGluc3RhbmNlKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gY291bnRJdGVyYXRpb24oKSB7XG4gICAgaWYgKGluc3RhbmNlLnJlbWFpbmluZyAmJiBpbnN0YW5jZS5yZW1haW5pbmcgIT09IHRydWUpIHtcbiAgICAgIGluc3RhbmNlLnJlbWFpbmluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluc3RhbmNlUHJvZ3Jlc3MoZW5naW5lVGltZSkge1xuICAgIHZhciBpbnNEdXJhdGlvbiA9IGluc3RhbmNlLmR1cmF0aW9uO1xuICAgIHZhciBpbnNEZWxheSA9IGluc3RhbmNlLmRlbGF5O1xuICAgIHZhciBpbnNFbmREZWxheSA9IGluc0R1cmF0aW9uIC0gaW5zdGFuY2UuZW5kRGVsYXk7XG4gICAgdmFyIGluc1RpbWUgPSBhZGp1c3RUaW1lKGVuZ2luZVRpbWUpO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gbWluTWF4KChpbnNUaW1lIC8gaW5zRHVyYXRpb24pICogMTAwLCAwLCAxMDApO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGluc1RpbWUgPCBpbnN0YW5jZS5jdXJyZW50VGltZTtcbiAgICBpZiAoY2hpbGRyZW4pIHsgc3luY0luc3RhbmNlQ2hpbGRyZW4oaW5zVGltZSk7IH1cbiAgICBpZiAoIWluc3RhbmNlLmJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UuYmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2JlZ2luJyk7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UubG9vcEJlZ2FuICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdsb29wQmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPD0gaW5zRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcygwKTtcbiAgICB9XG4gICAgaWYgKChpbnNUaW1lID49IGluc0VuZERlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSBpbnNEdXJhdGlvbikgfHwgIWluc0R1cmF0aW9uKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zRHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA+IGluc0RlbGF5ICYmIGluc1RpbWUgPCBpbnNFbmREZWxheSkge1xuICAgICAgaWYgKCFpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQmVnaW4nKTtcbiAgICAgIH1cbiAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2UnKTtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VDb21wbGV0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IG1pbk1heChpbnNUaW1lLCAwLCBpbnNEdXJhdGlvbik7XG4gICAgaWYgKGluc3RhbmNlLmJlZ2FuKSB7IHNldENhbGxiYWNrKCd1cGRhdGUnKTsgfVxuICAgIGlmIChlbmdpbmVUaW1lID49IGluc0R1cmF0aW9uKSB7XG4gICAgICBsYXN0VGltZSA9IDA7XG4gICAgICBjb3VudEl0ZXJhdGlvbigpO1xuICAgICAgaWYgKCFpbnN0YW5jZS5yZW1haW5pbmcpIHtcbiAgICAgICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnY29tcGxldGUnKTtcbiAgICAgICAgICBpZiAoIWluc3RhbmNlLnBhc3NUaHJvdWdoICYmICdQcm9taXNlJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHNldENhbGxiYWNrKCdsb29wQ29tcGxldGUnKTtcbiAgICAgICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZS5kaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICAgICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluc3RhbmNlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpbnN0YW5jZS5wYXNzVGhyb3VnaCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gMDtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IDA7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5iZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSBkaXJlY3Rpb24gPT09ICdyZXZlcnNlJztcbiAgICBpbnN0YW5jZS5yZW1haW5pbmcgPSBpbnN0YW5jZS5sb29wO1xuICAgIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuTGVuZ3RoOyBpLS07KSB7IGluc3RhbmNlLmNoaWxkcmVuW2ldLnJlc2V0KCk7IH1cbiAgICBpZiAoaW5zdGFuY2UucmV2ZXJzZWQgJiYgaW5zdGFuY2UubG9vcCAhPT0gdHJ1ZSB8fCAoZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJyAmJiBpbnN0YW5jZS5sb29wID09PSAxKSkgeyBpbnN0YW5jZS5yZW1haW5pbmcrKzsgfVxuICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIDogMCk7XG4gIH07XG5cbiAgLy8gaW50ZXJuYWwgbWV0aG9kIChmb3IgZW5naW5lKSB0byBhZGp1c3QgYW5pbWF0aW9uIHRpbWluZ3MgYmVmb3JlIHJlc3RvcmluZyBlbmdpbmUgdGlja3MgKHJBRilcbiAgaW5zdGFuY2UuX29uRG9jdW1lbnRWaXNpYmlsaXR5ID0gcmVzZXRUaW1lO1xuXG4gIC8vIFNldCBWYWx1ZSBoZWxwZXJcblxuICBpbnN0YW5jZS5zZXQgPSBmdW5jdGlvbih0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICBpbnN0YW5jZS50aWNrID0gZnVuY3Rpb24odCkge1xuICAgIG5vdyA9IHQ7XG4gICAgaWYgKCFzdGFydFRpbWUpIHsgc3RhcnRUaW1lID0gbm93OyB9XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcygobm93ICsgKGxhc3RUaW1lIC0gc3RhcnRUaW1lKSkgKiBhbmltZS5zcGVlZCk7XG4gIH07XG5cbiAgaW5zdGFuY2Uuc2VlayA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKGFkanVzdFRpbWUodGltZSkpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5wYXVzZWQpIHsgcmV0dXJuOyB9XG4gICAgaWYgKGluc3RhbmNlLmNvbXBsZXRlZCkgeyBpbnN0YW5jZS5yZXNldCgpOyB9XG4gICAgaW5zdGFuY2UucGF1c2VkID0gZmFsc2U7XG4gICAgYWN0aXZlSW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xuICAgIHJlc2V0VGltZSgpO1xuICAgIGVuZ2luZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGluc3RhbmNlLnJldmVyc2VkID8gZmFsc2UgOiB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgIGluc3RhbmNlLnBsYXkoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZW1vdmUgPSBmdW5jdGlvbih0YXJnZXRzKSB7XG4gICAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc2V0KCk7XG5cbiAgaWYgKGluc3RhbmNlLmF1dG9wbGF5KSB7IGluc3RhbmNlLnBsYXkoKTsgfVxuXG4gIHJldHVybiBpbnN0YW5jZTtcblxufVxuXG4vLyBSZW1vdmUgdGFyZ2V0cyBmcm9tIGFuaW1hdGlvblxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKSB7XG4gIGZvciAodmFyIGEgPSBhbmltYXRpb25zLmxlbmd0aDsgYS0tOykge1xuICAgIGlmIChhcnJheUNvbnRhaW5zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9uc1thXS5hbmltYXRhYmxlLnRhcmdldCkpIHtcbiAgICAgIGFuaW1hdGlvbnMuc3BsaWNlKGEsIDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpIHtcbiAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICB2YXIgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucyk7XG4gIGZvciAodmFyIGMgPSBjaGlsZHJlbi5sZW5ndGg7IGMtLTspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltjXTtcbiAgICB2YXIgY2hpbGRBbmltYXRpb25zID0gY2hpbGQuYW5pbWF0aW9ucztcbiAgICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBjaGlsZEFuaW1hdGlvbnMpO1xuICAgIGlmICghY2hpbGRBbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSB7IGNoaWxkcmVuLnNwbGljZShjLCAxKTsgfVxuICB9XG4gIGlmICghYW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkcmVuLmxlbmd0aCkgeyBpbnN0YW5jZS5wYXVzZSgpOyB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgZm9yICh2YXIgaSA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7IGktLTspIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfVxufVxuXG4vLyBTdGFnZ2VyIGhlbHBlcnNcblxuZnVuY3Rpb24gc3RhZ2dlcih2YWwsIHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIGRpcmVjdGlvbiA9IHBhcmFtcy5kaXJlY3Rpb24gfHwgJ25vcm1hbCc7XG4gIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nID8gcGFyc2VFYXNpbmdzKHBhcmFtcy5lYXNpbmcpIDogbnVsbDtcbiAgdmFyIGdyaWQgPSBwYXJhbXMuZ3JpZDtcbiAgdmFyIGF4aXMgPSBwYXJhbXMuYXhpcztcbiAgdmFyIGZyb21JbmRleCA9IHBhcmFtcy5mcm9tIHx8IDA7XG4gIHZhciBmcm9tRmlyc3QgPSBmcm9tSW5kZXggPT09ICdmaXJzdCc7XG4gIHZhciBmcm9tQ2VudGVyID0gZnJvbUluZGV4ID09PSAnY2VudGVyJztcbiAgdmFyIGZyb21MYXN0ID0gZnJvbUluZGV4ID09PSAnbGFzdCc7XG4gIHZhciBpc1JhbmdlID0gaXMuYXJyKHZhbCk7XG4gIHZhciB2YWwxID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzBdKSA6IHBhcnNlRmxvYXQodmFsKTtcbiAgdmFyIHZhbDIgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMV0pIDogMDtcbiAgdmFyIHVuaXQgPSBnZXRVbml0KGlzUmFuZ2UgPyB2YWxbMV0gOiB2YWwpIHx8IDA7XG4gIHZhciBzdGFydCA9IHBhcmFtcy5zdGFydCB8fCAwICsgKGlzUmFuZ2UgPyB2YWwxIDogMCk7XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgdmFyIG1heFZhbHVlID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgaSwgdCkge1xuICAgIGlmIChmcm9tRmlyc3QpIHsgZnJvbUluZGV4ID0gMDsgfVxuICAgIGlmIChmcm9tQ2VudGVyKSB7IGZyb21JbmRleCA9ICh0IC0gMSkgLyAyOyB9XG4gICAgaWYgKGZyb21MYXN0KSB7IGZyb21JbmRleCA9IHQgLSAxOyB9XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWdyaWQpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChNYXRoLmFicyhmcm9tSW5kZXggLSBpbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBmcm9tWCA9ICFmcm9tQ2VudGVyID8gZnJvbUluZGV4JWdyaWRbMF0gOiAoZ3JpZFswXS0xKS8yO1xuICAgICAgICAgIHZhciBmcm9tWSA9ICFmcm9tQ2VudGVyID8gTWF0aC5mbG9vcihmcm9tSW5kZXgvZ3JpZFswXSkgOiAoZ3JpZFsxXS0xKS8yO1xuICAgICAgICAgIHZhciB0b1ggPSBpbmRleCVncmlkWzBdO1xuICAgICAgICAgIHZhciB0b1kgPSBNYXRoLmZsb29yKGluZGV4L2dyaWRbMF0pO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVggPSBmcm9tWCAtIHRvWDtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VZID0gZnJvbVkgLSB0b1k7XG4gICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5zcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd4JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVg7IH1cbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3knKSB7IHZhbHVlID0gLWRpc3RhbmNlWTsgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoZWFzaW5nKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gZWFzaW5nKHZhbCAvIG1heFZhbHVlKSAqIG1heFZhbHVlOyB9KTsgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnKSB7IHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gYXhpcyA/ICh2YWwgPCAwKSA/IHZhbCAqIC0xIDogLXZhbCA6IE1hdGguYWJzKG1heFZhbHVlIC0gdmFsKTsgfSk7IH1cbiAgICB9XG4gICAgdmFyIHNwYWNpbmcgPSBpc1JhbmdlID8gKHZhbDIgLSB2YWwxKSAvIG1heFZhbHVlIDogdmFsMTtcbiAgICByZXR1cm4gc3RhcnQgKyAoc3BhY2luZyAqIChNYXRoLnJvdW5kKHZhbHVlc1tpXSAqIDEwMCkgLyAxMDApKSArIHVuaXQ7XG4gIH1cbn1cblxuLy8gVGltZWxpbmVcblxuZnVuY3Rpb24gdGltZWxpbmUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgdGwgPSBhbmltZShwYXJhbXMpO1xuICB0bC5kdXJhdGlvbiA9IDA7XG4gIHRsLmFkZCA9IGZ1bmN0aW9uKGluc3RhbmNlUGFyYW1zLCB0aW1lbGluZU9mZnNldCkge1xuICAgIHZhciB0bEluZGV4ID0gYWN0aXZlSW5zdGFuY2VzLmluZGV4T2YodGwpO1xuICAgIHZhciBjaGlsZHJlbiA9IHRsLmNoaWxkcmVuO1xuICAgIGlmICh0bEluZGV4ID4gLTEpIHsgYWN0aXZlSW5zdGFuY2VzLnNwbGljZSh0bEluZGV4LCAxKTsgfVxuICAgIGZ1bmN0aW9uIHBhc3NUaHJvdWdoKGlucykgeyBpbnMucGFzc1Rocm91Z2ggPSB0cnVlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgeyBwYXNzVGhyb3VnaChjaGlsZHJlbltpXSk7IH1cbiAgICB2YXIgaW5zUGFyYW1zID0gbWVyZ2VPYmplY3RzKGluc3RhbmNlUGFyYW1zLCByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcykpO1xuICAgIGluc1BhcmFtcy50YXJnZXRzID0gaW5zUGFyYW1zLnRhcmdldHMgfHwgcGFyYW1zLnRhcmdldHM7XG4gICAgdmFyIHRsRHVyYXRpb24gPSB0bC5kdXJhdGlvbjtcbiAgICBpbnNQYXJhbXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICBpbnNQYXJhbXMuZGlyZWN0aW9uID0gdGwuZGlyZWN0aW9uO1xuICAgIGluc1BhcmFtcy50aW1lbGluZU9mZnNldCA9IGlzLnVuZCh0aW1lbGluZU9mZnNldCkgPyB0bER1cmF0aW9uIDogZ2V0UmVsYXRpdmVWYWx1ZSh0aW1lbGluZU9mZnNldCwgdGxEdXJhdGlvbik7XG4gICAgcGFzc1Rocm91Z2godGwpO1xuICAgIHRsLnNlZWsoaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0KTtcbiAgICB2YXIgaW5zID0gYW5pbWUoaW5zUGFyYW1zKTtcbiAgICBwYXNzVGhyb3VnaChpbnMpO1xuICAgIGNoaWxkcmVuLnB1c2goaW5zKTtcbiAgICB2YXIgdGltaW5ncyA9IGdldEluc3RhbmNlVGltaW5ncyhjaGlsZHJlbiwgcGFyYW1zKTtcbiAgICB0bC5kZWxheSA9IHRpbWluZ3MuZGVsYXk7XG4gICAgdGwuZW5kRGVsYXkgPSB0aW1pbmdzLmVuZERlbGF5O1xuICAgIHRsLmR1cmF0aW9uID0gdGltaW5ncy5kdXJhdGlvbjtcbiAgICB0bC5zZWVrKDApO1xuICAgIHRsLnJlc2V0KCk7XG4gICAgaWYgKHRsLmF1dG9wbGF5KSB7IHRsLnBsYXkoKTsgfVxuICAgIHJldHVybiB0bDtcbiAgfTtcbiAgcmV0dXJuIHRsO1xufVxuXG5hbmltZS52ZXJzaW9uID0gJzMuMi4xJztcbmFuaW1lLnNwZWVkID0gMTtcbi8vIFRPRE86I3JldmlldzogbmFtaW5nLCBkb2N1bWVudGF0aW9uXG5hbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuID0gdHJ1ZTtcbmFuaW1lLnJ1bm5pbmcgPSBhY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5yZW1vdmUgPSByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLmdldCA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWU7XG5hbmltZS5zZXQgPSBzZXRUYXJnZXRzVmFsdWU7XG5hbmltZS5jb252ZXJ0UHggPSBjb252ZXJ0UHhUb1VuaXQ7XG5hbmltZS5wYXRoID0gZ2V0UGF0aDtcbmFuaW1lLnNldERhc2hvZmZzZXQgPSBzZXREYXNob2Zmc2V0O1xuYW5pbWUuc3RhZ2dlciA9IHN0YWdnZXI7XG5hbmltZS50aW1lbGluZSA9IHRpbWVsaW5lO1xuYW5pbWUuZWFzaW5nID0gcGFyc2VFYXNpbmdzO1xuYW5pbWUucGVubmVyID0gcGVubmVyO1xuYW5pbWUucmFuZG9tID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7IHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyB9O1xuXG5leHBvcnQgZGVmYXVsdCBhbmltZTtcbiIsImltcG9ydCAqIGFzIFN0YXRzIGZyb20gJ3N0YXRzLmpzJ1xyXG5pbXBvcnQgYW5pbWUgZnJvbSAnYW5pbWVqcy9saWIvYW5pbWUuZXMuanMnO1xyXG5cclxuLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxyXG52YXIgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5RFRWeERKajdycUc5TC1DbHZiYTJUYW85QjBoa2N4amNFXCIsXHJcbiAgICBhdXRoRG9tYWluOiBcIm1pbGNoY2hhbi5maXJlYmFzZWFwcC5jb21cIixcclxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vbWlsY2hjaGFuLmZpcmViYXNlaW8uY29tXCIsXHJcbiAgICBwcm9qZWN0SWQ6IFwibWlsY2hjaGFuXCIsXHJcbiAgICBzdG9yYWdlQnVja2V0OiBcIm1pbGNoY2hhbi5hcHBzcG90LmNvbVwiLFxyXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMzU1Njk4OTcxODg5XCIsXHJcbiAgICBhcHBJZDogXCIxOjM1NTY5ODk3MTg4OTp3ZWI6ZTM2NTNjNWMzMWJkNzI4OWNkNDU1MFwiLFxyXG4gICAgbWVhc3VyZW1lbnRJZDogXCJHLTM5OThGSllOV1hcIlxyXG59O1xyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXHJcbmZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG5maXJlYmFzZS5hbmFseXRpY3MoKTtcclxuXHJcbmNvbnN0IGRlYnVnID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSkgPT09IFwiZGVidWdcIjtcclxuLy9jb25zdCBjaGFubmVsID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7XHJcbmNvbnN0IGRhdGFiYXNlUm9vdCA9IFwid29uZGVybGFuZFwiO1xyXG4vL2NvbnN0IGRhdGFiYXNlQ2hhbm5lbCA9IGNoYW5uZWwubGVuZ3RoID4gMCA/IGRhdGFiYXNlUm9vdCArICcvY2hhbm5lbHMvJyArIGNoYW5uZWwgOiBkYXRhYmFzZVJvb3Q7XHJcbmNvbnN0IGRhdGFiYXNlTWVzc2FnZXMgPSBkYXRhYmFzZVJvb3QgKyBcIi9mZWVkXCI7XHJcbmxldCBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7XHJcbmxldCBzdG9yYWdlID0gZmlyZWJhc2Uuc3RvcmFnZSgpO1xyXG5jb25zdCBtaWxjaCA9IHsgbmFtZTogXCLjg5/jg6vjg5LjgaHjgoPjgpNcIiwgYWNjZW50OiBcIiNmZmE2YmJcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NaWxjaC5wbmdcIiB9O1xyXG5jb25zdCBtZXJrdSA9IHsgbmFtZTogXCLjg6Hjg6vjgq/jgaHjgoPjgpNcIiwgYWNjZW50OiBcIiM1YmNiZTFcIiwgaW1hZ2U6IFwiL2ltYWdlcy9NZXJrdS5wbmdcIiB9O1xyXG5jb25zdCBzdGF0cyA9IG5ldyBTdGF0cygpO1xyXG5cclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSBcImF1dG9cIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5ib3R0b20gPSBcIjBcIjtcclxuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gXCJhdXRvXCI7XHJcbnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucmlnaHQgPSBcIjBcIjtcclxuXHJcbmlmICghZGVidWcpIHtcclxuICAgIHN0YXRzLmRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlzLWhpZGRlblwiKTtcclxufVxyXG5cclxubGV0IGlkbGVUaW1lID0gMC4wO1xyXG5jb25zdCBibGlua1RocmVzaG9sZCA9IDUuMDtcclxubGV0IGFjdGl2YXRlVGltZSA9IDAuMDtcclxuY29uc3QgYWN0aXZhdGVUaHJlc2hvbGQgPSAxMC4wO1xyXG5sZXQgdGFwQ291bnQgPSAwO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldmVudCkgPT4ge1xyXG4gICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKFwic3cuanNcIikudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICByZWdpc3RyYXRpb24ub251cGRhdGVmb3VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyICE9PSBudWxsICYmIFwiY29tbWFuZFwiIGluIGV2ZW50LmRhdGEgJiYgZXZlbnQuZGF0YS5jb21tYW5kID09PSBcImNhY2hlc1wiKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogXCJjbGVhclwiLCBjYWNoZXM6IGV2ZW50LmRhdGEuY2FjaGVzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFwcCA9IFZ1ZS5jcmVhdGVBcHAoe1xyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc0RlYnVnOiBkZWJ1ZyxcclxuICAgICAgICAgICAgICAgIGlzRGFya01vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNNdXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xvY2F0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzUmV2ZWFsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNPdmVybGF5ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNCbGluZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzUG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xlYXJuaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQW5pbWF0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzSGFuZ2luZ09uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlbGFwc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWFwOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBtb2RlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcXVlcnlRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBxdWVyeUNhY2hlOiB7fSxcclxuICAgICAgICAgICAgICAgIGNhY2hlZFRyYWNrczoge30sXHJcbiAgICAgICAgICAgICAgICBjYWNoZWREb2N1bWVudHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRRdWV1ZTogW10sXHJcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZVF1ZXVlOiBbXSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIGlucHV0OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRJbnB1dExlbmd0aDogMCxcclxuICAgICAgICAgICAgICAgIG1heElucHV0TGVuZ3RoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEhhc0Vycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1heE1lc3NhZ2VzOiAxMCxcclxuICAgICAgICAgICAgICAgIHdvcmQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZWNlbnRXb3JkczogW10sXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1heFRhZ3M6IDEwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dElEOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB0aWNrSW50ZXJ2YWxJRDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgc3RhcnM6IC0xLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRTdGFyczogMCxcclxuICAgICAgICAgICAgICAgIHNjcmVlbnNob3Q6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIHJlY2VudEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzUXVldWU6IFtdLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBibGVuZFNoYXBlQW5pbWF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBpbnNldFRvcDogMCxcclxuICAgICAgICAgICAgICAgIGluc2V0Qm90dG9tOiAwLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogW10sXHJcbiAgICAgICAgICAgICAgICBwb3B1cFRleHRIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFBvcHVwVGV4dEhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRpY2tlcldpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRUaWNrZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgd29yZERpY3Rpb25hcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgcmV2ZXJzZVdvcmREaWN0aW9uYXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcIuWQjeWJjVwiLCBcIuaJgOWxnlwiLCBcIuaZgumWk1wiLCBcIuWgtOaJgFwiLCBcIuOBmeOCi+S6i1wiLCBcIueUn+OBjeeJqVwiLCBcIumjn+OBueeJqVwiLCBcIumjsuOBv+eJqVwiLCBcIuiBnuOBj+OCguOBrlwiLCBcIuimi+OCi+OCguOBrlwiLCBcIuiqreOCgOOCguOBrlwiLCBcIuS9v+OBhueJqVwiLCBcIui6q+OBq+OBpOOBkeOCi+OCguOBrlwiLCBcIuS5l+OCiueJqVwiLCBcIumDqOS9jVwiLCBcIueXheawl1wiXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB3YXRjaDoge1xyXG4gICAgICAgICAgICBpc011dGVkKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYm90XCIsIEpTT04uc3RyaW5naWZ5KHsgbXV0ZTogbmV3VmFsdWUgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYm90XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3b3Jkczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJXaWR0aChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IHdpZHRoOiB0aGlzLmFuaW1hdGVkVGlja2VyV2lkdGggfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbmltYXRlZFRpY2tlcldpZHRoID0gb2JqLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2FwcD4uYmFja2dyb3VuZD5kaXZcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWxlbWVudHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lUmF0ZSA9IDE1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKHsgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gZWxlbWVudC5hbmltYXRlKGtleWZyYW1lcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdzdGVwcygnICsgb2Zmc2V0ICsgJyknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCAvIGZyYW1lUmF0ZSAqIGVsZW1lbnRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uczogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBhbmltYXRpb24uc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5wb3B1cFRleHRIZWlnaHQgPSBhcHAuJHJlZnMucG9wdXBUZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvcHVwVGV4dEhlaWdodChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0geyBoZWlnaHQ6IHRoaXMuYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91bmQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRQb3B1cFRleHRIZWlnaHQgPSBvYmouaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJzKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7IGNvdW50OiB0aGlzLmFuaW1hdGVkU3RhcnMgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogb2JqLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFN0YXJzID0gb2JqLmNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHsgY291bnQ6IGFwcC5hbmltYXRlZElucHV0TGVuZ3RoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYXBwLmlucHV0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5hbmltYXRlZElucHV0TGVuZ3RoID0gb2JqLmNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgICAgICBzaWduSW46IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAobmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ZpcmViYXNlLmF1dGguT0F1dGhDcmVkZW50aWFsfSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IHJlc3VsdC5jcmVkZW50aWFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIHJlc3VsdC51c2VyLnByb3ZpZGVyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBkYXRhLnBob3RvVVJMXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWRlbnRpYWxcIiwgSlNPTi5zdHJpbmdpZnkoeyBwcm92aWRlcklkOiBjcmVkZW50aWFsLnByb3ZpZGVySWQsIGFjY2Vzc1Rva2VuOiBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuLCBpZFRva2VuOiBjcmVkZW50aWFsLmlkVG9rZW4gfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKFwicHVibGljX3Byb2ZpbGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ZpcmViYXNlLmF1dGguT0F1dGhDcmVkZW50aWFsfSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IHJlc3VsdC5jcmVkZW50aWFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIHJlc3VsdC51c2VyLnByb3ZpZGVyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBkYXRhLnBob3RvVVJMXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWRlbnRpYWxcIiwgSlNPTi5zdHJpbmdpZnkoeyBwcm92aWRlcklkOiBjcmVkZW50aWFsLnByb3ZpZGVySWQsIGFjY2Vzc1Rva2VuOiBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKG5ldyBmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIoKSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7ZmlyZWJhc2UuYXV0aC5PQXV0aENyZWRlbnRpYWx9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gcmVzdWx0LmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgcmVzdWx0LnVzZXIucHJvdmlkZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG90b1VybCA9IGRhdGEucGhvdG9VUkwucmVwbGFjZSgvX25vcm1hbFxcLmpwZyQvLCAnLmpwZycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogcGhvdG9VcmxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbFwiLCBKU09OLnN0cmluZ2lmeSh7IHByb3ZpZGVySWQ6IGNyZWRlbnRpYWwucHJvdmlkZXJJZCwgYWNjZXNzVG9rZW46IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4sIHNlY3JldDogY3JlZGVudGlhbC5zZWNyZXQgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2lnbk91dDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3JlZGVudGlhbFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIucG9zdE1lc3NhZ2UoeyBjb21tYW5kOiBcImNhY2hlc1wiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWZyZXNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaGFyZTM6IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogXCJnZW9sb2NhdGlvblwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwiZ3JhbnRlZFwiIHx8IHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJwcm9tcHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGAke2RhdGFiYXNlUm9vdH0vdXNlcnMvJHtzZWxmLnVzZXIudWlkfS9kaWN0aW9uYXJ5L3dvcmRzYCkub3JkZXJCeVZhbHVlKCkubGltaXRUb0xhc3QoMTAwKS5vbmNlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWdzID0gc25hcHNob3QuZXhpc3RzKCkgPyBzbmFwc2hvdC52YWwoKSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGRhdGFiYXNlLnJlZihgJHtkYXRhYmFzZVJvb3R9L3RyYWNrc2ApLnB1c2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLnNldCh7IGtleTogZ2VvaGFzaCArIHRpbWVzdGFtcCwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHRhZ3M6IHRhZ3MsIHRpbWVzdGFtcDogdGltZXN0YW1wLCB1c2VyOiB7IGlkOiBzZWxmLnVzZXIudWlkLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwgfSB9LCBhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBkYXRhYmFzZS5yZWYoYCR7ZGF0YWJhc2VSb290fS90cmFja3NgKS5wdXNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZi5zZXQoeyBrZXk6IGdlb2hhc2ggKyB0aW1lc3RhbXAsIG5hbWU6IHdvcmQubmFtZSwgYXR0cmlidXRlczogd29yZC5hdHRyaWJ1dGVzLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgdGltZXN0YW1wOiB0aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHNlbGYudXNlci51aWQsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCB9IH0sIGFzeW5jIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiB0aGlzLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogdGhpcy5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoeyB0ZXh0OiBlLm1lc3NhZ2UsIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cGRhdGU6IGFzeW5jIGZ1bmN0aW9uIChpZ25vcmUgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyTG9jYXRpb24gPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IGF3YWl0IHRoaXMuZmV0Y2goaWdub3JlLCBjZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSwgY2VudGVyTG9jYXRpb24ubG9uZ2l0dWRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaWdub3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jYWNoZWRUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXJJZCBvZiBzZWxmLmNhY2hlZFRyYWNrc1trZXldLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMucmVtb3ZlSGFuZGxlcihoYW5kbGVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5lbnRpdGllcy5yZW1vdmUoc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5wdXNocGluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmNhY2hlZFRyYWNrc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0cmFja3MgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVcGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3NbZ2VvaGFzaF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwdXNocGluSWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zdCB3b3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5jYWNoZWRUcmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2suaWQgPT09IHRoaXMuY2FjaGVkVHJhY2tzW2lkXS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluSWQgPSBpZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHVzaHBpbklkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVzaHBpbiA9IG5ldyBNaWNyb3NvZnQuTWFwcy5QdXNocGluKG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbih0cmFjay5sb2NhdGlvbi5sYXRpdHVkZSwgdHJhY2subG9jYXRpb24ubG9uZ2l0dWRlKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdHJhY2submFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGU6IHRoaXMuZm9ybWF0VGltZSh0aW1lc3RhbXAgLSB0cmFjay50aW1lc3RhbXApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcIi9pbWFnZXMvTWFya2VyLVN0YXIuc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZShwdXNocGluLCB0cmFjay51c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoXCJkaWN0aW9uYXJ5XCIgaW4gdHJhY2sgJiYgXCJ3b3Jkc1wiIGluIHRyYWNrLmRpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHRyYWNrLmRpY3Rpb25hcnkud29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZFdvcmQgPSBPYmplY3QuYXNzaWduKHt9LCB0cmFjay5kaWN0aW9uYXJ5LndvcmRzW3dvcmRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRXb3JkW1wibmFtZVwiXSA9IHdvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGNsb25lZFdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tbXCJ3b3Jkc1wiXSA9IHdvcmRzOyovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW4uaWRdID0gdHJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbi5pZF1bXCJwdXNocGluXCJdID0gcHVzaHBpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluLmlkXVtcImhhbmRsZXJzXCJdID0gW01pY3Jvc29mdC5NYXBzLkV2ZW50cy5hZGRIYW5kbGVyKHB1c2hwaW4sICdjbGljaycsIGFzeW5jIChhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZSA9IHRoaXMuY2FjaGVkVHJhY2tzW2FyZ3MudGFyZ2V0LmlkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgTWljcm9zb2Z0Lk1hcHMuRXZlbnRzLmFkZEhhbmRsZXIocHVzaHBpbiwgJ2RibGNsaWNrJywgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzZWxmLmNhY2hlZFRyYWNrc1thcmdzLnRhcmdldC5pZF0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLmVudGl0aWVzLnB1c2gocHVzaHBpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJhY2sudGltZXN0YW1wID4gdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXS50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXNocGluID0gdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXVtcInB1c2hwaW5cIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wiaGFuZGxlcnNcIl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0TG9jYXRpb24obmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHRyYWNrLmxvY2F0aW9uLmxhdGl0dWRlLCB0cmFjay5sb2NhdGlvbi5sb25naXR1ZGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNocGluLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdHJhY2submFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGU6IHRoaXMuZm9ybWF0VGltZSh0aW1lc3RhbXAgLSB0cmFjay50aW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZShwdXNocGluLCB0cmFjay51c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoXCJkaWN0aW9uYXJ5XCIgaW4gdHJhY2sgJiYgXCJ3b3Jkc1wiIGluIHRyYWNrLmRpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHRyYWNrLmRpY3Rpb25hcnkud29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZFdvcmQgPSBPYmplY3QuYXNzaWduKHt9LCB0cmFjay5kaWN0aW9uYXJ5LndvcmRzW3dvcmRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRXb3JkW1wibmFtZVwiXSA9IHdvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGNsb25lZFdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tbXCJ3b3Jkc1wiXSA9IHdvcmRzOyovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkVHJhY2tzW3B1c2hwaW5JZF0gPSB0cmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFRyYWNrc1twdXNocGluSWRdW1wicHVzaHBpblwiXSA9IHB1c2hwaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRUcmFja3NbcHVzaHBpbklkXVtcImhhbmRsZXJzXCJdID0gaGFuZGxlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBpbiB0cmFja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3NbZ2VvaGFzaF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKHRyYWNrLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jYWNoZWRUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlkcy5zb21lKHggPT4geCA9PT0gc2VsZi5jYWNoZWRUcmFja3Nba2V5XS5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlcklkIG9mIHNlbGYuY2FjaGVkVHJhY2tzW2tleV0uaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMucmVtb3ZlSGFuZGxlcihoYW5kbGVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLmVudGl0aWVzLnJlbW92ZShzZWxmLmNhY2hlZFRyYWNrc1trZXldLnB1c2hwaW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmNhY2hlZFRyYWNrc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IDEwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC02KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRlcmVkRG9jdW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1GcmVxdWVuY2llcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMjQgKiA2MCAqIDYwICogMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW1pdCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZURpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heFNjb3JlID0gZXBzaWxvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2tlbnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1TZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRyYWNrLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybVNldC5pbmNsdWRlcyh0cmFjay5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay5uYW1lIGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lbdHJhY2submFtZV0gKz0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0cmFjay5uYW1lXSA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1TZXQucHVzaCh0cmFjay5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2godG9rZW5zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudHMucHVzaCh7IHRva2VuczogdG9rZW5zLCB0aW1lc3RhbXA6IHVzZXIudGltZXN0YW1wLCB1c2VyOiB7IGlkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUsIGltYWdlOiBcImltYWdlXCIgaW4gdXNlciA/IHVzZXIuaW1hZ2UgOiBudWxsIH0gfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIndvcmRzXCIgaW4gdXNlciAmJiB1c2VyLndvcmRzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldID0gTWF0aC5sb2coZG9jdW1lbnRzLmxlbmd0aCAvIChpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XSArIGVwc2lsb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChjb25zdCBkb2N1bWVudCBvZiBkb2N1bWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnRpbWVzdGFtcCAqIDEwMDAgPiBiYXNlVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZERvY3VtZW50cy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1heChkb2N1bWVudHMubGVuZ3RoIC0gbGltaXQsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRvY3VtZW50cy5sZW5ndGggLSAxOyBpID49IG1pbjsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERvY3VtZW50cy51bnNoaWZ0KGRvY3VtZW50c1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBkb2N1bWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRmID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Zlt0b2tlbl0gKz0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Zlt0b2tlbl0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZltrZXldIC89IGRvY3VtZW50Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGljdGlvbmFyeVtrZXldID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtRnJlcXVlbmNpZXMucHVzaCh0Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZXJtRnJlcXVlbmN5IG9mIHRlcm1GcmVxdWVuY2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiB0ZXJtRnJlcXVlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGZpZGYgPSB0ZXJtRnJlcXVlbmN5W2tleV0gKiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRmaWRmID4gc2NvcmVEaWN0aW9uYXJ5W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaWN0aW9uYXJ5W2tleV0gPSB0ZmlkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3JlRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IDEgJiYga2V5ICE9IFwiLi4uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHsgdGVybToga2V5LCB2YWx1ZTogc2NvcmVEaWN0aW9uYXJ5W2tleV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB5LnZhbHVlIC0geC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZXMubGVuZ3RoID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zcGxpY2UobWF4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2NvcmUgb2Ygc2NvcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZS52YWx1ZSA+IG1heFNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHNjb3JlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZS52YWx1ZSAvPSBtYXhTY29yZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4LnRlcm0gPiB5LnRlcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgudGVybSA8IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbZG9jdW1lbnRzLCBzY29yZXNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVkRG9jdW1lbnRzLnNwbGljZSgwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHJlc3VsdHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZERvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHNbMV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MucHVzaCh7IGluZGV4OiBpLCBuYW1lOiByZXN1bHRzWzFdW2ldLnRlcm0sIHNjb3JlOiByZXN1bHRzWzFdW2ldLnZhbHVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uIChpZ25vcmUsIGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlY2lzaW9ucyA9IHsgMTogMiwgMjogMiwgMzogMiwgNDogMiwgNTogMiwgNjogMiwgNzogMiwgODogMiwgOTogMiwgMTA6IDMsIDExOiAzLCAxMjogNCwgMTM6IDQsIDE0OiA0LCAxNTogNSwgMTY6IDUsIDE3OiA1LCAxODogNiwgMTk6IDYsIDIwOiA2IH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJHZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbnNbdGhpcy5tYXAuZ2V0Wm9vbSgpXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2VvaGFzaGVzID0gW2NlbnRlckdlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcFJlY2VudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHByaW1pdGl2ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5kZWNvZGVHZW9oYXNoKGNlbnRlckdlb2hhc2gpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gNjA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wQ2FjaGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVzLnB1c2gobmV3IE1pY3Jvc29mdC5NYXBzLlBvbHlnb24oW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcHJpZ2h0LmxhdGl0dWRlLCByZWN0LnRvcHJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QuYm90dG9tcmlnaHQubGF0aXR1ZGUsIHJlY3QuYm90dG9tcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC50b3BsZWZ0LmxhdGl0dWRlLCByZWN0LnRvcGxlZnQubG9uZ2l0dWRlKV0sIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjZW50ZXJHZW9oYXNoLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhjZW50ZXJHZW9oYXNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmVpZ2hib3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2hlcy5wdXNoKG5laWdoYm9yc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLmRlY29kZUdlb2hhc2gobmVpZ2hib3JzW2tleV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5wdXNoKG5ldyBNaWNyb3NvZnQuTWFwcy5Qb2x5Z29uKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHJlY3QudG9wcmlnaHQubGF0aXR1ZGUsIHJlY3QudG9wcmlnaHQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LmJvdHRvbXJpZ2h0LmxhdGl0dWRlLCByZWN0LmJvdHRvbXJpZ2h0LmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWljcm9zb2Z0Lk1hcHMuTG9jYXRpb24ocmVjdC5ib3R0b21sZWZ0LmxhdGl0dWRlLCByZWN0LmJvdHRvbWxlZnQubG9uZ2l0dWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihyZWN0LnRvcGxlZnQubGF0aXR1ZGUsIHJlY3QudG9wbGVmdC5sb25naXR1ZGUpXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5zZXRQcmltaXRpdmVzKHByaW1pdGl2ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKGNlbnRlckdlb2hhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2VvaGFzaCBvZiBnZW9oYXNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZSAmJiBnZW9oYXNoIGluIHRoaXMucXVlcnlDYWNoZSAmJiB0aW1lc3RhbXAgLSB0aGlzLnF1ZXJ5Q2FjaGVbZ2VvaGFzaF0udGltZXN0YW1wIDwgdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdGhpcy5xdWVyeUNhY2hlW2dlb2hhc2hdLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBSZWNlbnQucHVzaCh1c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaCBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXS5wdXNoKHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2dlb2hhc2hdID0gW3VzZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrc1wiKS5vcmRlckJ5Q2hpbGQoXCJrZXlcIikubGltaXRUb0xhc3QoNTApLnN0YXJ0QXQoZ2VvaGFzaCkuZW5kQXQoZ2VvaGFzaC5wYWRFbmQoMTIsIFwielwiKSArIFwiXFx1ZjhmZlwiKS5vbmNlKCd2YWx1ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ2FjaGVbZ2VvaGFzaF0gPSB7IHRpbWVzdGFtcDogdGltZXN0YW1wLCBkYXRhOiBbXSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldW1wiaWRcIl0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUmVjZW50LnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBDYWNoZVtnZW9oYXNoXS5kYXRhLnB1c2goZGljdGlvbmFyeVtrZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvaGFzaCBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtnZW9oYXNoXS5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZ2VvaGFzaF0gPSBbZGljdGlvbmFyeVtrZXldXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5UXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWVyeVF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdlb2hhc2ggaW4gdGVtcENhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeUNhY2hlW2dlb2hhc2hdID0gdGVtcENhY2hlW2dlb2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnlDYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHNlbGYucXVlcnlDYWNoZVtrZXldLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnF1ZXJ5Q2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnQgPSB0aGlzLnRha2UodGVtcFJlY2VudC5zb3J0KCh4LCB5KSA9PiB5LnRpbWVzdGFtcCAtIHgudGltZXN0YW1wKSwgMTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZGF0YVtrZXldLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNlbnQuaW5jbHVkZXMoZGF0YVtrZXldW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtrZXldLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFba2V5XS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9jYXRlOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcInBlcm1pc3Npb25zXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT0gXCJncmFudGVkXCIgfHwgcGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcInByb21wdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvY2F0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWFwLnNldFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0xvY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGVycm9yLm1lc3NhZ2UsIGFjY2VudDogc2VsZi5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2NhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNMb2NhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcC5zZXRWaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3IE1pY3Jvc29mdC5NYXBzLkxvY2F0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiBzZWxmLm1hcC5nZXRab29tKCkgPCAxNiA/IDE2IDogc2VsZi5tYXAuZ2V0Wm9vbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlzTG9jYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6IFwiZ2VvbG9jYXRpb25cIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PSBcImdyYW50ZWRcIiB8fCBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09IFwicHJvbXB0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXAuc2V0Vmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBNaWNyb3NvZnQuTWFwcy5Mb2NhdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogc2VsZi5tYXAuZ2V0Wm9vbSgpIDwgMTYgPyAxNiA6IHNlbGYubWFwLmdldFpvb20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8qdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2hhc2ggPSB0aGlzLmVuY29kZUdlb2hhc2gocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkKS50cmFuc2FjdGlvbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBnZW9oYXNoICsgdGltZXN0YW1wLCBuYW1lOiBzZWxmLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiBzZWxmLnVzZXIucGhvdG9VUkwsIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1wia2V5XCJdID0gZ2VvaGFzaCArIHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcIm5hbWVcIl0gPSBzZWxmLnVzZXIuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJbXCJpbWFnZVwiXSA9IHNlbGYudXNlci5waG90b1VSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImxvY2F0aW9uXCJdID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcltcImdlb2hhc2hcIl0gPSBnZW9oYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyW1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tbWl0dGVkICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsqL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvKn0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW92ZTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IFwiaG9nZWhvZ2VcIiwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9LCAxMDAwMDApO1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyTG9jYXRpb24gPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0geyBsYXRpdHVkZTogY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogY2VudGVyTG9jYXRpb24ubG9uZ2l0dWRlIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGNlbnRlckxvY2F0aW9uLmxhdGl0dWRlLCBjZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBrZXk6IGdlb2hhc2ggKyB0aW1lc3RhbXAsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCwgbG9jYXRpb246IGxvY2F0aW9uLCBnZW9oYXNoOiBnZW9oYXNoLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImtleVwiXSA9IGdlb2hhc2ggKyB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcIm5hbWVcIl0gPSBzZWxmLnVzZXIuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcltcImltYWdlXCJdID0gc2VsZi51c2VyLnBob3RvVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJbXCJsb2NhdGlvblwiXSA9IGxvY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJbXCJnZW9oYXNoXCJdID0gZ2VvaGFzaDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyW1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgY29tbWl0dGVkLCBzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTsqL1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZW5kOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGVidWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrZXlzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YWdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRoaXMuaW5wdXQuc3BsaXQoL1xccy8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kSW1hZ2VzLnNvbWUoKHgpID0+IHguaWQgPT09IHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDAgJiYgdGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL2ltYWdlcy9cIiArIGtleSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlW1widGFnc1wiXSA9IHRhZ3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xlYXJuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnB1dC5sZW5ndGggPD0gdGhpcy5tYXhJbnB1dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFybih7IG5hbWU6IHRoaXMuaW5wdXQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMZWFybmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLmJhY2tncm91bmRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbWFnZS5pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnB1dC5sZW5ndGggPiAwICYmIHRoaXMuaW5wdXQubGVuZ3RoIDw9IHRoaXMubWF4SW5wdXRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXJuKHsgbmFtZTogdGhpcy5pbnB1dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhcm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0SW1hZ2U6IGFzeW5jIGZ1bmN0aW9uIChwdXNocGluLCB1c2VyLCBzZWxlY3RlZCA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIC8vY29uc3QgaG91cnMgPSBuZXcgRGF0ZSh0cmFjay5wb3NpdGlvbi50aW1lc3RhbXAgKiAxMDAwKS5nZXRIb3VycygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcImltYWdlXCIgaW4gdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAvKnB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAxOCAxOFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxuczpzZXJpZj1cImh0dHA6Ly93d3cuc2VyaWYuY29tL1wiIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMSwwLDAsMSwtMTcuNzA3NywtMTguNzUzOClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTI2LjcwOCwxOS43NTRDMzEuMTIzLDE5Ljc1NCAzNC43MDgsMjMuMzM5IDM0LjcwOCwyNy43NTRDMzQuNzA4LDMyLjE2OSAzMS4xMjMsMzUuNzU0IDI2LjcwOCwzNS43NTRDMjIuMjkyLDM1Ljc1NCAxOC43MDgsMzIuMTY5IDE4LjcwOCwyNy43NTRDMTguNzA4LDIzLjMzOSAyMi4yOTIsMTkuNzU0IDI2LjcwOCwxOS43NTRaTTI2LjcwOCwyMy43NTRDMjguOTE1LDIzLjc1NCAzMC43MDgsMjUuNTQ2IDMwLjcwOCwyNy43NTRDMzAuNzA4LDI5Ljk2MiAyOC45MTUsMzEuNzU0IDI2LjcwOCwzMS43NTRDMjQuNSwzMS43NTQgMjIuNzA4LDI5Ljk2MiAyMi43MDgsMjcuNzU0QzIyLjcwOCwyNS41NDYgMjQuNSwyMy43NTQgMjYuNzA4LDIzLjc1NFpcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuaW1hZ2Uuc3RhcnRzV2l0aChcImdzOi8vXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zcmMgPSBhd2FpdCBzdG9yYWdlLnJlZkZyb21VUkwodXNlci5pbWFnZSkuZ2V0RG93bmxvYWRVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5zcmMgPSB1c2VyLmltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hwaW4uc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjU0XCIgdmlld0JveD1cIjAgMCA1MCA1NFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxuczpzZXJpZj1cImh0dHA6Ly93d3cuc2VyaWYuY29tL1wiIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuOTk5OTk5LDAsMCwwLjk5OTk5OSwxNy4wMDExLC0xMylcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDUwTDE2LDUwTDgsNjZMMCw1MFpcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJtYXRyaXgoMS45NjQ5MSwwLDAsMS45NjQ5MSwtMzAuMDA5OSwtMjQuNTkzMSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiIHN0eWxlPVwiZmlsbDpyZ2IoMjU1LDIzOCwwKTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjQxMDU3NCwwLDAsMC40MTA1NzQsMzQuMDQ5OCwyNi43Njk0KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLC03LjI5Qy0wLjMxMSwtOC4yNDcgLTEuMTM4LC04Ljk0NCAtMi4xMzMsLTkuMDg5TC05LjIxLC0xMC4xMTdMLTEyLjM3NSwtMTYuNTI5Qy0xMi44MTksLTE3LjQzMiAtMTMuNzM4LC0xOC4wMDMgLTE0Ljc0NCwtMTguMDAzQy0xNS43NSwtMTguMDAzIC0xNi42NywtMTcuNDMyIC0xNy4xMTQsLTE2LjUzTC0yMC4yNzksLTEwLjExN0wtMjcuMzU1LC05LjA4OUMtMjguMzUyLC04Ljk0NCAtMjkuMTc5LC04LjI0NyAtMjkuNDksLTcuMjlDLTI5LjgwMSwtNi4zMzMgLTI5LjU0MSwtNS4yODMgLTI4LjgyLC00LjU4MUwtMjMuNywwLjQxTC0yNC45MDgsNy40NTlDLTI1LjA3OCw4LjQ1IC0yNC42NzIsOS40NTIgLTIzLjg1NywxMC4wNDNDLTIzLjA0MywxMC42MzUgLTIxLjk2NSwxMC43MTMgLTIxLjA3NCwxMC4yNDRMLTE0Ljc0NCw2LjkxN0wtOC40MTUsMTAuMjQ0Qy04LjAyOCwxMC40NDcgLTcuNjA2LDEwLjU0OCAtNy4xODYsMTAuNTQ4Qy02LjYzOCwxMC41NDggLTYuMDkyLDEwLjM3NyAtNS42MzIsMTAuMDQzQy00LjgxOCw5LjQ1MiAtNC40MSw4LjQ1IC00LjU4LDcuNDU4TC01Ljc4OSwwLjQxTC0wLjY2OCwtNC41ODFDMC4wNTIsLTUuMjgzIDAuMzEyLC02LjMzMyAwLC03LjI5XCIgc3R5bGU9XCJmaWxsOndoaXRlO2ZpbGwtcnVsZTpub256ZXJvO1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjLndpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IG9wYWNpdHkgPSBob3VycyA+PSA2ICYmIGhvdXJzIDwgMTggPyBcIjAuMDVcIiA6IFwiMVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3QgYWNjZW50Q29sb3IgPSBzZWxmLnVzZXIudWlkID09PSB3b3JkLmlkID8gc2VsZi5jaGFyYWN0ZXIuYWNjZW50IDogJyNmZmZmZmYnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3Qgc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGVkID8gc2VsZi5jaGFyYWN0ZXIuYWNjZW50IDogJ3JnYigyNTQsMjIxLDgwKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5saW5lU3ZnID0gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTRcIiB2aWV3Qm94PVwiMCAwIDUwIDU0XCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zOnNlcmlmPVwiaHR0cDovL3d3dy5zZXJpZi5jb20vXCIgc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjk5OTk5OSwwLDAsMC45OTk5OTksMTcuMDAxMSwtMTMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDUwTDE2LDUwTDgsNjZMMCw1MFpcIiBzdHlsZT1cImZpbGw6cmdiKDI1NSwyMzgsMCk7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDEuOTY0OTEsMCwwLDEuOTY0OTEsLTMwLjAwOTksLTI0LjU5MzEpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiIHN0eWxlPVwiZmlsbDpyZ2IoMjU1LDIzOCwwKTtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiX2NsaXAxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9jbGlwUGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGlwLXBhdGg9XCJ1cmwoI19jbGlwMSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwibWF0cml4KDAuNzkxNjY3LDAsMCwwLjc5MTY2Nyw1LjgzMjQ5LDUuMjU4MilcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyNy45OTZcIiBjeT1cIjI1LjIzOVwiIHI9XCIxMi4yMTRcIiBzdHlsZT1cImZpbGw6d2hpdGU7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiX2NsaXAyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjI3Ljk5NlwiIGN5PVwiMjUuMjM5XCIgcj1cIjEyLjIxNFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGlwLXBhdGg9XCJ1cmwoI19jbGlwMilcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIkJhY2tncm91bmRcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4wMjM4NTYsMCwwLDAuMDIzODU2LC0yLjUzOTY0LC01LjI5NjU4KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjX0ltYWdlM1wiIHg9XCI3NjdcIiB5PVwiNzY3XCIgd2lkdGg9XCIxMDI2cHhcIiBoZWlnaHQ9XCIxMDI2cHhcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPVwiX0ltYWdlM1wiIHdpZHRoPVwiMTAyNnB4XCIgaGVpZ2h0PVwiMTAyNnB4XCIgeGxpbms6aHJlZj1cImAgKyBjLnRvRGF0YVVSTCgpICsgYFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaHBpbi5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW5saW5lU3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dC5sZW5ndGggPD0gdGhpcy5tYXhJbnB1dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRIYXNFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0SGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cGxvYWQ6IGFzeW5jIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVVdWlkKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvY2hyb21lLXBsYXRmb3JtLWFuYWx5dGljcy9ibG9iL21hc3Rlci9zcmMvaW50ZXJuYWwvaWRlbnRpZmllci5qc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IEZPUk1BVDogc3RyaW5nID0gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcnMgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnNwbGl0KFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaGFyc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInhcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1tpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzW2ldID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgOCkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBzdG9yYWdlLnJlZigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGV2ZW50LnRhcmdldC5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1VwbG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLnNvcnQoKHgsIHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeC5uYW1lID4geS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeC5uYW1lIDwgeS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5jaGlsZChgaW1hZ2VzLyR7Z2VuZXJhdGVVdWlkKCl9YCkucHV0KGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRUYXNrLm9uKFwic3RhdGVfY2hhbmdlZFwiLCBmdW5jdGlvbiAoc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgLyBmaWxlcy5sZW5ndGggKyBwYXRocy5sZW5ndGggLyBmaWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aHMucHVzaCh1cGxvYWRUYXNrLnNuYXBzaG90LnJlZi5mdWxsUGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL2ltYWdlc1wiKS5wdXNoKHsgcGF0aHM6IHBhdGhzLCB0aW1lc3RhbXA6IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXJuOiBhc3luYyBmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQpXFx9L2csIGZ1bmN0aW9uIChtLCBjKSB7IHJldHVybiBhcmdzW3BhcnNlSW50KGMpICsgMV0gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJhdHRyaWJ1dGVzXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgd29yZC5uYW1lKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBhdHRyaWJ1dGUsIHZhbHVlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZSwgdmFsdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JkID0geyBuYW1lOiB3b3JkLm5hbWUsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFtcInVzZXJcIl0gPSB3b3JkLnVzZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hhcmU6IGFzeW5jIGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9oYXNoID0gdGhpcy5lbmNvZGVHZW9oYXNoKGxvY2F0aW9uLmxhdGl0dWRlLCBsb2NhdGlvbi5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHsgaWQ6IHRoaXMudXNlci51aWQsIG5hbWU6IHRoaXMudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHRoaXMudXNlci5waG90b1VSTCB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHMvXCIgKyB3b3JkLm5hbWUpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZVJlcXVpcmVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSBpbiBjdXJyZW50LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGUudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsZXRlUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IHsgYXR0cmlidXRlczoge30gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB3b3JkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSBpbiBjdXJyZW50LmF0dHJpYnV0ZXMgJiYgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IGF0dHJpYnV0ZXM6IHt9LCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IHRpbWVzdGFtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widXNlclwiXSA9IHsgaWQ6IHdvcmQudXNlci5pZCwgbmFtZTogd29yZC51c2VyLm5hbWUsIGltYWdlOiB3b3JkLnVzZXIuaW1hZ2UgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9LCBhc3luYyBmdW5jdGlvbiAoZXJyb3IsIGNvbW1pdHRlZCwgc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGljdGlvbmFyeSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPT09IFwibnVtYmVyXCIgJiYgZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV0gPiAwICYmIHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChkaWN0aW9uYXJ5LmF0dHJpYnV0ZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSB0aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgc2VsZi51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvY291bnRcIikudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY291bnQgfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZWxmLnByZXBhcmUoc2VsZi5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkxlYXJuZWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJNZXNzYWdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkLm5hbWUpLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuaXNNdXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRyZWZzLnR3aW5rbGUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ1c2VyXCIgaW4gd29yZCA9PT0gZmFsc2UgfHwgd29yZC51c2VyLmlkID09PSBzZWxmLnVzZXIudWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrcy9cIiArIGF3YWl0IHNlbGYuZGlnZXN0TWVzc2FnZShgJHtzZWxmLnVzZXIudWlkfSYke3dvcmQubmFtZX1gKSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJrZXlcIl0gPSBgJHtnZW9oYXNofSR7dGltZXN0YW1wfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wibG9jYXRpb25cIl0gPSB7IGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJnZW9oYXNoXCJdID0gZ2VvaGFzaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ0aW1lc3RhbXBcIl0gPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0geyBrZXk6IGAke2dlb2hhc2h9JHt0aW1lc3RhbXB9YCwgbmFtZTogd29yZC5uYW1lLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlIH0sIGdlb2hhc2g6IGdlb2hhc2gsIHVzZXI6IHVzZXIsIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3Rpb25hcnkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXR0cmlidXRlcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1trZXldID0gZGljdGlvbmFyeS5hdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJhdHRyaWJ1dGVzXCJdID0gYXR0cmlidXRlcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlLCBjLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBkYXRhYmFzZS5yZWYoYCR7ZGF0YWJhc2VSb290fS90cmFja3NgKS5wdXNoKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZi5zZXQoeyBrZXk6IGdlb2hhc2ggKyB0aW1lc3RhbXAsIG5hbWU6IHdvcmQubmFtZSwgYXR0cmlidXRlczogd29yZC5hdHRyaWJ1dGVzLCBsb2NhdGlvbjogeyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfSwgZ2VvaGFzaDogZ2VvaGFzaCwgdGltZXN0YW1wOiB0aW1lc3RhbXAsIHVzZXI6IHsgaWQ6IHNlbGYudXNlci51aWQsIG5hbWU6IHNlbGYudXNlci5kaXNwbGF5TmFtZSwgaW1hZ2U6IHNlbGYudXNlci5waG90b1VSTCB9IH0sIGFzeW5jIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgJiYgY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3RyYWNrcy9cIiArIGF3YWl0IHNlbGYuZGlnZXN0TWVzc2FnZShgJHtzZWxmLnVzZXIudWlkfSYke3dvcmQubmFtZX1gKSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlLCBjLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNTdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBlcnJvci5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwidXNlclwiIGluIHdvcmQgPT09IGZhbHNlIHx8IHdvcmQudXNlci5pZCA9PT0gc2VsZi51c2VyLnVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdHJhY2tzL1wiICsgYXdhaXQgc2VsZi5kaWdlc3RNZXNzYWdlKGAke3NlbGYudXNlci51aWR9JiR7d29yZC5uYW1lfWApKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHsga2V5OiBgJHtnZW9oYXNofSR7dGltZXN0YW1wfWAsIG5hbWU6IHdvcmQubmFtZSwgbG9jYXRpb246IHsgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSB9LCBnZW9oYXNoOiBnZW9oYXNoLCBhdHRyaWJ1dGVzOiB7fSwgdXNlcjogdXNlciwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2Ygd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlLCBjLCBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHNlbGYuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHNlbGYuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbmV4dDogYXN5bmMgZnVuY3Rpb24gKHN0YXJ0QXQsIGxpbWl0ID0gNTApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRBdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdGhpcy51c2VyLnVpZCArIFwiL2RpY3Rpb25hcnkvd29yZHNcIikub3JkZXJCeUtleSgpLmxpbWl0VG9GaXJzdChsaW1pdCArIDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkuc3RhcnRBdChzdGFydEF0KS5saW1pdFRvRmlyc3QobGltaXQgKyAxKS5vbmNlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwid29yZHNcIiBpbiB0aGlzLm1vZGUgJiYgc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlLndvcmRzICE9PSBudWxsICYmIHRoaXMubW9kZS53b3Jkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS5pbmRleGVzLnB1c2godGhpcy5tb2RlLndvcmRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLndvcmRzLnB1c2goXCJ1c2VyXCIgaW4gd29yZHNbbmFtZV0gPyB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMsIHVzZXI6IHdvcmRzW25hbWVdLnVzZXIgfSA6IHsgbmFtZTogbmFtZSwgYXR0cmlidXRlczogd29yZHNbbmFtZV0uYXR0cmlidXRlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUud29yZHMubGVuZ3RoID09PSBsaW1pdCArIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSB0aGlzLm1vZGUud29yZHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJldmlvdXM6IGFzeW5jIGZ1bmN0aW9uIChzdGFydEF0LCBsaW1pdCA9IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5S2V5KCkuc3RhcnRBdChzdGFydEF0KS5saW1pdFRvRmlyc3QobGltaXQpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ3b3Jkc1wiIGluIHRoaXMubW9kZSAmJiBzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUud29yZHMgIT09IG51bGwgJiYgdGhpcy5tb2RlLndvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlLm5leHQgPSB0aGlzLm1vZGUud29yZHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGUud29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZS53b3Jkcy5wdXNoKFwidXNlclwiIGluIHdvcmRzW25hbWVdID8geyBuYW1lOiBuYW1lLCBhdHRyaWJ1dGVzOiB3b3Jkc1tuYW1lXS5hdHRyaWJ1dGVzLCB1c2VyOiB3b3Jkc1tuYW1lXS51c2VyIH0gOiB7IG5hbWU6IG5hbWUsIGF0dHJpYnV0ZXM6IHdvcmRzW25hbWVdLmF0dHJpYnV0ZXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaWdlc3RNZXNzYWdlOiBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnVWludDggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrMjogYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZClcXH0vZywgZnVuY3Rpb24gKG0sIGMpIHsgcmV0dXJuIGFyZ3NbcGFyc2VJbnQoYykgKyAxXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBldmVudC50YXJnZXQuZGF0YXNldC5hdHRyaWJ1dGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB7IGlkOiB0aGlzLnVzZXIudWlkLCBuYW1lOiB0aGlzLnVzZXIuZGlzcGxheU5hbWUsIGltYWdlOiB0aGlzLnVzZXIucGhvdG9VUkwgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZCBpbiB0aGlzLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMud29yZERpY3Rpb25hcnlbZXZlbnQudGFyZ2V0LmRhdGFzZXQud29yZF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldLndvcmRzLnNvbWUoKHgpID0+IHggPT09IGV2ZW50LnRhcmdldC5kYXRhc2V0LndvcmQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHRoaXMudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgbmFtZSkudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGV0ZVJlcXVpcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGEgaW4gY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhICE9IGF0dHJpYnV0ZSAmJiB0eXBlb2YgY3VycmVudFthXSA9PT0gXCJudW1iZXJcIiAmJiBjdXJyZW50W2FdID4gMCAmJiBzZWxmLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFthdHRyaWJ1dGVdID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1widGltZXN0YW1wXCJdID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBzZWxmLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhICE9IGF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbYV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50W1wibmFtZVwiXSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFthdHRyaWJ1dGVdID0gY3VycmVudFtcInRpbWVzdGFtcFwiXSA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwidXNlclwiIGluIGN1cnJlbnQgPT09IGZhbHNlIHx8IGN1cnJlbnRbXCJ1c2VyXCJdLmlkID09PSB1c2VyLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbXCJ1c2VyXCJdID0gdXNlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1pdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lc3RhbXBzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGljdGlvbmFyeVtrZXldID09PSBcIm51bWJlclwiICYmIGRpY3Rpb25hcnlba2V5XSA+IDAgJiYgc2VsZi5hdHRyaWJ1dGVzLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wcy5wdXNoKGRpY3Rpb25hcnlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSAmJiB0aW1lc3RhbXBzWzBdID09PSB0aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb3VudCB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHNlbGYucHJlcGFyZShzZWxmLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50eXBlID09PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RpZnkoeyB0ZXh0OiBmb3JtYXQob2JqLnRleHQsIGRpY3Rpb25hcnlbXCJuYW1lXCJdKSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kcmVmcy50d2lua2xlLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi53b3JkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXJuMjogYXN5bmMgZnVuY3Rpb24gKHRlcm0pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXHsoXFxkKVxcfS9nLCBmdW5jdGlvbiAobSwgYykgeyByZXR1cm4gYXJnc1twYXJzZUludChjKSArIDFdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZTogYXR0cmlidXRlLCB2YWx1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAodGVybSkgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geyB1c2VyOiB0ZXJtLnVzZXIsIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCkgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGVybS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVybS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVthdHRyaWJ1dGVdID0gdGVybS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbYXR0cmlidXRlXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjb21taXR0ZWQsIHNuYXBzaG90XSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHNlbGYudXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdGVybS5uYW1lKS50cmFuc2FjdGlvbihmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbY29tbWl0dGVkLCBzbmFwc2hvdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5uYW1lIGluIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0ZXJtLnVzZXIuaWQgKyBcIi9zdGFyc1wiKS50cmFuc2FjdGlvbihmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvdW50IHx8IDApICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiTGVhcm5lZFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB3b3JkW1wibmFtZVwiXSksIGFjY2VudDogdGhpcy5jaGFyYWN0ZXIuYWNjZW50LCBpbWFnZTogdGhpcy5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkID0gc25hcHNob3QudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZFthdHRyaWJ1dGUubmFtZV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVybSA9IHRlcm0ubmFtZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB0aGlzLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRlcm0pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLm5hbWUgaW4gd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkW2F0dHJpYnV0ZS5uYW1lXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JkID0geyBuYW1lOiB0ZXJtLCBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJMZWFyblwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyB0eXBlOiBvYmoudHlwZSwgc3BlZWQ6IG9iai5zcGVlZCwgZHVyYXRpb246IG9iai5kdXJhdGlvbiwgdGV4dDogZm9ybWF0KG9iai50ZXh0LCB0ZXJtKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhY3RpdmF0ZTogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWRsZVRpbWUgPSBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGVkRG9jdW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9yYW5kb20obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBhcnJheS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFba10gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHNodWZmbGUodGhpcy5jYWNoZWREb2N1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50UXVldWUucHVzaChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnRhbGsodGhpcy51c2VyLnVpZCwgZG9jdW1lbnQuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQpO1xyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFsazogYXN5bmMgZnVuY3Rpb24gKHVzZXJJZCwgdG9rZW5zID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZXMgPSB0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiQWN0aXZhdGVcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFN0YXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ZXIgPSBuZXcgVGlueVNlZ21lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlblNldCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNodWZmbGUoc2VxdWVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVwYXJlZFNlcXVlbmNlID0gdGhpcy5wcmVwYXJlKFtzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0Fib3J0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBwcmVwYXJlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBBcnJheS5pc0FycmF5KG8udGV4dCkgPyBvLnRleHQgOiBzZWdtZW50ZXIuc2VnbWVudChvLnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgdGhpcy5nZW5lcmF0ZSh1c2VySWQsIG9iai50ZXh0LCB0b2tlbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2FjaGVdID0gdGVtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5sZW5ndGggPiAxICYmICF0b2tlblNldC5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiBpbiB0aGlzLndvcmREaWN0aW9uYXJ5ID09PSBmYWxzZSB8fCB0aW1lc3RhbXAgLSB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkcy9cIiArIHRva2VuKS5vbmNlKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmQgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAod29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pID09PSBcIm51bWJlclwiICYmIHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdID4gMCAmJiB0aGlzLmF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHByZXBhcmVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIk1lc3NhZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKHsgdHlwZTogb2JqLnR5cGUsIHNwZWVkOiBvYmouc3BlZWQsIGR1cmF0aW9uOiBvYmouZHVyYXRpb24sIHRleHQ6IHRleHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVF1ZXVlLnB1c2goc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcyA9IHRlbXBTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5wcmVwYXJlKHNlcXVlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKHVzZXJJZCwgb2JqLnRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNhY2hlXSA9IHRlbXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IHR5cGU6IG9iai50eXBlLCBzcGVlZDogb2JqLnNwZWVkLCBkdXJhdGlvbjogb2JqLmR1cmF0aW9uLCB0ZXh0OiB0ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2VuZXJhdGU6IGFzeW5jIGZ1bmN0aW9uICh1c2VySWQsIG1lc3NhZ2UsIGhpbnRzID0gW10pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNob2ljZShwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwcm9iYWJpbGl0eSBvZiBwcm9iYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdW0gPD0gciAmJiByIDwgc3VtICsgcHJvYmFiaWxpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gcHJvYmFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc29mdG1heCh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMC4wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhbaV0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gTWF0aC5leHAoeFtpXSAtIG1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeS5wdXNoKE1hdGguZXhwKHhbaV0gLSBtYXgpIC8gc3VtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IobmV3IERhdGUoKSAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IDYwICogNjA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudGVyID0gbmV3IFRpbnlTZWdtZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlbnMgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2UpID8gbWVzc2FnZSA6IHNlZ21lbnRlci5zZWdtZW50KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpbnREaWN0aW9uYXJ5ID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5TZXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAoXCJbLiMkXFxcXFtcXFxcXV1cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FjaERpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC02KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJlYW1XaWR0aCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlcyA9IFt7IHNlcXVlbmNlOiBbXSwgc2NvcmU6IDEuMCB9XVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgaGludHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGhpcy53b3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dID0geyBhdHRyaWJ1dGVzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHdvcmQuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHdvcmQuYXR0cmlidXRlc1thdHRyaWJ1dGVdKSA9PT0gXCJudW1iZXJcIiAmJiB3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA+IDAgJiYgdGhpcy5hdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLndvcmREaWN0aW9uYXJ5W3Rva2VuXS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50RGljdGlvbmFyeVthdHRyaWJ1dGVdID0gW3Rva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW5TZXQuaW5jbHVkZXModG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlIGluIGhpbnREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGhpbnREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2goa2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGhpcy50YWdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHRhZy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh0YWcuc2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGVwc2lsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0udGltZXN0YW1wID49IHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlcklkICsgXCIvZGljdGlvbmFyeS93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoYGF0dHJpYnV0ZXMvJHthdHRyaWJ1dGV9YCkubGltaXRUb0xhc3QoMTAwKS5zdGFydEF0KDEpLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeVthdHRyaWJ1dGVdID0geyB3b3JkczogW10sIHRpbWVzdGFtcDogdGltZXN0YW1wIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0ud29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybXMuaW5jbHVkZXMod29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNOZXcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHdvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQgPT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtcy5sZW5ndGggPiAwICYmIHNjb3Jlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdGllcyA9IHNvZnRtYXgoc2NvcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb2JhYmlsaXRpZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZSA9IFtdLmNvbmNhdChzZXF1ZW5jZXNbaV0uc2VxdWVuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnB1c2goeyBpbmRleDogaW5kZXgsIHRlcm06IHRlcm1zW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHsgc2VxdWVuY2U6IHNlcXVlbmNlLCBzY29yZTogc2VxdWVuY2VzW2ldLnNjb3JlICogcHJvYmFiaWxpdGllc1tqXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgdGhpcy50YWtlKGNhbmRpZGF0ZXMuc29ydCgoeCwgeSkgPT4geS5zY29yZSAtIHguc2NvcmUpLCBiZWFtV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyZWdleC50ZXN0KHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIHRoaXMud29yZERpY3Rpb25hcnkgPT09IGZhbHNlIHx8IHRpbWVzdGFtcCAtIHRoaXMud29yZERpY3Rpb25hcnlbdG9rZW5dLnRpbWVzdGFtcCA+PSB0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzL1wiICsgdG9rZW4pLm9uY2UoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0gPSB7IGF0dHJpYnV0ZXM6IFtdLCB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgaW4gd29yZC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh3b3JkLmF0dHJpYnV0ZXNbYXR0cmlidXRlXSkgPT09IFwibnVtYmVyXCIgJiYgd29yZC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPiAwICYmIHRoaXMuYXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy53b3JkRGljdGlvbmFyeVt0b2tlbl0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gaGludERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgaGludERpY3Rpb25hcnlbYXR0cmlidXRlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybXMucHVzaChrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGFnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHRhZy5zY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2goZXBzaWxvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSBpbiB0aGlzLnJldmVyc2VXb3JkRGljdGlvbmFyeSA9PT0gZmFsc2UgfHwgdGltZXN0YW1wIC0gdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS50aW1lc3RhbXAgPj0gdGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyB1c2VySWQgKyBcIi9kaWN0aW9uYXJ5L3dvcmRzXCIpLm9yZGVyQnlDaGlsZChgYXR0cmlidXRlcy8ke2F0dHJpYnV0ZX1gKS5saW1pdFRvTGFzdCgxMDApLnN0YXJ0QXQoMSkub25jZShcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2F0dHJpYnV0ZV0gPSB7IHdvcmRzOiBbXSwgdGltZXN0YW1wOiB0aW1lc3RhbXAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2YgdGhpcy5yZXZlcnNlV29yZERpY3Rpb25hcnlbYXR0cmlidXRlXS53b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtcy5pbmNsdWRlcyh3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2god29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PSB0YWcubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnB1c2godGFnLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZXMucHVzaChlcHNpbG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDAgJiYgc2NvcmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJpbGl0aWVzID0gc29mdG1heChzY29yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvYmFiaWxpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlcXVlbmNlID0gW10uY29uY2F0KHNlcXVlbmNlc1tpXS5zZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UucHVzaCh7IGluZGV4OiBpbmRleCwgdGVybTogdGVybXNbal0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyBzZXF1ZW5jZTogc2VxdWVuY2UsIHNjb3JlOiBzZXF1ZW5jZXNbaV0uc2NvcmUgKiBwcm9iYWJpbGl0aWVzW2pdIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0aGlzLnRha2UoY2FuZGlkYXRlcy5zb3J0KCh4LCB5KSA9PiB5LnNjb3JlIC0geC5zY29yZSksIGJlYW1XaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuU2V0LnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gc2VxdWVuY2VzW2Nob2ljZShzb2Z0bWF4KHNlcXVlbmNlcy5tYXAoeCA9PiB4LnNjb3JlKSkpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gaW4gY2FjaERpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoRGljdGlvbmFyeVt0b2tlbnNbaV1dID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcy5zZXF1ZW5jZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VxdWVuY2Vbal0uaW5kZXggPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0gPT0gcy5zZXF1ZW5jZVtqXS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hEaWN0aW9uYXJ5W3Rva2Vuc1tpXV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaERpY3Rpb25hcnlbdG9rZW5zW2ldXSA9IHMuc2VxdWVuY2Vbal0udGVybTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzLnNlcXVlbmNlW2pdLnRlcm07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0ZXh0LCBjYWNoRGljdGlvbmFyeV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdGlmeTogZnVuY3Rpb24gKGRhdGEsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtcImlkXCJdID0gd2luZG93LnNldFRpbWVvdXQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYubm90aWZpY2F0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25zW2ldLmlkID09PSBkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24sIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy51bnNoaWZ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBibGluZGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBbXS5jb25jYXQoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IF9yYW5kb20oMCwgbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBhW25dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbbl0gPSBhW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiBzaHVmZmxlKHRoaXMucmVjZW50SW1hZ2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5wdXNoKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZXNRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBpbWFnZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEltYWdlcy5wdXNoKHsgaWQ6IGltYWdlLmlkLCB1cmw6IGF3YWl0IHN0b3JhZ2UucmVmKCkuY2hpbGQocGF0aCkuZ2V0RG93bmxvYWRVUkwoKSwgdGltZXN0YW1wOiBpbWFnZS50aW1lc3RhbXAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGltYWdlLnRhZ3MuZmlsdGVyKCh4KSA9PiB4ICE9PSB0aGlzLmNoYXJhY3Rlci5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW1hZ2Ugb2YgdGhpcy5wcmVsb2FkSW1hZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLnVybCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VbXCJpc0xvYWRlZFwiXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKFwiaXNMb2FkZWRcIiBpbiBpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbWFnZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGltYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2VzLnNwbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxpbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbWFnZSBvZiB0aGlzLnByZWxvYWRJbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UudXJsID09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVtcImlzTG9hZGVkXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoXCJpc0xvYWRlZFwiIGluIGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMucHJlbG9hZEltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltYWdlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogaW1hZ2UudGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbGluZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTI6IGFzeW5jIGZ1bmN0aW9uIChkYXRhLCBtYXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJlZERvY3VtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybUZyZXF1ZW5jaWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3kgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDEyICogNjAgKiA2MCAqIDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZURpY3Rpb25hcnkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4U2NvcmUgPSBlcHNpbG9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidGFnc1wiIGluIGRhdGFba2V5XSAmJiBkYXRhW2tleV0udGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1TZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2goeyB0b2tlbnM6IGRhdGFba2V5XS50YWdzLCB0aW1lc3RhbXA6IGRhdGFba2V5XS50aW1lc3RhbXAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZGF0YVtrZXldLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtU2V0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuIGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVt0b2tlbl0gKz0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lbdG9rZW5dID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1TZXQucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZURvY3VtZW50RnJlcXVlbmN5W2tleV0gPSBNYXRoLmxvZyhkb2N1bWVudHMubGVuZ3RoIC8gKGludmVyc2VEb2N1bWVudEZyZXF1ZW5jeVtrZXldICsgZXBzaWxvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnRpbWVzdGFtcCAqIDEwMDAgPiBiYXNlVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWREb2N1bWVudHMubGVuZ3RoIDwgbGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWF4KGRvY3VtZW50cy5sZW5ndGggLSBsaW1pdCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREb2N1bWVudHMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkb2N1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSBtaW47IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLnVuc2hpZnQoZG9jdW1lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBmaWx0ZXJlZERvY3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRmID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBkb2N1bWVudC50b2tlbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gaW4gdGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZbdG9rZW5dICs9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Zlt0b2tlbl0gPSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGZba2V5XSAvPSBkb2N1bWVudC50b2tlbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gc2NvcmVEaWN0aW9uYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybUZyZXF1ZW5jaWVzLnB1c2godGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVybUZyZXF1ZW5jeSBvZiB0ZXJtRnJlcXVlbmNpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRlcm1GcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGZpZGYgPSB0ZXJtRnJlcXVlbmN5W2tleV0gKiBpbnZlcnNlRG9jdW1lbnRGcmVxdWVuY3lba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZmlkZiA+IHNjb3JlRGljdGlvbmFyeVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpY3Rpb25hcnlba2V5XSA9IHRmaWRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY29yZURpY3Rpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMSAmJiBrZXkgIT0gXCIuLi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHsgdGVybToga2V5LCB2YWx1ZTogc2NvcmVEaWN0aW9uYXJ5W2tleV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB5LnZhbHVlIC0geC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmVzLmxlbmd0aCA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVzLnNwbGljZShtYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlLnZhbHVlID4gbWF4U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHNjb3JlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUudmFsdWUgLz0gbWF4U2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC50ZXJtID4geS50ZXJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHgudGVybSA8IHkudGVybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNjb3Jlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFncy5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MucHVzaCh7IGluZGV4OiBpLCBuYW1lOiByZXN1bHRzW2ldLnRlcm0sIHNjb3JlOiByZXN1bHRzW2ldLnZhbHVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHsgdGV4dDogZS5tZXNzYWdlLCBhY2NlbnQ6IHRoaXMuY2hhcmFjdGVyLmFjY2VudCwgaW1hZ2U6IHRoaXMuY2hhcmFjdGVyLmltYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsVG9FbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxUaW1lb3V0SUQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0SUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGV2ZW50KS5mb3JtYXQoXCJMVFwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RhcnQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVuZDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aWNrZXJVcGRhdGVkOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRpY2tlcldpZHRoID0gTWF0aC5taW4od2lkdGggLyAyLCBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQ+LmNvbHVtbnM6bGFzdC1vZi10eXBlPi5jb2x1bW4+LmNvbnRyb2wgLmxldmVsXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmFuZ2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goY29sdW1ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRha2U6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IFtdLmNvbmNhdChjb2xsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoY291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoY29sbGVjdGlvbikucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IodGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0IC8gODY0MDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHQgLyAzNjAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdCAlIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXlzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgXCJkXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG91cnMgKyBcImhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgXCJtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZHMgKyBcInNcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlnZXN0TWVzc2FnZTogYXN5bmMgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ1VpbnQ4ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuY29kZSBhcyAodXRmLTgpIFVpbnQ4QXJyYXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgbXNnVWludDgpOyAgICAgICAgICAgLy8gaGFzaCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7ICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7IC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoSGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXREaXN0YW5jZTogZnVuY3Rpb24gKGxhdDEsIGxvbjEsIGxhdDIsIGxvbjIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG4gICAgICAgICAgICAgICAgdmFyIGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRMb24gPSB0aGlzLmRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPVxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW5jb2RlR2VvaGFzaDogZnVuY3Rpb24gKGxhdGl0dWRlLCBsb25naXR1ZGUsIHByZWNpc2lvbiA9IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCSVRTID0gWzE2LCA4LCA0LCAyLCAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJBU0UzMiA9IFwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIjtcclxuICAgICAgICAgICAgICAgIHZhciBpc19ldmVuID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBsb24gPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBiaXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBnZW9oYXNoID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDsgbGF0WzFdID0gOTAuMDtcclxuICAgICAgICAgICAgICAgIGxvblswXSA9IC0xODAuMDsgbG9uWzFdID0gMTgwLjA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGdlb2hhc2gubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdpdHVkZSA+IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggfD0gQklUU1tiaXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gbWlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvblsxXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobGF0WzBdICsgbGF0WzFdKSAvIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0aXR1ZGUgPiBtaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoIHw9IEJJVFNbYml0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IG1pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRbMV0gPSBtaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXQgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2hhc2ggKz0gQkFTRTMyW2NoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvaGFzaDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVjb2RlR2VvaGFzaDogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEJJVFMgPSBbMTYsIDgsIDQsIDIsIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQkFTRTMyID0gXCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2V2ZW4gPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdF9lcnIgPSA5MC4wO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbl9lcnIgPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXRbMF0gPSAtOTAuMDtcclxuICAgICAgICAgICAgICAgIGxhdFsxXSA9IDkwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMF0gPSAtMTgwLjA7XHJcbiAgICAgICAgICAgICAgICBsb25bMV0gPSAxODAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2hhc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdlb2hhc2hbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gQkFTRTMyLmluZGV4T2YoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBCSVRTW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2V2ZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbl9lcnIgLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgJiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uWzBdID0gKGxvblswXSArIGxvblsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25bMV0gPSAobG9uWzBdICsgbG9uWzFdKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRfZXJyIC89IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkICYgbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdFswXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0WzFdID0gKGxhdFswXSArIGxhdFsxXSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ldmVuID0gIWlzX2V2ZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxhdFsyXSA9IChsYXRbMF0gKyBsYXRbMV0pIC8gMjtcclxuICAgICAgICAgICAgICAgIGxvblsyXSA9IChsb25bMF0gKyBsb25bMV0pIC8gMjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsYXRbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb25bMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wbGVmdDogeyBsYXRpdHVkZTogbGF0WzBdLCBsb25naXR1ZGU6IGxvblswXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcHJpZ2h0OiB7IGxhdGl0dWRlOiBsYXRbMV0sIGxvbmdpdHVkZTogbG9uWzBdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tcmlnaHQ6IHsgbGF0aXR1ZGU6IGxhdFsxXSwgbG9uZ2l0dWRlOiBsb25bMV0gfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB7IGxhdGl0dWRlOiBsYXRbMF0sIGxvbmdpdHVkZTogbG9uWzFdIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldE5laWdoYm9yczogZnVuY3Rpb24gKGdlb2hhc2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0R2VvaGFzaCA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoZ2VvaGFzaCwgJ2xlZnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChnZW9oYXNoLCAndG9wJyksXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogcmlnaHRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRHZW9oYXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcGxlZnQ6IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQobGVmdEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3ByaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICd0b3AnKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21yaWdodDogdGhpcy5jYWxjdWxhdGVBZGphY2VudChyaWdodEdlb2hhc2gsICdib3R0b20nKSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21sZWZ0OiB0aGlzLmNhbGN1bGF0ZUFkamFjZW50KGxlZnRHZW9oYXNoLCAnYm90dG9tJylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGN1bGF0ZUFkamFjZW50OiBmdW5jdGlvbiAoc3JjSGFzaCwgZGlyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCQVNFMzIgPSBcIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBORUlHSEJPUlMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsgZXZlbjogXCJiYzAxZmc0NTIzODk2N2RldXZoanl6bnBrbXN0cXJ3eFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeyBldmVuOiBcIjIzODk2N2RlYmMwMWZnNDVrbXN0cXJ3eHV2aGp5em5wXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHsgZXZlbjogXCJwMHIyMTQzNng4emI5ZGNmNWg3a2pubXFlc2d1dHd2eVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7IGV2ZW46IFwiMTQzNjVoN2s5ZGNmZXNndWpubXFwMHIydHd2eXg4emJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgQk9SREVSUyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogeyBldmVuOiBcImJjZmd1dnl6XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IGV2ZW46IFwiMDE0NWhqbnBcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeyBldmVuOiBcInByeHpcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogeyBldmVuOiBcIjAyOGJcIiB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy5ib3R0b20ub2RkID0gTkVJR0hCT1JTLmxlZnQuZXZlbjtcclxuICAgICAgICAgICAgICAgIE5FSUdIQk9SUy50b3Aub2RkID0gTkVJR0hCT1JTLnJpZ2h0LmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMubGVmdC5vZGQgPSBORUlHSEJPUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBORUlHSEJPUlMucmlnaHQub2RkID0gTkVJR0hCT1JTLnRvcC5ldmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIEJPUkRFUlMuYm90dG9tLm9kZCA9IEJPUkRFUlMubGVmdC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy50b3Aub2RkID0gQk9SREVSUy5yaWdodC5ldmVuO1xyXG4gICAgICAgICAgICAgICAgQk9SREVSUy5sZWZ0Lm9kZCA9IEJPUkRFUlMuYm90dG9tLmV2ZW47XHJcbiAgICAgICAgICAgICAgICBCT1JERVJTLnJpZ2h0Lm9kZCA9IEJPUkRFUlMudG9wLmV2ZW47XHJcblxyXG4gICAgICAgICAgICAgICAgc3JjSGFzaCA9IHNyY0hhc2gudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdENociA9IHNyY0hhc2guY2hhckF0KHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IChzcmNIYXNoLmxlbmd0aCAlIDIpID8gJ29kZCcgOiAnZXZlbic7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IHNyY0hhc2guc3Vic3RyaW5nKDAsIHNyY0hhc2gubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEJPUkRFUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IHRoaXMuY2FsY3VsYXRlQWRqYWNlbnQoYmFzZSwgZGlyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIEJBU0UzMltORUlHSEJPUlNbZGlyXVt0eXBlXS5pbmRleE9mKGxhc3RDaHIpXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKHNlcXVlbmNlcywgc3RhdGUgPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfcmFuZG9tKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjaG9vc2VkU2VxdWVuY2VzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxhdHRlbmVkU2VxdWVuY2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2VxdWVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFN0YXRlID0gc3RhdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCAmJiBzLm5hbWUgaW4gdGhpcy5zdGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YXRlID0gdGhpcy5zdGF0ZXNbcy5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RhdGUgIT09IG51bGwgJiYgXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzLnN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh0ZW1wU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hvb3NlZFNlcXVlbmNlcy5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIGNob29zZWRTZXF1ZW5jZXNbX3JhbmRvbSgwLCBjaG9vc2VkU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbcy5uYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gcXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gb2JqID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZWRTZXF1ZW5jZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbGFibGVTZXF1ZW5jZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuY2hhcmFjdGVyLnNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VxdWVuY2VTdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhzLCBvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3BwZWRTZXF1ZW5jZSA9IHNlcXVlbmNlU3RhY2sucG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNlcXVlbmNlU3RhY2tbc2VxdWVuY2VTdGFjay5sZW5ndGggLSAxXS5zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcIlNlcXVlbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcFNlcXVlbmNlIG9mIHN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFNlcXVlbmNlID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFN0YWNrLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSBwb3BwZWRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0ZW1wU3RhY2sucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXF1ZW5jZVwiIGluIHBvcHBlZFNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc05ldyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBTZXF1ZW5jZSBvZiBzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBTZXF1ZW5jZSA9PT0gcG9wcGVkU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBvcHBlZFNlcXVlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNlcXVlbmNlU3RhY2subGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZWRTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RhdGVcIiBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXNbb2JqLm5hbWVdID0gb2JqLnN0YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRyYWNlZFNlcXVlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSA9PSBvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAocy5zdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChvYmouc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0cmFjZWRTZXF1ZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLm5hbWUgPT0gb2JqLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdGF0ZVwiIGluIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubmFtZSBpbiB0aGlzLnN0YXRlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHMuc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRoaXMuc3RhdGVzW3MubmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGFibGVTZXF1ZW5jZXMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBjYWxsYWJsZVNlcXVlbmNlc1tfcmFuZG9tKDAsIGNhbGxhYmxlU2VxdWVuY2VzLmxlbmd0aCldLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zcGxpY2UoaW5kZXgsIDAsIG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5lZFNlcXVlbmNlLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdHRlbmVkU2VxdWVuY2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFNlcXVlbmNlU3RhY2s6IGZ1bmN0aW9uIChzb3VyY2VTZXF1ZW5jZSwgdGFyZ2V0U2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXF1ZW5jZVN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHNvdXJjZVNlcXVlbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VTdGFja1tzZXF1ZW5jZVN0YWNrLmxlbmd0aCAtIDFdICE9PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNlcXVlbmNlXCIgaW4gc291cmNlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHNvdXJjZVNlcXVlbmNlLnNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiU2VxdWVuY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuZ2V0U2VxdWVuY2VTdGFjayhvLCB0YXJnZXRTZXF1ZW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSB0YXJnZXRTZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YWNrID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhY2sucHVzaChzdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wdXNoKHRlbXBTdGFjay5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRlbXBTdGFjay5sZW5ndGggPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZVN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VxdWVuY2VTdGFjaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5pbWF0ZTogZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9ICh0aW1lc3RhbXAgLSB0aGlzLmVsYXBzZWQpIC8gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNEZWZvcm1pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uRGF0YSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlUXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLnNlcXVlbmNlUXVldWVbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSArPSBkZWx0YVRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZVRpbWUgKz0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXF1ZW5jZVF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZhdGVUaW1lID49IGFjdGl2YXRlVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAodGhpcy5yZWNlbnRJbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuaXNCbGluZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWREb2N1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFF1ZXVlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX3JhbmRvbShtaW4sIG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gW10uY29uY2F0KGFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBfcmFuZG9tKDAsIG4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGFbbl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW25dID0gYVtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtrXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIHNodWZmbGUodGhpcy5jYWNoZWREb2N1bWVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFF1ZXVlLnB1c2goZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRRdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMudXNlci51aWQsIGRvY3VtZW50LmZpbHRlcigoeCkgPT4geCAhPT0gdGhpcy5jaGFyYWN0ZXIubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWUgPSBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkbGVUaW1lID49IGJsaW5rVGhyZXNob2xkIHx8IGFuaW1hdGlvbkRhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlUXVldWUucHVzaCh0aGlzLnByZXBhcmUodGhpcy5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIklkbGVcIikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZSA9IDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZVF1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiQW5pbWF0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZXF1ZW5jZVswXS50eXBlID09IFwiTWVzc2FnZVwiICYmIHRoaXMubWVzc2FnZSA9PT0gbnVsbCAmJiAhaXNBbmltYXRpbmcgJiYgIWlzRGVmb3JtaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0geyB0aW1lOiAwLCBkdXJhdGlvbjogc2VxdWVuY2VbMF0uZHVyYXRpb24sIHR5cGU6IHsgZWxhcHNlZDogLTEsIHNwZWVkOiBzZXF1ZW5jZVswXS5zcGVlZCwgcmV2ZXJzZTogZmFsc2UsIGJ1ZmZlcjogXCJcIiwgY291bnQ6IDAgfSwgdGV4dDogc2VxdWVuY2VbMF0udGV4dCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKCF0aGlzLmlzTXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMubWVzc2FnZS50ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FpLm1pbGNoY2hhbi5jb20vYXBpL3N5bnRoZXNpemU/dGV4dD1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYXdhaXQgcmVzcG9uc2UuYmxvYigpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgIT09IG51bGwgJiYgdGV4dCA9PT0gdGhpcy5tZXNzYWdlLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXNzYWdlID09PSBudWxsICYmICFpc0FuaW1hdGluZyAmJiAhaXNEZWZvcm1pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWUgKiAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAxLjAgLyB0aGlzLm1lc3NhZ2UudHlwZS5zcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggPD0gd2lkdGggJiYgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgPSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIuc3Vic3RyaW5nKDAsIHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUG9wdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoIDwgdGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQb3B1cCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5lbGFwc2VkID49IDEuMCAvIHRoaXMubWVzc2FnZS50eXBlLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aGlzLm1lc3NhZ2UudGV4dC5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA+PSB3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIgKz0gdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnR5cGUuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UudGltZSArPSBkZWx0YVRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZS50aW1lID49IHRoaXMubWVzc2FnZS5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQubGVuZ3RoID09PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdGhpcy5tZXNzYWdlLnRleHQuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZG9tQnVmZmVyID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVzc2FnZS50ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJBcnJheS5pbmRleE9mKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSkgPT0gLTEgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpICE9IFwiXFxuXCIgJiYgdGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpLm1hdGNoKC9cXHMvKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJBcnJheS5wdXNoKHRoaXMubWVzc2FnZS50ZXh0LmNoYXJBdChpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlLnR5cGUuY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnRleHQuY2hhckF0KGkpID09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbUJ1ZmZlciArPSBcIlxcblwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQnVmZmVyICs9IGNoYXJBcnJheVt+fl9yYW5kb20oMCwgY2hhckFycmF5Lmxlbmd0aCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5kb21CdWZmZXIubGVuZ3RoID4gdGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSAodGhpcy5tZXNzYWdlLnR5cGUuYnVmZmVyICsgcmFuZG9tQnVmZmVyLnN1YnN0cmluZyh0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoLCByYW5kb21CdWZmZXIubGVuZ3RoKSkuc3BsaXQoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zcGxpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQucHVzaCh7IGtleTogaSwgdmFsdWU6IGNoYXJhY3RlcnNbaV0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQubGVuZ3RoICE9PSB0aGlzLm1lc3NhZ2UudHlwZS5idWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IHRoaXMubWVzc2FnZS50eXBlLmJ1ZmZlci5zcGxpdChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKHsga2V5OiBpLCB2YWx1ZTogY2hhcmFjdGVyc1tpXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vbGV0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuY29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnNldFRvcCA9IHRoaXMuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5pbnNldEJvdHRvbSA9IHRoaXMuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLiRyZWZzLnRpY2tlci5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dCAuY29sdW1ucz4uY29sdW1uIC5jb250cm9sOm50aC1sYXN0LW9mLXR5cGUoMSkgLmxldmVsOm50aC1sYXN0LW9mLXR5cGUoMSkgZm9ybVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNoZWFkaW5nPi5jb2x1bW5zPi5jb2x1bW4+LmNvbHVtbnM6Zmlyc3QtY2hpbGQ+LmNvbHVtbj4uY29sdW1uczpsYXN0LWNoaWxkIC5sZXZlbDpmaXJzdC1jaGlsZCAubGV2ZWwtaXRlbSAuZmllbGQgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAvKnRoaXMuJHJlZnMudGlja2VyLnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0IC5jb2x1bW5zPi5jb2x1bW4gLmNvbnRyb2w6bnRoLWxhc3Qtb2YtdHlwZSgxKSAubGV2ZWw6bnRoLWxhc3Qtb2YtdHlwZSgxKSBmb3JtXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwIG9mIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAuY2xpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY2xpcC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyIC5pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrZXJXaWR0aCA9IE1hdGgubWluKHdpZHRoIC8gMiwgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5sZXZlbFwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC50aWNrZXItd3JhcCAudGlja2VyXCIpLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdW50ZWQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hvaWNlKGNvbGxlY3Rpb24sIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmFiaWxpdHkgPSBmdW5jKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtIDw9IHIgJiYgciA8IHN1bSArIHByb2JhYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VtICs9IHByb2JhYmlsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25baW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uc3QgYm90U3RvcmFnZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJvdFwiKTtcclxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbFN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVkZW50aWFsXCIpO1xyXG4gICAgICAgICAgICBsZXQgY3JlZGVudGlhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXJzID0gW3sgcGF0aDogXCIvYXNzZXRzL21pbGNoLmpzb25cIiwgcHJvYmFiaWxpdHk6IDEuMCB9XTtcclxuXHJcbiAgICAgICAgICAgIGlmIChib3RTdG9yYWdlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3QgPSBKU09OLnBhcnNlKGJvdFN0b3JhZ2VJdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTXV0ZWQgPSBib3QubXV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJib3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsU3RvcmFnZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbFN0b3JhZ2VJdGVtKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNyZWRlbnRpYWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy4kcmVmcy50aHJlZS5hZnRlcihzdGF0cy5kb21FbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnNldFRvcCA9IHRoaXMuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5pbnNldEJvdHRvbSA9IHRoaXMuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWljcm9zb2Z0Lk1hcHMuTWFwKHRoaXMuJHJlZnMubWFwLCB7XHJcbiAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IE1pY3Jvc29mdC5NYXBzLk1hcFR5cGVJZC5jYW52YXNMaWdodFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVIaWdoRHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93TG9jYXRlTWVCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd01hcFR5cGVTZWxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzaG93Wm9vbUJ1dHRvbnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd1NjYWxlYmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZE1hcFR5cGVzOiBbTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmdyYXlzY2FsZSwgTWljcm9zb2Z0Lk1hcHMuTWFwVHlwZUlkLmNhbnZhc0xpZ2h0LCBNaWNyb3NvZnQuTWFwcy5NYXBUeXBlSWQuY2FudmFzRGFya11cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVyID0gbmV3IE1pY3Jvc29mdC5NYXBzLkxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLmxheWVycy5pbnNlcnQodGhpcy5sYXllcik7XHJcblxyXG4gICAgICAgICAgICBNaWNyb3NvZnQuTWFwcy5FdmVudHMuYWRkSGFuZGxlcih0aGlzLm1hcCwgJ3ZpZXdjaGFuZ2VlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi51c2VyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjaG9pY2UoY2hhcmFjdGVycywgKHgpID0+IHgucHJvYmFiaWxpdHkpLnBhdGgsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnByb2dyZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSh7IHRleHQ6IGUubWVzc2FnZSwgYWNjZW50OiB0aGlzLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiB0aGlzLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VxdWVuY2VRdWV1ZS5wdXNoKHRoaXMucHJlcGFyZSh0aGlzLmNoYXJhY3Rlci5zZXF1ZW5jZXMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IFwiU3RhcnRcIikpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBcInNpZ24taW5cIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXZlYWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbC5wcm92aWRlcklkID09PSBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlci5QUk9WSURFUl9JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoQ3JlZGVudGlhbChmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKGNyZWRlbnRpYWwuaWRUb2tlbikpLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsKGNyZWRlbnRpYWwuYWNjZXNzVG9rZW4pKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3JlZGVudGlhbC5wcm92aWRlcklkID09PSBmaXJlYmFzZS5hdXRoLlR3aXR0ZXJBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoZmlyZWJhc2UuYXV0aC5Ud2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoY3JlZGVudGlhbC5hY2Nlc3NUb2tlbiwgY3JlZGVudGlhbC5zZWNyZXQpKS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlID0gXCJzaWduLWluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JldmVhbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLypmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubm90aWZ5KHsgdGV4dDogZXJyb3IubWVzc2FnZSwgYWNjZW50OiBzZWxmLmNoYXJhY3Rlci5hY2NlbnQsIGltYWdlOiBzZWxmLmNoYXJhY3Rlci5pbWFnZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluLlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlciA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGRhdGFiYXNlUm9vdCArIFwiL3VzZXJzL1wiICsgdXNlci51aWQgKyBcIi9kaWN0aW9uYXJ5L2NvdW50XCIpLm9uKFwidmFsdWVcIiwgc25hcHNob3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnMgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi91c2Vycy9cIiArIHVzZXIudWlkKS5vcmRlckJ5Q2hpbGQoXCJkaWN0aW9uYXJ5L3dvcmRzL3RpbWVzdGFtcFwiKS5saW1pdFRvTGFzdCgxMCkub24oXCJ2YWx1ZVwiLCBzbmFwc2hvdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIGluIHdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFdvcmRzLnB1c2goeyBuYW1lOiB3b3JkLCB0aW1lc3RhbXA6IHdvcmRzW3dvcmRdLnRpbWVzdGFtcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBzZWxmLnByZXBhcmUoc2VsZi5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIkFsZXJ0XCIpLCAxMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnR5cGUgPT09IFwiTWVzc2FnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB7IG5hbWU6IG9iai50ZXh0LCBpbWFnZTogc2VsZi5jaGFyYWN0ZXIuaW1hZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB0ZW1wV29yZHMuc29ydCgoeCwgeSkgPT4geS50aW1lc3RhbXAgLSB4LnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW2ldLm5hbWUgPT0gd29yZC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlY2VudFdvcmRzW3JlbW92ZUluZGV4XS50aW1lc3RhbXAgPCB3b3JkLnRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQubmFtZSBpbiBzZWxmLndvcmREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRXb3Jkcy5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLm5hbWUgaW4gc2VsZi53b3JkRGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYud29yZERpY3Rpb25hcnlbd29yZC5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VsZi5yZXZlcnNlV29yZERpY3Rpb25hcnkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmV2ZXJzZVdvcmREaWN0aW9uYXJ5W2tleV0ud29yZHMuc29tZSgoeCkgPT4geCA9PT0gd29yZC5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnJldmVyc2VXb3JkRGljdGlvbmFyeVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGluZGV4LCAwLCB3b3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzZWxmLnJlY2VudFdvcmRzLmxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjZW50V29yZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYudXNlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dC5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkICsgXCIvZGljdGlvbmFyeS9jb3VudFwiKS5vZmYoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoZGF0YWJhc2VSb290ICsgXCIvdXNlcnMvXCIgKyBzZWxmLnVzZXIudWlkKS5vZmYoXCJ2YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2RhdGFiYXNlLnJlZihkYXRhYmFzZVJvb3QgKyBcIi93b3Jkc1wiKS5vcmRlckJ5Q2hpbGQoXCJ0aW1lc3RhbXBcIikubGltaXRUb0xhc3QoMTAwKS5vbihcInZhbHVlXCIsIHNuYXBzaG90ID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgIGlmIChzbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGNvbnN0IHdvcmRzID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAvKmxldCBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucmVjZW50SW1hZ2VzLnNvbWUoeCA9PiB4LmlkID09PSBrZXkgJiYgeC50aW1lc3RhbXAgPT09IGltYWdlc1trZXldLnRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRJbWFnZXMuc3BsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzW2tleV1bXCJpZFwiXSA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNlbnRJbWFnZXMucHVzaChpbWFnZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZShzZWxmLnJlY2VudEltYWdlcywgc2VsZi5tYXhUYWdzKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmlzQmxpbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgIC8vfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy50aWNrSW50ZXJ2YWxJRCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tJbnRlcnZhbElEKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHZybU1vZGVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzY2VuZS5yZW1vdmUodnJtTW9kZWwuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdnJtTW9kZWwgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkubW91bnQoXCIjYXBwXCIpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAvL2xldCBjb250YWluZXIgPSBhcHAuJHJlZnMuY29udGFpbmVyO1xyXG5cclxuICAgICAgICBhcHAuaW5zZXRUb3AgPSBhcHAuJHJlZnMuaW5kaWNhdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICBhcHAuaW5zZXRCb3R0b20gPSBhcHAuJHJlZnMuYmxhbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvL2FwcC4kcmVmcy50aWNrZXIuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQgLmNvbHVtbnM+LmNvbHVtbiAuY29udHJvbDpudGgtbGFzdC1vZi10eXBlKDEpIC5sZXZlbDpudGgtbGFzdC1vZi10eXBlKDEpIGZvcm1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICAvKmNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gd2luZG93Lm91dGVySGVpZ2h0O1xyXG4gICAgIFxyXG4gICAgICAgIGJsb29tUGFzcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGZ4YWFTaGFkZXIudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS5zZXQoMSAvICh3aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSwgMSAvIChoZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykpO1xyXG4gICAgIFxyXG4gICAgICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIHJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgXHJcbiAgICAgICAgY2FtZXJhLmFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgXHJcbiAgICAgICAgY29tcG9zZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgY29tcG9zZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsqL1xyXG5cclxuICAgICAgICAvKmFwcC4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNsaXAgb2YgZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiI2lucHV0Pi5jb2x1bW5zOmxhc3Qtb2YtdHlwZT4uY29sdW1uPi5jb250cm9sIC5jbGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjbGlwLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgLnRpY2tlci13cmFwIC50aWNrZXIgLml0ZW1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudGlja2VyV2lkdGggPSBNYXRoLm1pbih3aWR0aCAvIDIsIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIiNpbnB1dD4uY29sdW1uczpsYXN0LW9mLXR5cGU+LmNvbHVtbj4uY29udHJvbCAubGV2ZWxcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaXAucXVlcnlTZWxlY3RvcihcIjpzY29wZSAudGlja2VyLXdyYXAgLnRpY2tlclwiKS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7Ki9cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGFwcC50YWxrKGFwcC51c2VyLnVpZCk7XHJcbiAgICAgICAgYWN0aXZhdGVUaW1lID0gMC4wO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgLyppZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChiZXN0SW50ZXJzZWN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ByaW5nQm9uZUluZGV4ID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZSA9IHsgcG9pbnQ6IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBkaXJlY3Rpb246IHsgeDogMCwgeTogMCwgfSwgZGlzdGFuY2U6IDAsIGluZGV4OiAtMSB9O1xyXG4gICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcHJpbmdCb25lR3JvdXAgb2YgdnJtTW9kZWwuc3ByaW5nQm9uZU1hbmFnZXIuc3ByaW5nQm9uZUdyb3VwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZSBvZiBzcHJpbmdCb25lR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzcHJpbmdCb25lLmJvbmUuZ2V0V29ybGRQb3NpdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5kaXN0YW5jZVRvKGJlc3RJbnRlcnNlY3QucG9pbnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVCb25lLmluZGV4ID0gc3ByaW5nQm9uZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ0JvbmVJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcC5jaGFyYWN0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoU3RhcnRcIiksIGJlc3RJbnRlcnNlY3Qub2JqZWN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0qL1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBldmVudCA9PiB7XHJcblxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIC8qaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaEVuZFwiKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICh0YXBDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRhcENvdW50Kys7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcENvdW50ID0gMDtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8qbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIGxldCBiZXN0SW50ZXJzZWN0ID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgICAgICBtb3VzZS54ID0gKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiAyLjAgLSAxLjA7XHJcbiAgICAgICAgICAgIG1vdXNlLnkgPSAtKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLyB3aW5kb3cub3V0ZXJIZWlnaHQpICogMi4wICsgMS4wO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG1vdXNlLCBjYW1lcmEpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGludGVyc2VjdCBvZiByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QuZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3RJbnRlcnNlY3QgPSBpbnRlcnNlY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBpbnRlcnNlY3QuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoYmVzdEludGVyc2VjdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwcmluZ0JvbmVJbmRleCA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZUJvbmUgPSB7IHBvaW50OiB7IHg6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgfSwgZGlyZWN0aW9uOiB7IHg6IDAsIHk6IDAsIH0sIGRpc3RhbmNlOiAwLCBpbmRleDogLTEgfTtcclxuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQm9uZUdyb3VwIG9mIHZybU1vZGVsLnNwcmluZ0JvbmVNYW5hZ2VyLnNwcmluZ0JvbmVHcm91cExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNwcmluZ0JvbmUgb2Ygc3ByaW5nQm9uZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3ByaW5nQm9uZS5ib25lLmdldFdvcmxkUG9zaXRpb24obmV3IFRIUkVFLlZlY3RvcjMoKSkuZGlzdGFuY2VUbyhiZXN0SW50ZXJzZWN0LnBvaW50KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlQm9uZS5pbmRleCA9IHNwcmluZ0JvbmVJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpbmdCb25lSW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhcHAuY2hhcmFjdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnNlcXVlbmNlUXVldWUucHVzaChhcHAucHJlcGFyZShhcHAuY2hhcmFjdGVyLnNlcXVlbmNlcy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gXCJUb3VjaFN0YXJ0XCIpLCBiZXN0SW50ZXJzZWN0Lm9iamVjdC5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsb29rQW5pbWF0aW9uID0geyB0aW1lOiAwLjAsIGR1cmF0aW9uOiAwLjUsIHNvdXJjZTogeyB4OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgeTogbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnkgfSwgdGFyZ2V0OiB7IHg6IChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gMC41ICogd2luZG93LmlubmVyV2lkdGgpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogMTAuMCwgeTogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSAwLjUgKiB3aW5kb3cub3V0ZXJIZWlnaHQpIC8gd2luZG93Lm91dGVySGVpZ2h0ICogLTEwLjAgfSB9O1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobW91c2UsIGNhbWVyYSk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIChyYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBhcHAudGFsayhhcHAudXNlci51aWQpO1xyXG4gICAgICAgICAgICBhY3RpdmF0ZVRpbWUgPSAwLjA7XHJcbiAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgdGFwQ291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAvL2xvb2tBbmltYXRpb24gPSB7IHRpbWU6IDAuMCwgZHVyYXRpb246IDAuNSwgc291cmNlOiB7IHg6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi54LCB5OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueSB9LCB0YXJnZXQ6IHsgeDogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSAwLjUgKiB3aW5kb3cuaW5uZXJXaWR0aCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAxMC4wLCB5OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIDAuNSAqIHdpbmRvdy5vdXRlckhlaWdodCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAtMTAuMCB9IH07XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAvKmxvb2tBbmltYXRpb24gPSB7IHRpbWU6IDAuMCwgZHVyYXRpb246IDAuNSwgc291cmNlOiB7IHg6IGxvb2tBdFRhcmdldC5wb3NpdGlvbi54LCB5OiBsb29rQXRUYXJnZXQucG9zaXRpb24ueSB9LCB0YXJnZXQ6IHsgeDogKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSAwLjUgKiB3aW5kb3cuaW5uZXJXaWR0aCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAxMC4wLCB5OiAoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIDAuNSAqIHdpbmRvdy5vdXRlckhlaWdodCkgLyB3aW5kb3cub3V0ZXJIZWlnaHQgKiAtMTAuMCB9IH07XHJcbiAgICBcclxuICAgICAgICBpZiAoYXBwLmNoYXJhY3RlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBhcHAuc2VxdWVuY2VRdWV1ZS5wdXNoKGFwcC5wcmVwYXJlKGFwcC5jaGFyYWN0ZXIuc2VxdWVuY2VzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBcIlRvdWNoRW5kXCIpKSk7XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBlID0+IHtcclxuICAgICAgICBpZiAoZS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGFwcC5pc0RhcmtNb2RlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuaXNEYXJrTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsiXSwic291cmNlUm9vdCI6IiJ9